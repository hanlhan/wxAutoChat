<body class="typora-export">
# 深度学习中的最优化问题

1. 深度学习中最优化问题很重要，代价也很高，因此需要开发一组专门的优化技术。

2. 在深度学习领域，即使在数据集和模型结构完全相同的情况下，选择不同的优化算法可能导致截然不同的训练效果。

甚至相同的优化算法，但是选择了不同的参数初始化策略，也可能会导致不同的训练结果。


## 一、代价函数

### 1.1 经验风险最小化

1. 机器学习通常是间接的，需要优化的是测试集上的某个性能度量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 751 808.1" width="1.744ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E78-MJMATHI-50" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E78-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-77" type="math/tex">P</script>。这个度量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 751 808.1" width="1.744ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E78-MJMATHI-50" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E78-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-77" type="math/tex">P</script>通常很难直接求解，甚至难以直接建模优化。如：在图像目标检测问题中，常见的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 751 808.1" width="1.744ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E78-MJMATHI-50" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E78-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-77" type="math/tex">P</script>就是`mAP:mean average precision` 。<br></br>

普遍的做法是：希望通过降低代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-356-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1965.3 1361" width="4.565ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E357-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E357-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E357-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E357-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E357-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E357-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E357-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E357-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E357-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E357-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-356" type="math/tex">J(\vec\theta)</script>来提高<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 751 808.1" width="1.744ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E78-MJMATHI-50" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E78-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-77" type="math/tex">P</script>。这不同于纯粹的最小化<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>本身，因为最终目标是提高<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 751 808.1" width="1.744ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E78-MJMATHI-50" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E78-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-77" type="math/tex">P</script>。

当代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-356-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1965.3 1361" width="4.565ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E357-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E357-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E357-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E357-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E357-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E357-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E357-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E357-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E357-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E357-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-356" type="math/tex">J(\vec\theta)</script>最小时是否<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 751 808.1" width="1.744ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E78-MJMATHI-50" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E78-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-77" type="math/tex">P</script>最大？这一结论是未知的。

2. 实际任务中，可以采用训练集上的损失函数均值作为代价函数：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1842-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.13ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1811.3 23332 3069.8" width="54.191ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2009-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2009-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2009-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2009-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2009-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2009-MJMAIN-3D" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E2009-MJAMS-45" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2009-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2009-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2009-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2009-MJMATHI-79" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2009-MJMAIN-223C" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E2009-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2009-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E2009-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2009-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2009-MJMATHI-74" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2009-MJMATHI-4C" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2009-MJMATHI-66" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2009-MJMAIN-3B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2009-MJMAIN-31" stroke-width="0"></path><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" id="E2009-MJMATHI-4E" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2009-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2009-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2009-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E2009-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E2009-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2009-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E2009-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2243" xlink:href="#E2009-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3298,0)"><use x="0" xlink:href="#E2009-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E2009-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2009-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2009-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2009-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2009-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2009-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2160" xlink:href="#E2009-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2077,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2009-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="119" xlink:href="#E2009-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="18"></use><g transform="translate(437,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E2009-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E2009-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E2009-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E2009-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="7622" xlink:href="#E2009-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8303" xlink:href="#E2009-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8692" xlink:href="#E2009-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9242" xlink:href="#E2009-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9631,0)"><use x="0" xlink:href="#E2009-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2009-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="10238" xlink:href="#E2009-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10683,0)"><use x="1" xlink:href="#E2009-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2009-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="11237" xlink:href="#E2009-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11626" xlink:href="#E2009-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12071" xlink:href="#E2009-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12568" xlink:href="#E2009-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13235" xlink:href="#E2009-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14013,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1008" x="0" y="220"></rect><use x="254" xlink:href="#E2009-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2009-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(15705,0)"><use x="0" xlink:href="#E2009-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2009-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2009-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2009-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2009-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="17316" xlink:href="#E2009-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17997" xlink:href="#E2009-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18386" xlink:href="#E2009-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18936" xlink:href="#E2009-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19325,0)"><use x="0" xlink:href="#E2009-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2009-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2009-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="20276" xlink:href="#E2009-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(20721,0)"><use x="1" xlink:href="#E2009-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2009-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="21275" xlink:href="#E2009-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="21664" xlink:href="#E2009-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22109,0)"><use x="0" xlink:href="#E2009-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2009-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="22943" xlink:href="#E2009-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1842" type="math/tex; mode=display">J(\vec\theta)=\mathbb E_{(\mathbf{\vec x},y)\sim \hat p_{data}} L(f(\mathbf{\vec x};\vec\theta),y)=\frac 1N\sum_{i=1}^{N}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
其中：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-78-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 681 858.4" width="1.582ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E79-MJMATHI-4C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E79-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-78" type="math/tex">L</script>为每个样本的损失函数，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-79-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 2934 1361" width="6.814ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E80-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E80-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E80-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E80-MJMAINB-20D7" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E80-MJMAIN-3B" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E80-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E80-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E80-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E80-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E80-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E80-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E80-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1546" xlink:href="#E80-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1990,0)"><use x="1" xlink:href="#E80-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E80-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2544" xlink:href="#E80-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-79" type="math/tex">f(\mathbf{\vec x};\vec\theta)</script>为对输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-412-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -806.1 607 858.4" width="1.41ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E413-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E413-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E413-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E413-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></svg></span><script id="MathJax-Element-412" type="math/tex">\mathbf{\vec x}</script>的预测输出，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-89-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex; margin-left: -0.091ex;" viewbox="-39 -755.9 2097 1059.4" width="4.87ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E90-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E90-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E90-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E90-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E90-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E90-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="84" xlink:href="#E90-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><g transform="translate(584,-230)"><use transform="scale(0.707)" x="0" xlink:href="#E90-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E90-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-89" type="math/tex">\hat p_{data}</script>是经验分布，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-82-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 497 808.1" width="1.154ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E83-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E83-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-82" type="math/tex">y</script>为标记信息。

3. 理论上，代价函数中的期望最好取自真实的数据生成分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-165-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex; margin-left: -0.091ex;" viewbox="-39 -504.6 2015.2 757.9" width="4.68ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E166-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E166-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E166-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E166-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E166-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E166-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E166-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-165" type="math/tex">p_{data}</script>，而不是有限个训练集上对应的经验分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-89-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex; margin-left: -0.091ex;" viewbox="-39 -755.9 2097 1059.4" width="4.87ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E90-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E90-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E90-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E90-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E90-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E90-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="84" xlink:href="#E90-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><g transform="translate(584,-230)"><use transform="scale(0.707)" x="0" xlink:href="#E90-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E90-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-89" type="math/tex">\hat p_{data}</script>。即：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-85-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 13352.4 1511.8" width="31.012ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E86-MJMATHI-4A" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E86-MJMAIN-2217" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E86-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E86-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E86-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E86-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E86-MJMAIN-3D" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E86-MJAMS-45" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E86-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E86-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E86-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E86-MJMATHI-79" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E86-MJMAIN-223C" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E86-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E86-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E86-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E86-MJMATHI-74" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E86-MJMATHI-4C" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E86-MJMATHI-66" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E86-MJMAIN-3B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E86-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="928" xlink:href="#E86-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use><use x="1110" xlink:href="#E86-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1499,0)"><use x="1" xlink:href="#E86-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E86-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2053" xlink:href="#E86-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2720" xlink:href="#E86-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3775,0)"><use x="0" xlink:href="#E86-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E86-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E86-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E86-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E86-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E86-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E86-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2160" xlink:href="#E86-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2077,0)"><use transform="scale(0.707)" x="0" xlink:href="#E86-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(355,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E86-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E86-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E86-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E86-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="8017" xlink:href="#E86-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8698" xlink:href="#E86-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9087" xlink:href="#E86-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9637" xlink:href="#E86-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10026,0)"><use x="0" xlink:href="#E86-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E86-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="10633" xlink:href="#E86-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11078,0)"><use x="1" xlink:href="#E86-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E86-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="11632" xlink:href="#E86-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12021" xlink:href="#E86-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12466" xlink:href="#E86-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12963" xlink:href="#E86-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-85" type="math/tex">J^{*}(\vec\theta)=\mathbb E_{(\mathbf{\vec x},y)\sim p_{data}} L(f(\mathbf{\vec x};\vec\theta),y)</script>，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-86-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 2442.3 1361" width="5.672ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E87-MJMATHI-4A" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E87-MJMAIN-2217" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E87-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E87-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E87-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E87-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E87-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="928" xlink:href="#E87-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use><use x="1110" xlink:href="#E87-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1499,0)"><use x="1" xlink:href="#E87-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E87-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2053" xlink:href="#E87-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-86" type="math/tex">J^{*}(\vec\theta)</script>称作泛化误差。

问题是对于绝大多数问题，样本的真实分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-165-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex; margin-left: -0.091ex;" viewbox="-39 -504.6 2015.2 757.9" width="4.68ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E166-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E166-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E166-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E166-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E166-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E166-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E166-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-165" type="math/tex">p_{data}</script>是未知的，仅能提供训练集中的样本的分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-89-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex; margin-left: -0.091ex;" viewbox="-39 -755.9 2097 1059.4" width="4.87ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E90-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E90-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E90-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E90-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E90-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E90-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="84" xlink:href="#E90-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><g transform="translate(584,-230)"><use transform="scale(0.707)" x="0" xlink:href="#E90-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E90-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-89" type="math/tex">\hat p_{data}</script>。

实际应用中，使用经验分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-89-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex; margin-left: -0.091ex;" viewbox="-39 -755.9 2097 1059.4" width="4.87ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E90-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E90-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E90-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E90-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E90-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E90-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="84" xlink:href="#E90-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><g transform="translate(584,-230)"><use transform="scale(0.707)" x="0" xlink:href="#E90-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E90-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E90-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-89" type="math/tex">\hat p_{data}</script>来代替真实分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-165-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex; margin-left: -0.091ex;" viewbox="-39 -504.6 2015.2 757.9" width="4.68ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E166-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E166-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E166-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E166-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E166-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E166-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E166-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-165" type="math/tex">p_{data}</script>。这就是为什么使用<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-356-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1965.3 1361" width="4.565ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E357-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E357-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E357-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E357-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E357-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E357-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E357-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E357-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E357-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E357-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-356" type="math/tex">J(\vec\theta)</script>作为代价函数的原因。

4. 最小化训练集上的期望损失称作最小化经验风险`empirical risk` 。其缺点是：

    * 很容易过拟合 。

    * 某些类型的损失函数没有导数，无法使用基于梯度下降的优化算法来优化。

    如 ：`0-1` 损失函数，导数要么为零，要么没有定义。



### 1.2 替代损失函数

1. 有时候真正的代价函数无法有效优化，此时可以考虑使用`替代损失函数` 来代替真实的损失函数。

如：将正类的负对数似然函数作为 `0-1` 损失函数的替代。

2. 一般的优化和机器学习优化的一个重要不同：机器学习算法通常并不收敛于代价函数的局部极小值。因为：

    * 机器学习算法通常使用`替代损失函数`。

    算法终止时，可能出现：采用 `替代损失函数`的代价函数的导数较小，而采用真实损失函数的代价函数的导数仍然较大（相比较于0值）。

    * 机器学习算法可能会基于早停策略而提前终止。

    早停发生时，可能出现：训练集上的代价函数的导数值仍然较大（相比较于0值）。

    因为早停的规则是基于验证集上代价函数的值不再下降，它并不关心训练集上代价函数的导数值。



## 二、神经网络最优化挑战

1. 机器学习中，通常会仔细设计目标函数和约束，从而保证最优化问题是凸的。但是神经网络中，通常遇到的都是非凸的最优化问题。

### 2.1 病态黑塞矩阵

1. 病态`ill-conditioning` 的黑塞矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>是凸优化或者其他形式优化中普遍存在的问题。

    * 在神经网络训练过程中，如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>是病态的，则随机梯度下降会“卡”在某些地方：此时即使很小的更新步长也会增加代价函数。
    * 当黑塞矩阵是病态时，牛顿法是一个很好的解决方案。但是牛顿法并不适用于神经网络，需要对它进行较大改动才能用于神经网络。

2. 将<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-486-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1935 1109.7" width="4.494ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E487-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E487-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E487-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E487-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E487-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E487-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E487-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E487-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E487-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1546" xlink:href="#E487-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-486" type="math/tex">f(\mathbf{\vec x})</script>在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-102-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1060.6 1059.4" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E103-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E103-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E103-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E103-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E103-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E103-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-102" type="math/tex">\mathbf{\vec x}_0</script>处泰勒展开：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-96-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -956.9 22490.2 1411.3" width="52.235ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E97-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E97-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E97-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E97-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E97-MJMAIN-29" stroke-width="0"></path><path d="M55 319Q55 360 72 393T114 444T163 472T205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346Q609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452Q722 386 675 338T555 289Q514 289 468 310T388 357T308 404T224 426Q164 426 125 393T83 318Q81 289 69 289Q55 289 55 319ZM55 85Q55 126 72 159T114 210T163 238T205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112Q609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123T308 170T224 192Q164 192 125 159T83 84Q80 55 69 55Q55 55 55 85Z" id="E97-MJMAIN-2248" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E97-MJMAIN-30" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E97-MJMAIN-2B" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E97-MJMAIN-2212" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E97-MJMATHI-54" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E97-MJMAINB-67" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E97-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E97-MJMAIN-32" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E97-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E97-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E97-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1546" xlink:href="#E97-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2212" xlink:href="#E97-MJMAIN-2248" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3268" xlink:href="#E97-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3818" xlink:href="#E97-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4207,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E97-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5268" xlink:href="#E97-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5879" xlink:href="#E97-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6879" xlink:href="#E97-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7268,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="8097" xlink:href="#E97-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9097,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E97-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(10158,0)"><use x="0" xlink:href="#E97-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E97-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(11145,0)"><use x="0" xlink:href="#E97-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="11942" xlink:href="#E97-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12720,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="473" x="0" y="220"></rect><use transform="scale(0.707)" x="84" xlink:href="#E97-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E97-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-531"></use></g></g><use x="13656" xlink:href="#E97-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14045,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="14874" xlink:href="#E97-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15874,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E97-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(16935,0)"><use x="0" xlink:href="#E97-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E97-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="17922" xlink:href="#E97-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18822" xlink:href="#E97-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19211,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="20040" xlink:href="#E97-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(21040,0)"><use x="0" xlink:href="#E97-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E97-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E97-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="22101" xlink:href="#E97-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-96" type="math/tex">f(\mathbf{\vec x}) \approx f(\mathbf{\vec x}_0)+(\mathbf{\vec x}-\mathbf{\vec x}_0 )^{T}\mathbf{\vec g}+\frac 12(\mathbf{\vec x}-\mathbf{\vec x}_0)^{T}\mathbf H (\mathbf{\vec x}-\mathbf{\vec x}_0)</script>。其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-224-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 575 1059.4" width="1.335ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E225-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E225-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E225-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E225-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></svg></span><script id="MathJax-Element-224" type="math/tex">\mathbf{\vec g}</script>为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-102-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1060.6 1059.4" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E103-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E103-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E103-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E103-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E103-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E103-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-102" type="math/tex">\mathbf{\vec x}_0</script>处的梯度；<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-102-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1060.6 1059.4" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E103-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E103-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E103-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E103-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E103-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E103-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-102" type="math/tex">\mathbf{\vec x}_0</script>处的海森矩阵。

根据梯度下降法：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-101-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 7767.7 1210.2" width="18.041ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E102-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E102-MJMAINB-20D7" stroke-width="0"></path><path d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" id="E102-MJMAIN-2032" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E102-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E102-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E102-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E102-MJMAIN-2207" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E102-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E102-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E102-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E102-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E102-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E102-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><use x="1179" xlink:href="#E102-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2235,0)"><use x="0" xlink:href="#E102-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E102-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3064" xlink:href="#E102-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4064" xlink:href="#E102-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4470,0)"><use x="0" xlink:href="#E102-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E102-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E102-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g></g><use x="5832" xlink:href="#E102-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6382" xlink:href="#E102-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6771,0)"><use x="0" xlink:href="#E102-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E102-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7378" xlink:href="#E102-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-101" type="math/tex">\mathbf{\vec x}^{\prime}= \mathbf{\vec x}-\epsilon\nabla _{\mathbf{\vec x}} f(\mathbf{\vec x})</script>。应用在点<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-102-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1060.6 1059.4" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E103-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E103-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E103-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E103-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E103-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E103-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-102" type="math/tex">\mathbf{\vec x}_0</script>，有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1843-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.029ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1409.3 17280.2 2165.1" width="40.135ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2010-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2010-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2010-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2010-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2010-MJMAIN-30" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2010-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2010-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2010-MJMAINB-67" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2010-MJMAIN-29" stroke-width="0"></path><path d="M55 319Q55 360 72 393T114 444T163 472T205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346Q609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452Q722 386 675 338T555 289Q514 289 468 310T388 357T308 404T224 426Q164 426 125 393T83 318Q81 289 69 289Q55 289 55 319ZM55 85Q55 126 72 159T114 210T163 238T205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112Q609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123T308 170T224 192Q164 192 125 159T83 84Q80 55 69 55Q55 55 55 85Z" id="E2010-MJMAIN-2248" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2010-MJMATHI-54" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2010-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2010-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2010-MJMAIN-32" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E2010-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2010-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E2010-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E2010-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2010-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2221" xlink:href="#E2010-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3221" xlink:href="#E2010-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3627,0)"><use x="0" xlink:href="#E2010-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="4202" xlink:href="#E2010-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4869" xlink:href="#E2010-MJMAIN-2248" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5925" xlink:href="#E2010-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6475" xlink:href="#E2010-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6864,0)"><use x="0" xlink:href="#E2010-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2010-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="7925" xlink:href="#E2010-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8536" xlink:href="#E2010-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9536" xlink:href="#E2010-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9942,0)"><use x="0" xlink:href="#E2010-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2010-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><g transform="translate(11115,0)"><use x="0" xlink:href="#E2010-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="11912" xlink:href="#E2010-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12690,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2010-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2010-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(13772,0)"><use x="0" xlink:href="#E2010-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2010-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><g transform="translate(14632,0)"><use x="0" xlink:href="#E2010-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2010-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><use x="15805" xlink:href="#E2010-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16705,0)"><use x="0" xlink:href="#E2010-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2010-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span></span><script id="MathJax-Element-1843" type="math/tex; mode=display">f(\mathbf{\vec x}_0-\epsilon\mathbf{\vec g})\approx f(\mathbf{\vec x}_0)-\epsilon\mathbf{\vec g}^{T}\mathbf{\vec g}+\frac 12\epsilon^{2}\mathbf{\vec g}^{T}\mathbf H \mathbf{\vec g}</script>
因此沿着负梯度的方向，步长<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-103-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1759 1059.4" width="4.085ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E104-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E104-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E104-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E104-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E104-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E104-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1184,0)"><use x="0" xlink:href="#E104-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E104-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-103" type="math/tex">-\epsilon\mathbf{\vec g}</script>将导致代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-113-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 550 1109.7" width="1.277ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E114-MJMATHI-66" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E114-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-113" type="math/tex">f</script>增加：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-105-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1007.2 8375.2 1461.5" width="19.452ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E106-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E106-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E106-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E106-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E106-MJMATHI-54" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E106-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E106-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E106-MJMAIN-32" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E106-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E106-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E106-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1184,0)"><use x="0" xlink:href="#E106-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E106-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E106-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><g transform="translate(2356,0)"><use x="0" xlink:href="#E106-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E106-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="3154" xlink:href="#E106-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3932,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="473" x="0" y="220"></rect><use transform="scale(0.707)" x="84" xlink:href="#E106-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E106-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-531"></use></g></g><g transform="translate(4867,0)"><use x="0" xlink:href="#E106-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E106-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(5727,0)"><use x="0" xlink:href="#E106-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E106-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E106-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><use x="6900" xlink:href="#E106-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7800,0)"><use x="0" xlink:href="#E106-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E106-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-105" type="math/tex">-\epsilon\mathbf{\vec g}^{T}\mathbf{\vec g}+\frac 12\epsilon^{2}\mathbf{\vec g}^{T}\mathbf H \mathbf{\vec g}</script>。

当<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-106-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1007.2 6442.7 1461.5" width="14.964ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E107-MJMATHI-3F5" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E107-MJMAIN-32" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E107-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E107-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E107-MJMATHI-54" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E107-MJMAINB-48" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E107-MJMAIN-3E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="473" x="0" y="220"></rect><use transform="scale(0.707)" x="131" xlink:href="#E107-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><use transform="scale(0.707)" x="84" xlink:href="#E107-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-531"></use></g><g transform="translate(713,0)"><use x="0" xlink:href="#E107-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E107-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E107-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><use x="1886" xlink:href="#E107-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2786,0)"><use x="0" xlink:href="#E107-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E107-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="3639" xlink:href="#E107-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4694,0)"><use x="0" xlink:href="#E107-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E107-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E107-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><g transform="translate(5867,0)"><use x="0" xlink:href="#E107-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E107-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-106" type="math/tex">\frac \epsilon 2 \mathbf{\vec g}^{T}\mathbf H \mathbf{\vec g} \gt \mathbf{\vec g}^{T}\mathbf{\vec g}</script>时，黑塞矩阵的病态会成为问题。此时沿着负梯度的方向，代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-113-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 550 1109.7" width="1.277ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E114-MJMATHI-66" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E114-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-113" type="math/tex">f</script>的值反而在增长！

3. 理论上，随着训练的推进，梯度的平方范数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-112-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 1747.8 1260.5" width="4.059ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E113-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E113-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E113-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E113-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E113-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E113-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><g transform="translate(1172,0)"><use x="0" xlink:href="#E113-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E113-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-112" type="math/tex">\mathbf{\vec g}^{T}\mathbf{\vec g}</script>应该逐步降低并最终收敛到 0 。因为代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-113-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 550 1109.7" width="1.277ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E114-MJMATHI-66" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E114-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-113" type="math/tex">f</script>取极小值时，梯度为 0 。

实际上在很多问题中，梯度的平方范数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-112-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 1747.8 1260.5" width="4.059ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E113-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E113-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E113-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E113-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E113-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E113-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><g transform="translate(1172,0)"><use x="0" xlink:href="#E113-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E113-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-112" type="math/tex">\mathbf{\vec g}^{T}\mathbf{\vec g}</script>并不会在训练过程中显著缩小，而是随着时间的延长在增加，且并不随着训练过程收敛到临界点而减小。

下面左图为梯度的范数随着时间的变化，右图为验证集上的分类误差随着时间的变化。

![](../imgs/dl_optimization/ill_condition.png)

这是因为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-111-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 2647.8 1260.5" width="6.15ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E112-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E112-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E112-MJMATHI-54" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E112-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E112-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E112-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E112-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><use x="1172" xlink:href="#E112-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2072,0)"><use x="0" xlink:href="#E112-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E112-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-111" type="math/tex">\mathbf{\vec g}^{T}\mathbf H\mathbf{\vec g}</script>会更快速的增长（相对于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-112-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 1747.8 1260.5" width="4.059ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E113-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E113-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E113-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E113-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E113-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E113-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><g transform="translate(1172,0)"><use x="0" xlink:href="#E113-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E113-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-112" type="math/tex">\mathbf{\vec g}^{T}\mathbf{\vec g}</script>） 。它带来两个结果：

    * 尽管梯度很强，但是训练却可以成功，因为它使得代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-113-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 550 1109.7" width="1.277ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E114-MJMATHI-66" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E114-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-113" type="math/tex">f</script>的增量不断逼近0（增量为0表示到达极值点）。
    * 尽管梯度很强，但是学习会变得非常缓慢，因为学习率必须减小从而适应更强的曲率。


### 2.2 局部极小值

1. 对于非凸函数，如神经网络，可能存在多个局部极小值。实际上这并不是一个严重的问题。

2. 如果一个训练集可以唯一确定一组模型参数，则该模型称作可辨认的`identifiable` 。

    * 带有隐变量的模型通常是不可辨认的。因为可以批量交换隐变量，从而得到等价的模型。如：交换隐单元<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-114-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E115-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E115-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-114" type="math/tex">i</script>和<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-115-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex; margin-left: -0.028ex;" viewbox="-12 -755.9 424 1059.4" width="0.985ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E116-MJMATHI-6A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E116-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-115" type="math/tex">j</script>的权重向量。

    这种不可辨认性称作权重空间对称性`weight space symmetry` 。

    * 也可以放大权重和偏置<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>倍，然后缩小输出<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-117-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -956.9 812.5 1411.3" width="1.887ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E118-MJMAIN-31" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E118-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="572" x="0" y="220"></rect><use transform="scale(0.707)" x="154" xlink:href="#E118-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E118-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g></svg></span><script id="MathJax-Element-117" type="math/tex">\frac 1\alpha</script>倍，从而保持模型等价。

    * 模型可辨认性问题意味着：神经网络的代价函数具有非常多、甚至是无限多的局部极小解。

    * 由可辨认性问题产生的局部极小解都具有相同的代价函数值，它并不是代价函数非凸性带来的问题。


3. 如果局部极小解和全局极小解相差很大时，此时多个局部极小解会带来很大隐患。它将给基于梯度的优化算法带来很大的问题。

    * 实际中的网络，是否存在大量严重偏离全局极小解的局部极小解、优化算法是否会遇到这些局部极小解？

    这些都是未决的问题。

    * 目前学者们猜想：对于足够大的神经网络，大部分局部极小值都具有很小的代价函数值。

    是否找到全局极小值并不重要，实际上只需要在参数空间中找到一个使得损失函数很小的点。


4. 目前很多人将神经网络优化中的所有困难都归结于局部极小值。

有一种方案是排除局部极小值导致的困难（说明是其他原因导致的困难）：绘制梯度范数随着时间的变化：

    * 如果梯度范数没有缩小到一个很小的值，则问题的原因既不是局部极小值引起的，也不是其他形式的临界点（比如鞍点）引起的。
    * 如果梯度范数缩小到一个很小的值，则问题的原因可能是局部极小值引起的，也可能是其他原因引起的。

5. 神经网络训练中，通常不关注代价函数的精确全局极小值，而是关心将代价函数值下降到足够小，从而获得一个很好的泛化误差。

关于优化算法能否到达这个目标的理论分析是极其困难的。


### 2.3 鞍点

1. 鞍点是另一类梯度为零的点。鞍点附近的某些点的函数值比鞍点处的值更大，鞍点附近的另一些点的函数值比鞍点处的值更小。

2. 在鞍点处，黑塞矩阵同时具有正负特征值：

    * 正特征值对应的特征向量方向的点，具有比鞍点更大的值。
    * 负特征值对应的特征向量方向的点，具有比鞍点更小的值。

3. 通常在低维空间中，局部极小值很普遍；在高维空间中，局部极小值很少见，鞍点更常见。

    * 对于函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-118-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 4907.4 1109.7" width="11.398ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E119-MJMATHI-66" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" id="E119-MJMAIN-3A" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E119-MJAMS-52" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E119-MJMATHI-6E" stroke-width="0"></path><path d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" id="E119-MJMAIN-2192" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E119-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="827" xlink:href="#E119-MJMAIN-3A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1383,0)"><use x="0" xlink:href="#E119-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1021" xlink:href="#E119-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g><use x="2907" xlink:href="#E119-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4185" xlink:href="#E119-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-118" type="math/tex">f:\mathbb R^{n}\rightarrow \mathbb R</script>，鞍点和局部极小值的数量之比的期望随着<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>呈指数级增长。

    * 假如黑塞矩阵的特征值的正负号由抛硬币来决定的话：

        * 在一维情况下，很容易抛硬币得到正面向上。
        * 而在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>维中，很难出现<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>次抛硬币都是正面向上。


4. 当位于函数值较低的区间时，黑塞矩阵的特征值为正的可能性更大。这意味着：

    * 具有较大函数值的临界点更可能是鞍点，因为此时黑塞矩阵的特征值可能既存在正值、也存在负值。
    * 具有较小函数值的临界点更可能是局部极小值点，因为此时黑塞矩阵的特征值更可能全部为正值。
    * 具有极高函数值的临界点更可能是局部极大值点，因为此时黑塞矩阵的特征值更可能全部为负值。

5. 鞍点对于训练算法的影响：

    * 对于只使用了梯度的一阶优化算法而言：情况不明。

        * 理论上，鞍点附近的梯度通常会非常小，这导致梯度下降算法沿着梯度方向的步长非常小。
        * 实际上，梯度下降算法似乎在很多情况下都能够逃离鞍点。

    * 对于牛顿法而言，鞍点是个大问题。

    因为梯度下降的原则是：朝着下坡路的方向移动。而牛顿法的原则是：明确寻找梯度为零的点。如果不做任何修改，则牛顿法会主动跳入一个鞍点。


6. 也可能出现一个恒值的、平坦的宽区域：在这个区域中，梯度和黑塞矩阵都为零。


### 2.4 悬崖

1. 多层神经网络通常有像悬崖一样的区域，悬崖是指代价函数斜率较大的区域。

2. 产生悬崖的原因：由于几个较大的权重相乘，导致求导的时候，其梯度异常巨大。

在`RNN`网络的代价函数中悬崖结构很常见，因为`RNN` 这一类模型会涉及到多个时间步长中的因子的相乘，导致产生了大量的权重相乘。

3. 悬崖的影响：在梯度更新时，如果遇到悬崖，则会导致参数更新的步长非常大（因为此时梯度非常大），从而跨了非常大的一步，使得参数弹射的非常远。这样可能会使得已经完成的大量优化工作无效。

因为当弹射非常远时，可能横跨了参数空间的很多个区域而进入到另一个区域。这样已经探索的参数区域就被放弃了。

下图是一个悬崖的例子：第二根路径就是由于遇到悬崖，导致参数更新的步长非常大。

![](../imgs/dl_optimization/explode.png)

4. 解决悬崖问题的方案：使用梯度截断策略。

梯度下降法只是指明了参数更新的方向（负梯度的方向），但是未指明最佳步长。当常规的梯度下降算法建议更新一大步时，梯度截断会干涉并缩减步长，从而使其基本上贴着悬崖来更新。如上图的第一根路径所示。


### 2.5 长期依赖

1. 当计算图非常深时，容易产生另一种优化困难：长期依赖。

假设计算图中包含一条重复地、与矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>相乘的路径。经过<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-507-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -705.6 361 808.1" width="0.838ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E508-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E508-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-507" type="math/tex">t</script>步，则相当于与<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-124-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 1544.3 1059.4" width="3.587ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E125-MJMAINB-57" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E125-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E125-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1681" xlink:href="#E125-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="584"></use></g></svg></span><script id="MathJax-Element-124" type="math/tex">\mathbf W^{t}</script>相乘。在第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>步有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-126-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 5649.1 1310.7" width="13.121ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E127-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E127-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E127-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E127-MJMAIN-3D" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E127-MJMAINB-57" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E127-MJMAIN-2212" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E127-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E127-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E127-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E127-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1272" xlink:href="#E127-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2327,0)"><use x="0" xlink:href="#E127-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E127-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E127-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E127-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(4666,0)"><use x="0" xlink:href="#E127-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E127-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E127-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-126" type="math/tex">\mathbf{\vec h}_t = \mathbf W^{t-i}\mathbf{\vec h}_i</script>。

根据反向传播原理，有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-127-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.379ex" role="img" style="vertical-align: -1.872ex;" viewbox="0 -1509.8 16436.2 2315.9" width="38.175ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E128-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E128-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E128-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E128-MJMATHI-69" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E128-MJMATHI-4A" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E128-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E128-MJMAIN-28" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E128-MJMAIN-2202" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E128-MJMATHI-74" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E128-MJMAIN-29" stroke-width="0"></path><path d="M180 96T180 250T205 541T266 770T353 944T444 1069T527 1150H555Q561 1144 561 1141Q561 1137 545 1120T504 1072T447 995T386 878T330 721T288 513T272 251Q272 133 280 56Q293 -87 326 -209T399 -405T475 -531T536 -609T561 -640Q561 -643 555 -649H527Q483 -612 443 -568T353 -443T266 -270T205 -41Z" id="E128-MJSZ2-28" stroke-width="0"></path><path d="M35 1138Q35 1150 51 1150H56H69Q113 1113 153 1069T243 944T330 771T391 541T416 250T391 -40T330 -270T243 -443T152 -568T69 -649H56Q43 -649 39 -647T35 -637Q65 -607 110 -548Q283 -316 316 56Q324 133 324 251Q324 368 316 445Q278 877 48 1123Q36 1137 35 1138Z" id="E128-MJSZ2-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E128-MJMATHI-54" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E128-MJMAINB-57" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E128-MJMAIN-2212" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E128-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E128-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E128-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1628" xlink:href="#E128-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2538" xlink:href="#E128-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3594,0)"><use xlink:href="#E128-MJSZ2-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(597,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1223" x="0" y="220"></rect><g transform="translate(60,515)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E128-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E128-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(64,-619)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E128-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E128-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="2060" xlink:href="#E128-MJSZ2-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use><use transform="scale(0.707)" x="3758" xlink:href="#E128-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="1353"></use></g><g transform="translate(6850,0)"><use x="0" xlink:href="#E128-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E128-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E128-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><use x="8486" xlink:href="#E128-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9397" xlink:href="#E128-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10452" xlink:href="#E128-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10841,0)"><use x="0" xlink:href="#E128-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E128-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E128-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(13180,0)"><use x="0" xlink:href="#E128-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E128-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(14167,0)"><use x="0" xlink:href="#E128-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E128-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E128-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E128-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><use x="15803" xlink:href="#E128-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-127" type="math/tex">\nabla_{\mathbf{\vec h}_i} J = \left(\frac{\partial \mathbf{\vec h}_t}{\partial \mathbf{\vec h}_i}\right)^T\nabla_{\mathbf{\vec h}_t} J =( \mathbf W^{t-i})^T \nabla_{\mathbf{\vec h}_t} J</script>。

考虑到权重<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>参与到每个时间步的计算，因此有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-129-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.795ex" role="img" style="vertical-align: -1.872ex;" viewbox="0 -1258.5 21205.2 2064.6" width="49.251ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E130-MJMAIN-2207" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E130-MJMAINB-57" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E130-MJMAIN-3D" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E130-MJSZ1-2211" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E130-MJMATHI-74" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E130-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E130-MJMAIN-31" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E130-MJMAIN-2202" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E130-MJMATHI-4A" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E130-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E130-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E130-MJMATHI-54" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E130-MJMAIN-2212" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E130-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E130-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E130-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1178" xlink:href="#E130-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="2051" xlink:href="#E130-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3107,0)"><use x="0" xlink:href="#E130-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E130-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E130-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E130-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(5410,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="1215" x="0" y="220"></rect><g transform="translate(183,419)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="567" xlink:href="#E130-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-619)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E130-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E130-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><g transform="translate(7033,0)"><use x="0" xlink:href="#E130-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E130-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E130-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><g transform="translate(639,-248)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E130-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E130-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9198" xlink:href="#E130-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10253,0)"><use x="0" xlink:href="#E130-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E130-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E130-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E130-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="12557" xlink:href="#E130-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12946,0)"><use x="0" xlink:href="#E130-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E130-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E130-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(15284,0)"><use x="0" xlink:href="#E130-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E130-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="16271" xlink:href="#E130-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16660,0)"><use x="0" xlink:href="#E130-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E130-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E130-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><use x="18296" xlink:href="#E130-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18929" xlink:href="#E130-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19318,0)"><use x="0" xlink:href="#E130-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E130-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E130-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><g transform="translate(639,-248)"><use transform="scale(0.707)" x="0" xlink:href="#E130-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E130-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E130-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-129" type="math/tex">\nabla_{\mathbf W}=\sum_{i=1}^t \frac{\partial J}{\partial \mathbf{\vec h}_i} \mathbf{\vec h}_{i-1}^T=\sum_{i=1}^t ( \mathbf W^{t-i})^T (\nabla_{\mathbf{\vec h}_t} J ) \mathbf{\vec h}_{i-1}^T</script>。

其中记<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-130-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 3033.1 1310.7" width="7.045ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E131-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E131-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E131-MJMAIN-3D" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E131-MJMAINB-68" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E131-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E131-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E131-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E131-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1940,0)"><use x="0" xlink:href="#E131-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E131-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E131-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-130" type="math/tex">\mathbf{\vec x}=\mathbf{\vec h}_0</script>。假设矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-131-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.289ex;" viewbox="0 -1007.2 6454.4 1562" width="14.991ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E132-MJMAIN-28" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E132-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E132-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E132-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E132-MJMATHI-74" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E132-MJMATHI-4A" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E132-MJMAIN-29" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E132-MJMAINB-78" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E132-MJMATHI-54" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E132-MJMAIN-3D" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E132-MJMATHI-63" stroke-width="0"></path><path d="M397 0Q370 3 218 3Q65 3 38 0H25V62H139V624H25V686H38Q65 683 218 683Q370 683 397 686H410V624H296V62H410V0H397Z" id="E132-MJMAINB-49" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E132-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E132-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E132-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E132-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E132-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><use x="2025" xlink:href="#E132-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2658" xlink:href="#E132-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3047,0)"><use x="0" xlink:href="#E132-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E132-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E132-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use></g><use x="4529" xlink:href="#E132-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5585" xlink:href="#E132-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6018" xlink:href="#E132-MJMAINB-49" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-131" type="math/tex">(\nabla_{\mathbf{\vec h}_t} J ) \mathbf{\vec x}^T = c \mathbf I</script>，则有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1844-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.013ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1761.1 31329.1 3019.6" width="72.765ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2011-MJMAIN-2207" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E2011-MJMAINB-57" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2011-MJMAIN-3D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2011-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2011-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2011-MJMAIN-31" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2011-MJMATHI-74" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2011-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2011-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2011-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2011-MJMATHI-54" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2011-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2011-MJMAINB-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2011-MJMATHI-4A" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2011-MJMAINB-78" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E2011-MJMATHI-63" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2011-MJMAIN-D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2011-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1178" xlink:href="#E2011-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="2051" xlink:href="#E2011-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3107,0)"><use x="0" xlink:href="#E2011-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2011-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2011-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="840" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="4551" xlink:href="#E2011-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4940,0)"><use x="0" xlink:href="#E2011-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2011-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2011-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(7278,0)"><use x="0" xlink:href="#E2011-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2011-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="8265" xlink:href="#E2011-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8654,0)"><use x="0" xlink:href="#E2011-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2011-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><use x="10290" xlink:href="#E2011-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10923" xlink:href="#E2011-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11312" xlink:href="#E2011-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11701,0)"><use x="0" xlink:href="#E2011-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2011-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2011-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(14138,0)"><use x="0" xlink:href="#E2011-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2011-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><g transform="translate(14745,0)"><use x="0" xlink:href="#E2011-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2011-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="16009" xlink:href="#E2011-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17065,0)"><use x="0" xlink:href="#E2011-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2011-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2011-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="840" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="18676" xlink:href="#E2011-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19109" xlink:href="#E2011-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19498,0)"><use x="0" xlink:href="#E2011-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2011-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2011-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(21946,0)"><use x="0" xlink:href="#E2011-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2011-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="23210" xlink:href="#E2011-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="24266" xlink:href="#E2011-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="24921" xlink:href="#E2011-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="25921" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="26505" xlink:href="#E2011-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="27505" xlink:href="#E2011-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(27894,0)"><use x="0" xlink:href="#E2011-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E2011-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2011-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2011-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(30342,0)"><use x="0" xlink:href="#E2011-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2011-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></svg></span></span><script id="MathJax-Element-1844" type="math/tex; mode=display">\nabla_{\mathbf W}= \sum_{i=1}^t ( \mathbf W^{t-i})^T (\nabla_{\mathbf{\vec h}_t} J )(\mathbf W^{i-1} \mathbf{\vec x})^T = \sum_{i=1}^t c (\mathbf W^{t-1}) ^T=c\times t \times (\mathbf W^{t-1}) ^T</script>
假设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>有特征值分解<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-133-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 5958.2 1059.4" width="13.839ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E134-MJMAINB-57" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E134-MJMAIN-3D" stroke-width="0"></path><path d="M592 686H604Q615 685 631 685T666 684T700 684T724 683Q829 683 835 686H843V624H744L611 315Q584 254 546 165Q492 40 482 19T461 -6L460 -7H409Q398 -4 391 9Q385 20 257 315L124 624H25V686H36Q57 683 190 683Q340 683 364 686H377V624H289L384 403L480 185L492 212Q504 240 529 298T575 405L670 624H582V686H592Z" id="E134-MJMAINB-56" stroke-width="0"></path><path d="M320 708Q326 716 340 716H348H355Q367 716 372 708Q374 706 423 547T523 226T575 62Q581 52 591 50T634 46H661V0H653Q644 3 532 3Q411 3 390 0H379V46H392Q464 46 464 65Q463 70 390 305T316 539L246 316Q177 95 177 84Q177 72 198 59T248 46H253V0H245Q230 3 130 3Q47 3 38 0H32V46H45Q112 51 127 91Q128 92 224 399T320 708Z" id="E134-MJMAIN-39B" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E134-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E134-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E134-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1466" xlink:href="#E134-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2522" xlink:href="#E134-MJMAINB-56" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3391" xlink:href="#E134-MJMAIN-39B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4085,0)"><use x="0" xlink:href="#E134-MJMAINB-56" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,412)"><use transform="scale(0.707)" x="0" xlink:href="#E134-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E134-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-133" type="math/tex">\mathbf W=\mathbf V \Lambda \mathbf V^{-1}</script>，则：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-134-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 8476.1 1059.4" width="19.687ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E135-MJMAINB-57" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E135-MJMATHI-74" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E135-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E135-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E135-MJMAIN-3D" stroke-width="0"></path><path d="M592 686H604Q615 685 631 685T666 684T700 684T724 683Q829 683 835 686H843V624H744L611 315Q584 254 546 165Q492 40 482 19T461 -6L460 -7H409Q398 -4 391 9Q385 20 257 315L124 624H25V686H36Q57 683 190 683Q340 683 364 686H377V624H289L384 403L480 185L492 212Q504 240 529 298T575 405L670 624H582V686H592Z" id="E135-MJMAINB-56" stroke-width="0"></path><path d="M320 708Q326 716 340 716H348H355Q367 716 372 708Q374 706 423 547T523 226T575 62Q581 52 591 50T634 46H661V0H653Q644 3 532 3Q411 3 390 0H379V46H392Q464 46 464 65Q463 70 390 305T316 539L246 316Q177 95 177 84Q177 72 198 59T248 46H253V0H245Q230 3 130 3Q47 3 38 0H32V46H45Q112 51 127 91Q128 92 224 399T320 708Z" id="E135-MJMAIN-39B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E135-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,412)"><use transform="scale(0.707)" x="0" xlink:href="#E135-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E135-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E135-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2725" xlink:href="#E135-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3781" xlink:href="#E135-MJMAINB-56" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4650,0)"><use x="0" xlink:href="#E135-MJMAIN-39B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(694,362)"><use transform="scale(0.707)" x="0" xlink:href="#E135-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E135-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E135-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(6603,0)"><use x="0" xlink:href="#E135-MJMAINB-56" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,412)"><use transform="scale(0.707)" x="0" xlink:href="#E135-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E135-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-134" type="math/tex">\mathbf W^{t-1}=\mathbf V \Lambda^{t-1}\mathbf V^{-1}</script>。其中：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1845-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="14.017ex" role="img" style="vertical-align: -6.425ex;" viewbox="0 -3268.8 11143 6035.1" width="25.881ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M320 708Q326 716 340 716H348H355Q367 716 372 708Q374 706 423 547T523 226T575 62Q581 52 591 50T634 46H661V0H653Q644 3 532 3Q411 3 390 0H379V46H392Q464 46 464 65Q463 70 390 305T316 539L246 316Q177 95 177 84Q177 72 198 59T248 46H253V0H245Q230 3 130 3Q47 3 38 0H32V46H45Q112 51 127 91Q128 92 224 399T320 708Z" id="E2012-MJMAIN-39B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2012-MJMAIN-3D" stroke-width="0"></path><path d="M118 -250V750H255V710H158V-210H255V-250H118Z" id="E2012-MJMAIN-5B" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2012-MJMATHI-3BB" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2012-MJMAIN-31" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2012-MJMAIN-30" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2012-MJMAIN-22EF" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2012-MJMAIN-32" stroke-width="0"></path><path d="M78 30Q78 54 95 72T138 90Q162 90 180 74T199 31Q199 6 182 -12T139 -30T96 -13T78 30ZM78 440Q78 464 95 482T138 500Q162 500 180 484T199 441Q199 416 182 398T139 380T96 397T78 440ZM78 840Q78 864 95 882T138 900Q162 900 180 884T199 841Q199 816 182 798T139 780T96 797T78 840Z" id="E2012-MJMAIN-22EE" stroke-width="0"></path><path d="M133 760Q133 784 150 802T193 820Q217 820 235 804T254 761Q254 736 237 718T194 700T151 717T133 760ZM580 460Q580 484 597 502T640 520Q664 520 682 504T701 461Q701 436 684 418T641 400T598 417T580 460ZM1027 160Q1027 184 1044 202T1087 220Q1111 220 1129 204T1148 161Q1148 136 1131 118T1088 100T1045 117T1027 160Z" id="E2012-MJMAIN-22F1" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2012-MJMATHI-6E" stroke-width="0"></path><path d="M22 710V750H159V-250H22V-210H119V710H22Z" id="E2012-MJMAIN-5D" stroke-width="0"></path><path d="M319 -645V1154H666V1070H403V-645H319Z" id="E2012-MJSZ4-23A1" stroke-width="0"></path><path d="M319 -644V1155H403V-560H666V-644H319Z" id="E2012-MJSZ4-23A3" stroke-width="0"></path><path d="M319 0V602H403V0H319Z" id="E2012-MJSZ4-23A2" stroke-width="0"></path><path d="M0 1070V1154H347V-645H263V1070H0Z" id="E2012-MJSZ4-23A4" stroke-width="0"></path><path d="M263 -560V1155H347V-644H0V-560H263Z" id="E2012-MJSZ4-23A6" stroke-width="0"></path><path d="M263 0V602H347V0H263Z" id="E2012-MJSZ4-23A5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2012-MJMAIN-39B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="971" xlink:href="#E2012-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2027,0)"><g transform="translate(0,3210)"><use x="0" xlink:href="#E2012-MJSZ4-23A1" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1154"></use><g transform="translate(0,-4171) scale(1,4.023255813953488)"><use xlink:href="#E2012-MJSZ4-23A2" xmlns:xlink="http://www.w3.org/1999/xlink"></use></g><use x="0" xlink:href="#E2012-MJSZ4-23A3" xmlns:xlink="http://www.w3.org/1999/xlink" y="-5276"></use></g><g transform="translate(834,0)"><g transform="translate(-15,0)"><g transform="translate(0,2410)"><use x="0" xlink:href="#E2012-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E2012-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="268" xlink:href="#E2012-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="1010"></use><use x="379" xlink:href="#E2012-MJMAIN-22EE" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1110"></use><use x="268" xlink:href="#E2012-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-2510"></use></g><g transform="translate(2021,0)"><use x="268" xlink:href="#E2012-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="2410"></use><g transform="translate(0,1010)"><use x="0" xlink:href="#E2012-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E2012-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="379" xlink:href="#E2012-MJMAIN-22EE" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1110"></use><use x="268" xlink:href="#E2012-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-2510"></use></g><g transform="translate(4058,0)"><use x="55" xlink:href="#E2012-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="2410"></use><use x="55" xlink:href="#E2012-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="1010"></use><use x="0" xlink:href="#E2012-MJMAIN-22F1" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1110"></use><use x="55" xlink:href="#E2012-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-2510"></use></g><g transform="translate(6340,0)"><use x="303" xlink:href="#E2012-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="2410"></use><use x="303" xlink:href="#E2012-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="1010"></use><use x="414" xlink:href="#E2012-MJMAIN-22EE" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1110"></use><g transform="translate(0,-2510)"><use x="0" xlink:href="#E2012-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E2012-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g><g transform="translate(8448,3210)"><use x="0" xlink:href="#E2012-MJSZ4-23A4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1154"></use><g transform="translate(0,-4171) scale(1,4.023255813953488)"><use xlink:href="#E2012-MJSZ4-23A5" xmlns:xlink="http://www.w3.org/1999/xlink"></use></g><use x="0" xlink:href="#E2012-MJSZ4-23A6" xmlns:xlink="http://www.w3.org/1999/xlink" y="-5276"></use></g></g></g></svg></span></span><script id="MathJax-Element-1845" type="math/tex; mode=display">\Lambda=\begin{bmatrix} \lambda_1&0&\cdots&0\\ 0&\lambda_2&\cdots&0\\ \vdots&\vdots&\ddots&\vdots\\ 0&0&\cdots&\lambda_n \end{bmatrix}</script>
考虑特征值<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-135-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 927 1009.2" width="2.153ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E136-MJMATHI-3BB" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E136-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E136-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E136-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-135" type="math/tex">\lambda_i</script>，当它不在 1 附近时：

    * 如果量级大于 1，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-137-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -856.4 938.3 1260.5" width="2.179ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E138-MJMATHI-3BB" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E138-MJMATHI-74" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E138-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E138-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E138-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.707)" x="824" xlink:href="#E138-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g></svg></span><script id="MathJax-Element-137" type="math/tex">\lambda_i^{t}</script>非常大，这称作梯度爆炸问题`exploding gradient problem`。

    梯度爆炸使得学习不稳定，悬崖结构是梯度爆炸的一个例子。

    * 如果量级小于 1，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-137-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -856.4 938.3 1260.5" width="2.179ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E138-MJMATHI-3BB" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E138-MJMATHI-74" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E138-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E138-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E138-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.707)" x="824" xlink:href="#E138-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g></svg></span><script id="MathJax-Element-137" type="math/tex">\lambda_i^{t}</script>非常小，这称作梯度消失问题 `vanishing gradient problem`。

    梯度消失使得学习难以进行，此时学习的推进会非常缓慢。


![](../imgs/dl_optimization/depend.png)

2. 循环网络在每个时间步上使用相同的矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>，因此非常容易产生梯度爆炸和梯度消失问题。

前馈神经网络并没有在每一层使用相同的矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>，因此即使是非常深层的前馈神经网络也能很大程度上避免梯度爆炸和梯度消失问题。

3. 对于梯度爆炸，可以通过梯度裁剪来缓解：限定梯度的范数的上限。

对于梯度消失，不能够简单的通过放大来解决。因为有两个问题：

    * 当梯度很小的时候，无法分辨它是梯度消失问题，还是因为抵达了极小值点。

    * 当梯度很小的时候，噪音对梯度的影响太大。获得的梯度很可能由于噪音的影响，导致它的方向是随机的。

    此时如果放大梯度，则无法确保此时的方向就是代价函数下降的方向。而对于梯度爆炸，如果缩小梯度，仍然可以保证此时的方向就是代价函数下降的方向。



### 2.6 非精确梯度

1. 大多数优化算法都假设知道精确的梯度或者`Hessian`矩阵，实际中这些量都有躁扰，甚至是有偏的估计。如：`mini-batch`随机梯度下降中，用一个`batch` 的梯度来估计整体的梯度。

各种神经网络优化算法的设计都考虑到了梯度估计的不精确。

2. 另外，实际情况中的目标函数是比较棘手的，甚至难以用简洁的数学解析形式给出。

此时可以选择`替代损失函数`来避免这个问题。


### 2.7 局部和全局结构的弱对应

1. 对于最优化问题，即使克服了以上的所有困难，但是并没有到达代价函数低得多的区域，则表现仍然不佳。这就是局部优秀，全局不良。

    * 局部优秀：跨过了鞍点、爬过了悬崖、克服了梯度消失，最终到达局部极小值点。
    * 全局不良：并未到达目标函数全局比较小的值所在的区域。

2. 大多数优化研究的难点集中于：目标函数是否到达了全局最小值、局部最小值、鞍点。

但是实践中，神经网络不会到达任何一种临界点，甚至不会到达梯度很小的区域，甚至这些临界点不是必然存在的。

如：损失函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-141-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 6606.9 1361" width="15.345ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E142-MJMAIN-2212" stroke-width="0"></path><path d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z" id="E142-MJMAIN-6C" stroke-width="0"></path><path d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" id="E142-MJMAIN-6F" stroke-width="0"></path><path d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" id="E142-MJMAIN-67" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E142-MJMATHI-70" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E142-MJMAIN-28" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E142-MJMATHI-79" stroke-width="0"></path><path d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z" id="E142-MJMAIN-2223" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E142-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E142-MJMAINB-20D7" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E142-MJMAIN-3B" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E142-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E142-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E142-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E142-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(944,0)"><use xlink:href="#E142-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E142-MJMAIN-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E142-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2389" xlink:href="#E142-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2892" xlink:href="#E142-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3281" xlink:href="#E142-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4056" xlink:href="#E142-MJMAIN-2223" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4611,0)"><use x="0" xlink:href="#E142-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E142-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="5218" xlink:href="#E142-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5663,0)"><use x="1" xlink:href="#E142-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E142-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="6217" xlink:href="#E142-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-141" type="math/tex">-\log p(y\mid \mathbf{\vec x};\vec\theta)</script>没有全局极小点，而是趋向于某个极限值。

3. 下图的例子说明：即使没有局部极小值和鞍点，还是无法使用梯度下降得到一个好的结果。

原因是：初始化在山的左侧。左侧向左趋向于一条渐近线，此时梯度的负方向会不停向左来逼近这条渐进线。

理论上，优化算法要向右跨过山头，从而沿着右侧下降才能到达一个较低的函数值。

![](../imgs/dl_optimization/local_global.png)

4. 在局部结构中执行梯度下降（称作`局部梯度下降`）的问题：

    * 局部梯度下降或许能找出一条解路径，但是该路径可能包含了很多次梯度更新，遵循该路径会带来很高的计算代价。

    * 如果目标函数是类似<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-141-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 6606.9 1361" width="15.345ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E142-MJMAIN-2212" stroke-width="0"></path><path d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z" id="E142-MJMAIN-6C" stroke-width="0"></path><path d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" id="E142-MJMAIN-6F" stroke-width="0"></path><path d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" id="E142-MJMAIN-67" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E142-MJMATHI-70" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E142-MJMAIN-28" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E142-MJMATHI-79" stroke-width="0"></path><path d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z" id="E142-MJMAIN-2223" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E142-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E142-MJMAINB-20D7" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E142-MJMAIN-3B" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E142-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E142-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E142-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E142-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(944,0)"><use xlink:href="#E142-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E142-MJMAIN-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E142-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2389" xlink:href="#E142-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2892" xlink:href="#E142-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3281" xlink:href="#E142-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4056" xlink:href="#E142-MJMAIN-2223" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4611,0)"><use x="0" xlink:href="#E142-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E142-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="5218" xlink:href="#E142-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5663,0)"><use x="1" xlink:href="#E142-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E142-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="6217" xlink:href="#E142-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-141" type="math/tex">-\log p(y\mid \mathbf{\vec x};\vec\theta)</script>函数：没有任何鞍点、极值点，而是具有一个宽而平坦的区域（这个区域逼近某个极限）。

    此时，若要寻求一个精确的临界点，则局部梯度下降无法给出解路径。这意味着算法难以收敛。

    * 局部梯度下降可能太过贪心，使得训练虽然朝着梯度下降的方向移动，但是远离了真正的解。


5. 如果存在某个参数区域，当遵循局部梯度下降就能够合理地直接到达最优解，且参数初始化点就位于该区域，则局部梯度下降的问题就得到解决。

6. 现有的很多研究方法在求解局部结构复杂的最优化问题时，解决方案为：寻求良好的初始化点，而不再是寻求良好的全局参数更新算法。


## 三、 mini-batch

1. 机器学习算法和一般最优化算法不同的一点：机器学习算法的目标函数通常可以分解为每个训练样本上的损失函数的求和。如：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-142-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 17713.6 1511.8" width="41.141ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E143-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E143-MJMAIN-20D7" stroke-width="0"></path><path d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z" id="E143-MJMATHI-4D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E143-MJMATHI-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E143-MJMAIN-3D" stroke-width="0"></path><path d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" id="E143-MJMAIN-61" stroke-width="0"></path><path d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z" id="E143-MJMAIN-72" stroke-width="0"></path><path d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" id="E143-MJMAIN-67" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E143-MJMAIN-6D" stroke-width="0"></path><path d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" id="E143-MJMAIN-78" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E143-MJSZ1-2211" stroke-width="0"></path><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" id="E143-MJMATHI-4E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E143-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E143-MJMAIN-31" stroke-width="0"></path><path d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z" id="E143-MJMAIN-6C" stroke-width="0"></path><path d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" id="E143-MJMAIN-6F" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E143-MJMATHI-70" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E143-MJMATHI-6D" stroke-width="0"></path><path d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" id="E143-MJMATHI-6F" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E143-MJMATHI-64" stroke-width="0"></path><path d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" id="E143-MJMATHI-65" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E143-MJMATHI-6C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E143-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E143-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E143-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E143-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E143-MJMATHI-79" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E143-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E143-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E143-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E143-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><g transform="translate(554,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E143-MJMATHI-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1051" xlink:href="#E143-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2156" xlink:href="#E143-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3212,0)"><use xlink:href="#E143-MJMAIN-61" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="500" xlink:href="#E143-MJMAIN-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="892" xlink:href="#E143-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(4771,0)"><use xlink:href="#E143-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E143-MJMAIN-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1333" xlink:href="#E143-MJMAIN-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1861,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E143-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E143-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(7315,0)"><use x="0" xlink:href="#E143-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E143-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E143-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E143-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E143-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(9785,0)"><use xlink:href="#E143-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E143-MJMAIN-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E143-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(11230,0)"><use x="0" xlink:href="#E143-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E143-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E143-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1363" xlink:href="#E143-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1886" xlink:href="#E143-MJMATHI-65" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2352" xlink:href="#E143-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="13707" xlink:href="#E143-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14096,0)"><use x="0" xlink:href="#E143-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E143-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E143-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="15046" xlink:href="#E143-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15491,0)"><use x="0" xlink:href="#E143-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E143-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="16325" xlink:href="#E143-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16770,0)"><use x="1" xlink:href="#E143-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E143-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="17324" xlink:href="#E143-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-142" type="math/tex">\vec\theta_{ML}=\arg\max_{\vec\theta}\sum_{i=1}^{N}\log p_{model}(\mathbf{\vec x}_i,y_i;\vec\theta)</script>。

最大化这个总和，等价于最大化训练集在经验分布上的期望：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1846-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 15036.8 1511.8" width="34.924ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2013-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2013-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2013-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2013-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2013-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2013-MJMAIN-3D" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E2013-MJAMS-45" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2013-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2013-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2013-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2013-MJMATHI-79" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2013-MJMAIN-223C" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E2013-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2013-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E2013-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2013-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2013-MJMATHI-74" stroke-width="0"></path><path d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z" id="E2013-MJMAIN-6C" stroke-width="0"></path><path d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" id="E2013-MJMAIN-6F" stroke-width="0"></path><path d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" id="E2013-MJMAIN-67" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2013-MJMATHI-6D" stroke-width="0"></path><path d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" id="E2013-MJMATHI-6F" stroke-width="0"></path><path d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" id="E2013-MJMATHI-65" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E2013-MJMATHI-6C" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2013-MJMAIN-3B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2013-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E2013-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E2013-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2013-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E2013-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2243" xlink:href="#E2013-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3298,0)"><use x="0" xlink:href="#E2013-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E2013-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2013-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2013-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2013-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2013-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2013-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2160" xlink:href="#E2013-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2077,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2013-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="119" xlink:href="#E2013-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="18"></use><g transform="translate(437,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E2013-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E2013-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E2013-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E2013-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><g transform="translate(7789,0)"><use xlink:href="#E2013-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E2013-MJMAIN-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E2013-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(9234,0)"><use x="0" xlink:href="#E2013-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2013-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E2013-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1363" xlink:href="#E2013-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1886" xlink:href="#E2013-MJMATHI-65" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2352" xlink:href="#E2013-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="11711" xlink:href="#E2013-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12100,0)"><use x="0" xlink:href="#E2013-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2013-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="12707" xlink:href="#E2013-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13151" xlink:href="#E2013-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13648" xlink:href="#E2013-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14093,0)"><use x="1" xlink:href="#E2013-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2013-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="14647" xlink:href="#E2013-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1846" type="math/tex; mode=display">J(\vec\theta)=\mathbb E_{(\mathbf{\vec x},y)\sim \hat p_{data}}\log p_{model}(\mathbf{\vec x} ,y ;\vec\theta)</script>
2. 当使用基于梯度的优化算法求解时，需要用到梯度：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1847-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 32712.3 1511.8" width="75.977ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2014-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2014-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2014-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2014-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2014-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2014-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2014-MJMAIN-3D" stroke-width="0"></path><path d="M118 -250V750H255V710H158V-210H255V-250H118Z" id="E2014-MJMAIN-5B" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E2014-MJAMS-45" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2014-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2014-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2014-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2014-MJMATHI-79" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2014-MJMAIN-223C" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E2014-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2014-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E2014-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2014-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2014-MJMATHI-74" stroke-width="0"></path><path d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z" id="E2014-MJMAIN-6C" stroke-width="0"></path><path d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" id="E2014-MJMAIN-6F" stroke-width="0"></path><path d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" id="E2014-MJMAIN-67" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2014-MJMATHI-6D" stroke-width="0"></path><path d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" id="E2014-MJMATHI-6F" stroke-width="0"></path><path d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" id="E2014-MJMATHI-65" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E2014-MJMATHI-6C" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2014-MJMAIN-3B" stroke-width="0"></path><path d="M22 710V750H159V-250H22V-210H119V710H22Z" id="E2014-MJMAIN-5D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2014-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2014-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2014-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g><use x="1349" xlink:href="#E2014-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1982" xlink:href="#E2014-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2371,0)"><use x="1" xlink:href="#E2014-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2014-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2925" xlink:href="#E2014-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3592" xlink:href="#E2014-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4648,0)"><use x="0" xlink:href="#E2014-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2014-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2014-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="5997" xlink:href="#E2014-MJMAIN-5B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6275,0)"><use x="0" xlink:href="#E2014-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2014-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2014-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2014-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2014-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2160" xlink:href="#E2014-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2077,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="119" xlink:href="#E2014-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="18"></use><g transform="translate(437,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E2014-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E2014-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E2014-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E2014-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><g transform="translate(10766,0)"><use xlink:href="#E2014-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E2014-MJMAIN-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E2014-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(12210,0)"><use x="0" xlink:href="#E2014-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E2014-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1363" xlink:href="#E2014-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1886" xlink:href="#E2014-MJMATHI-65" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2352" xlink:href="#E2014-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="14687" xlink:href="#E2014-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15076,0)"><use x="0" xlink:href="#E2014-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2014-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="15683" xlink:href="#E2014-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16128" xlink:href="#E2014-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16625" xlink:href="#E2014-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17070,0)"><use x="1" xlink:href="#E2014-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2014-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="17624" xlink:href="#E2014-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18013" xlink:href="#E2014-MJMAIN-5D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18569" xlink:href="#E2014-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19625,0)"><use x="0" xlink:href="#E2014-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2014-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2014-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2014-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2014-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2160" xlink:href="#E2014-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2077,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="119" xlink:href="#E2014-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="18"></use><g transform="translate(437,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E2014-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E2014-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E2014-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E2014-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><g transform="translate(23949,0)"><use x="0" xlink:href="#E2014-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2014-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2014-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(25465,0)"><use xlink:href="#E2014-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E2014-MJMAIN-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E2014-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(26909,0)"><use x="0" xlink:href="#E2014-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2014-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E2014-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1363" xlink:href="#E2014-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1886" xlink:href="#E2014-MJMATHI-65" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2352" xlink:href="#E2014-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="29386" xlink:href="#E2014-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(29775,0)"><use x="0" xlink:href="#E2014-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2014-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="30382" xlink:href="#E2014-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="30827" xlink:href="#E2014-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="31324" xlink:href="#E2014-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(31768,0)"><use x="1" xlink:href="#E2014-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2014-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="32323" xlink:href="#E2014-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1847" type="math/tex; mode=display">\nabla_\vec\theta J(\vec\theta)=\nabla_\vec\theta [\mathbb E_{(\mathbf{\vec x},y)\sim \hat p_{data}}\log p_{model}(\mathbf{\vec x} ,y ;\vec\theta)] = \mathbb E_{(\mathbf{\vec x},y)\sim \hat p_{data}} \nabla_\vec\theta\log p_{model}(\mathbf{\vec x} ,y ;\vec\theta)</script>
这个梯度本质上也是一个期望，要准确的求解这个期望的计算量非常大，因为需要计算整个数据集上的每一个样本。

实践中，可以从数据集中随机采样少量的样本，然后计算这些样本上的梯度的均值，将这个均值作为该期望的一个估计。

3. 使用小批量样本来估计梯度的原因：

    * 使用更多样本来估计梯度的方法的收益是低于线性的。

    独立同分布的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>个样本的均值<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-144-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.227ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -906.7 852 958.9" width="1.979ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E145-MJMATHI-58" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E145-MJMAIN-AF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E145-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="274" xlink:href="#E145-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="214"></use></g></svg></span><script id="MathJax-Element-144" type="math/tex">\bar X</script>是个随机变量，其标准差为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-145-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 1373.3 1562" width="3.19ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E146-MJMATHI-3C3" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E146-MJMATHI-6E" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E146-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1133" x="0" y="220"></rect><use transform="scale(0.707)" x="515" xlink:href="#E146-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-458)"><use transform="scale(0.707)" x="0" xlink:href="#E146-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-78"></use><rect height="42" stroke="none" width="424" x="589" y="468"></rect><use transform="scale(0.707)" x="833" xlink:href="#E146-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-145" type="math/tex">\frac{\sigma}{\sqrt{n}}</script>，其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-146-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 572 607.1" width="1.329ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E147-MJMATHI-3C3" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E147-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-146" type="math/tex">\sigma</script>为样本的真实标准差。

    * 如果能够快速计算出梯度的估计值（而不是费时地计算准确值），则大多数优化算法会更快收敛。

    大多数优化算法基于梯度下降，如果每一步中计算梯度的时间大大缩短，则它们会更快收敛。

    * 训练集存在冗余。

    实践中可能发现：大量样本都对梯度做出了非常相似的贡献。

    最坏情况下， 训练集中的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-525-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 888 808.1" width="2.062ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" id="E526-MJMATHI-4E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E526-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-525" type="math/tex">N</script>个样本都是相同的拷贝。此时基于小批量样本估计梯度的策略也能够计算正确的梯度，但是节省了大量时间。


4. 使用整个训练集的优化算法被称作`batch`梯度算法（或者确定性`deterministic`梯度算法）。

每次只使用单个样本的优化算法被称作随机`stochastic`算法（或者在线`online`算法）。

大多数深度学习的优化算法介于两者之间：使用一个以上、又不是采用全部的训练样本，称作`mini-batch`或者`mini-batch`随机算法。

5. 当使用小批量样本来估计梯度时，由于估计的梯度往往会偏离真实的梯度，这可以视作在学习过程中加入了噪声扰动。这种扰动会带来一些正则化效果。


### 3.1 mini-batch 大小

1. `mini-batch`的大小由下列因素决定：

    * 不能太大。更大的`batch`会使得训练更快，但是可能导致泛化能力下降。

        * 训练更快是因为：

            * 更大的`batch size` 只需要更少的迭代步数就可以使得训练误差收敛。

            因为`batch size` 越大，则小批量样本来估计总体梯度越可靠，则每次参数更新沿着总体梯度的负方向的概率越大。

            另外，训练误差收敛速度快，并不意味着模型的泛化性能强。

            * 更大的`batch size` 可以利用大规模数据并行的优势。


        * 泛化能力下降是因为：更大的`batch size` 计算的梯度估计更精确，它带来更小的梯度噪声。此时噪声的力量太小，不足以将参数推出一个尖锐极小值的吸引区域。

        解决方案为：提高学习率，从而放大梯度噪声的贡献。


    * 不能太小。因为对于多核架构来讲，太小的`batch`并不会相应地减少计算时间（考虑到多核之间的同步开销）。

    * 如果`batch`中所有样本可以并行地预处理，则内存消耗和`batch`大小成正比。

    对于许多硬件设备来说，这就是`batch`大小的限制因素。

    * 在有些硬件上，特定大小的效果更好。

    在使用`GPU`时，通常使用 2 的幂作为`batch`大小。


2. 泛化误差通常在`batch`大小为 1 时最好，但此时梯度估计值的方差非常大，因此需要非常小的学习速率以维持稳定性。如果学习速率过大，则导致步长的变化剧烈。

由于需要降低学习速率，因此需要消耗更多的迭代次数来训练。虽然每一轮迭代中，计算梯度估计值的时间大幅度降低了（`batch size`为 1），但是总的运行时间还是非常大。

3. 某些算法对采样误差非常敏感，此时`mini-batch`效果较差。原因可能有两个：

    * 这些算法需要用到全部样本的一些精确信息，但是这些信息难以在少量样本上估计到。
    * 这些算法会放大采样误差，导致误差积累越来越严重。

4. 通常仅仅基于梯度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-224-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 575 1059.4" width="1.335ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E225-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E225-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E225-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E225-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></svg></span><script id="MathJax-Element-224" type="math/tex">\mathbf{\vec g}</script>的更新方法相对更稳定，它能够处理更小的`batch`（如100）。

如果使用了黑塞矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>（如需要计算<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-155-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -956.9 2478.7 1210.2" width="5.757ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E156-MJMAINB-48" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E156-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E156-MJMAIN-31" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E156-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E156-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E156-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,412)"><use transform="scale(0.707)" x="0" xlink:href="#E156-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E156-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1903,0)"><use x="0" xlink:href="#E156-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E156-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-155" type="math/tex">\mathbf H^{-1}\mathbf{\vec g}</script>的二阶方法） 通常需要更大的 `batch`（如 10000）。

    * 即使<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>被精确估计，但是它的条件数很差，那么乘以<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>或者<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-373-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -956.9 1903.7 1009.2" width="4.421ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E374-MJMAINB-48" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E374-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E374-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E374-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,412)"><use transform="scale(0.707)" x="0" xlink:href="#E374-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E374-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-373" type="math/tex">\mathbf H^{-1}</script>会放大之前存在的误差。这就导致<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-224-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 575 1059.4" width="1.335ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E225-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E225-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E225-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E225-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></svg></span><script id="MathJax-Element-224" type="math/tex">\mathbf{\vec g}</script>的一个非常小的变化也会导致<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-155-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -956.9 2478.7 1210.2" width="5.757ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E156-MJMAINB-48" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E156-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E156-MJMAIN-31" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E156-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E156-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E156-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,412)"><use transform="scale(0.707)" x="0" xlink:href="#E156-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E156-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1903,0)"><use x="0" xlink:href="#E156-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E156-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-155" type="math/tex">\mathbf H^{-1}\mathbf{\vec g}</script>的一个非常大的变化。因此 `batch`需要更大从而降低梯度估计的方差。
    * 通常只是近似地估计<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>，因此只会引入更多的误差。


### 3.2 随机抽样

1. `mini-batch`是随机抽样的也非常重要。从一组样本中计算出梯度期望的无偏估计要求：组内的样本是独立的。

另外，也希望两个连续的梯度估计也是相互独立的。这要求：两个连续的`mini-batch`样本集合也应该是彼此独立的。

2. 实际应用中，采集的数据样本很可能出现这样的情况：连续的样本之间具有高度相关性。

如：统计人群的偏好，很可能连续的样本就是同一个家庭、同一个职业、同一个地域...。

解决方法是：将样本随机混洗之后存储，训练时按照混洗之后的顺序读取。

这种打乱顺序不会对`mini-batch`产生严重的影响，不打乱顺序的`mini-batch`才会极大降低算法泛化能力。

3. `mini-batch`可以异步并行分布式更新：在计算`mini-batch`样本集合<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-157-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 1066 1009.2" width="2.476ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M22 666Q22 677 31 680T80 683H184H335Q346 675 346 667Q346 660 341 655Q335 648 315 648Q280 644 273 637Q273 630 300 583T356 492T386 448Q430 504 450 535T474 577T478 601Q478 620 469 634T444 648Q428 648 428 666Q428 678 436 680T488 683H559H630Q673 683 681 681T690 666Q690 648 673 648Q652 648 619 637Q571 615 517 550Q490 517 450 464T410 408Q415 399 501 273T617 106Q648 61 661 48T688 35Q705 35 705 16Q705 5 695 -1H539Q384 -1 379 3Q373 10 373 17Q373 27 380 31T408 35Q459 40 459 49Q459 59 418 129T335 259Q334 260 332 260Q328 260 273 197Q210 127 208 117Q199 104 199 82Q199 57 213 46T239 35Q247 35 252 29T257 15Q257 10 256 7T253 3T248 0L246 -1H28Q16 7 16 15T21 29T35 35Q61 35 117 88Q289 279 304 297Q307 303 255 377Q117 586 79 626Q60 648 39 648Q32 648 27 653T22 666ZM237 639V648H173Q113 647 113 646Q113 642 137 612Q186 546 302 373T453 139Q497 63 497 43Q497 39 495 35H559Q622 35 622 37Q622 38 583 94T486 233T373 399T277 552T237 639ZM553 637L566 648H504L508 637Q510 630 515 615V603L528 615Q529 616 539 625T553 637ZM170 46Q169 49 167 58T164 70V83L137 59L113 35H175Q175 38 170 46Z" id="E158-MJAMS-58" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E158-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E158-MJAMS-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1021" xlink:href="#E158-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-157" type="math/tex">\mathbb X_i</script>上梯度更新时，也可以同时计算其他`mini-batch`样本集合<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-158-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -755.9 1113.3 1109.7" width="2.586ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M22 666Q22 677 31 680T80 683H184H335Q346 675 346 667Q346 660 341 655Q335 648 315 648Q280 644 273 637Q273 630 300 583T356 492T386 448Q430 504 450 535T474 577T478 601Q478 620 469 634T444 648Q428 648 428 666Q428 678 436 680T488 683H559H630Q673 683 681 681T690 666Q690 648 673 648Q652 648 619 637Q571 615 517 550Q490 517 450 464T410 408Q415 399 501 273T617 106Q648 61 661 48T688 35Q705 35 705 16Q705 5 695 -1H539Q384 -1 379 3Q373 10 373 17Q373 27 380 31T408 35Q459 40 459 49Q459 59 418 129T335 259Q334 260 332 260Q328 260 273 197Q210 127 208 117Q199 104 199 82Q199 57 213 46T239 35Q247 35 252 29T257 15Q257 10 256 7T253 3T248 0L246 -1H28Q16 7 16 15T21 29T35 35Q61 35 117 88Q289 279 304 297Q307 303 255 377Q117 586 79 626Q60 648 39 648Q32 648 27 653T22 666ZM237 639V648H173Q113 647 113 646Q113 642 137 612Q186 546 302 373T453 139Q497 63 497 43Q497 39 495 35H559Q622 35 622 37Q622 38 583 94T486 233T373 399T277 552T237 639ZM553 637L566 648H504L508 637Q510 630 515 615V603L528 615Q529 616 539 625T553 637ZM170 46Q169 49 167 58T164 70V83L137 59L113 35H175Q175 38 170 46Z" id="E159-MJAMS-58" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E159-MJMATHI-6A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E159-MJAMS-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1021" xlink:href="#E159-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-158" type="math/tex">\mathbb X_j</script>上的更新。


### 3.3 重复样本

1. 当<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-159-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1548.7 1109.7" width="3.597ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E160-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E160-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E160-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E160-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E160-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E160-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="607" xlink:href="#E160-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1051" xlink:href="#E160-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-159" type="math/tex">\mathbf{\vec x},y</script>都是离散时，泛化误差的期望：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1848-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.963ex" role="img" style="vertical-align: -3.507ex;" viewbox="0 -1057.4 26017.4 2567.2" width="60.428ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2015-MJMATHI-4A" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2015-MJMAIN-2217" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2015-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2015-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2015-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2015-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2015-MJMAIN-3D" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E2015-MJAMS-45" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2015-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2015-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2015-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2015-MJMATHI-79" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2015-MJMAIN-223C" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E2015-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E2015-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2015-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2015-MJMATHI-74" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2015-MJMATHI-4C" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2015-MJMATHI-66" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2015-MJMAIN-3B" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2015-MJSZ2-2211" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2015-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="928" xlink:href="#E2015-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use><use x="1110" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1499,0)"><use x="1" xlink:href="#E2015-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2015-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2053" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2720" xlink:href="#E2015-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3775,0)"><use x="0" xlink:href="#E2015-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2015-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2015-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2015-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2015-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2160" xlink:href="#E2015-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2077,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2015-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(355,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E2015-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E2015-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E2015-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E2015-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="8017" xlink:href="#E2015-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8698" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9087" xlink:href="#E2015-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9637" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10026,0)"><use x="0" xlink:href="#E2015-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2015-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="10633" xlink:href="#E2015-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11078,0)"><use x="1" xlink:href="#E2015-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2015-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="11632" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12021" xlink:href="#E2015-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12466" xlink:href="#E2015-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12963" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13630" xlink:href="#E2015-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14685,0)"><use x="41" xlink:href="#E2015-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1155)"><use transform="scale(0.707)" x="0" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2015-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2015-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2015-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2015-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(16379,0)"><use x="0" xlink:href="#E2015-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2015-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E2015-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E2015-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E2015-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="18356" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(18745,0)"><use x="0" xlink:href="#E2015-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2015-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="19352" xlink:href="#E2015-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19796" xlink:href="#E2015-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20293" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20682" xlink:href="#E2015-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="21363" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="21752" xlink:href="#E2015-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="22302" xlink:href="#E2015-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22691,0)"><use x="0" xlink:href="#E2015-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2015-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="23298" xlink:href="#E2015-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(23743,0)"><use x="1" xlink:href="#E2015-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2015-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="24297" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="24686" xlink:href="#E2015-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="25131" xlink:href="#E2015-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="25628" xlink:href="#E2015-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1848" type="math/tex; mode=display">J^{*}(\vec\theta)=\mathbb E_{(\mathbf{\vec x},y)\sim p_{data}} L(f(\mathbf{\vec x};\vec\theta),y) =\sum_{(\mathbf{\vec x},y)} p_{data}(\mathbf{\vec x},y) L(f(\mathbf{\vec x};\vec\theta),y)</script>
其梯度为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1849-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.963ex" role="img" style="vertical-align: -3.507ex;" viewbox="0 -1057.4 19714.6 2567.2" width="45.789ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2016-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2016-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2016-MJMAIN-3D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2016-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2016-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2016-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2016-MJMATHI-4A" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2016-MJMAIN-2217" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2016-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2016-MJMAIN-29" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2016-MJSZ2-2211" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2016-MJMAINB-78" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2016-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2016-MJMATHI-79" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E2016-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E2016-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2016-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2016-MJMATHI-74" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2016-MJMATHI-4C" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2016-MJMATHI-66" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2016-MJMAIN-3B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2016-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2016-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="852" xlink:href="#E2016-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1908,0)"><use x="0" xlink:href="#E2016-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2016-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2016-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(3257,0)"><use x="0" xlink:href="#E2016-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="928" xlink:href="#E2016-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="4367" xlink:href="#E2016-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4756,0)"><use x="1" xlink:href="#E2016-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2016-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="5311" xlink:href="#E2016-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5977" xlink:href="#E2016-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7033,0)"><use x="41" xlink:href="#E2016-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1155)"><use transform="scale(0.707)" x="0" xlink:href="#E2016-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(275,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2016-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2016-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="995" xlink:href="#E2016-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1274" xlink:href="#E2016-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1770" xlink:href="#E2016-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(8727,0)"><use x="0" xlink:href="#E2016-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2016-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E2016-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E2016-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E2016-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="10703" xlink:href="#E2016-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11092,0)"><use x="0" xlink:href="#E2016-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2016-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="11699" xlink:href="#E2016-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12144" xlink:href="#E2016-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12641" xlink:href="#E2016-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13030,0)"><use x="0" xlink:href="#E2016-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2016-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2016-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="14379" xlink:href="#E2016-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15060" xlink:href="#E2016-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15449" xlink:href="#E2016-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15999" xlink:href="#E2016-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16388,0)"><use x="0" xlink:href="#E2016-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2016-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="16995" xlink:href="#E2016-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17440,0)"><use x="1" xlink:href="#E2016-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2016-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="17994" xlink:href="#E2016-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18383" xlink:href="#E2016-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18828" xlink:href="#E2016-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19325" xlink:href="#E2016-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1849" type="math/tex; mode=display">\mathbf{\vec g}=\nabla_{\vec\theta}J^{*}(\vec\theta)=\sum_{(\mathbf{\vec x},y)} p_{data}(\mathbf{\vec x},y) \nabla_{\vec\theta}L(f(\mathbf{\vec x};\vec\theta),y)</script>
泛化误差的梯度的无偏估计可以通过从数据生成分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-165-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex; margin-left: -0.091ex;" viewbox="-39 -504.6 2015.2 757.9" width="4.68ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E166-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E166-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E166-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E166-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E166-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E166-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E166-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-165" type="math/tex">p_{data}</script>抽取 `mini-batch`样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>以及对应的标签<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>，然后计算`mini-batch`上的损失函数对于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>的梯度：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1850-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12288.8 2919" width="28.542ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2017-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2017-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2017-MJMAIN-5E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2017-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2017-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2017-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2017-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2017-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2017-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2017-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2017-MJMATHI-69" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2017-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2017-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2017-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2017-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2017-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2017-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2017-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2017-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2017-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2017-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2017-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2017-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1630,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2017-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2017-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3146,0)"><use x="0" xlink:href="#E2017-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2017-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2017-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(4662,0)"><use x="0" xlink:href="#E2017-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2017-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2017-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2017-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2017-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6273" xlink:href="#E2017-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6954" xlink:href="#E2017-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7343" xlink:href="#E2017-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7893" xlink:href="#E2017-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8282,0)"><use x="0" xlink:href="#E2017-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2017-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2017-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9233" xlink:href="#E2017-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9677,0)"><use x="1" xlink:href="#E2017-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2017-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10232" xlink:href="#E2017-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10621" xlink:href="#E2017-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11065,0)"><use x="0" xlink:href="#E2017-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2017-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="11899" xlink:href="#E2017-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1850" type="math/tex; mode=display">\hat{\mathbf{\vec g}}= \frac 1m \nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
它就是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-224-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 575 1059.4" width="1.335ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E225-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E225-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E225-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E225-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></svg></span><script id="MathJax-Element-224" type="math/tex">\mathbf{\vec g}</script>的无偏估计。

因此，`mini-batch`随机梯度下降中，只要没有重复使用样本，它就是真实泛化误差梯度的无偏估计。

2. 如果是在线学习，则每个样本或者`mini-batch`都不会重复。每次更新都是独立地从真实分布<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-165-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex; margin-left: -0.091ex;" viewbox="-39 -504.6 2015.2 757.9" width="4.68ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E166-MJMATHI-70" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E166-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E166-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E166-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E166-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E166-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1052" xlink:href="#E166-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1413" xlink:href="#E166-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-165" type="math/tex">p_{data}</script>中采样获得。

3. 如果训练集不大，通常需要多次遍历训练集，此时只有第一遍满足泛化误差的梯度的无偏估计。

后续的遍历中，泛化误差的梯度估计不再是无偏的。但是后续的遍历会减小训练误差，从而抵消了训练误差和测试误差之间`gap`的增加。最终效果是：减小了测试误差。

4. 随着数据集规模的爆炸性增长，超过了计算能力的增长速度，现在普遍地对每个样本只使用一次，甚至不完整地使用训练集。

此时过拟合不再是问题，欠拟合以及计算效率成为主要问题。


## 四、基本优化算法

### 4.1 随机梯度下降 SGD

#### 4.1.1 算法

1. 随机梯度下降沿着随机挑选的`mini-batch`数据的梯度下降方向推进，可以很大程度的加速训练过程。

2. 随机梯度下降`SGD`及其变种可能是机器学习中用的最多的优化算法。

3. 算法：

    * 输入：学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>

    * 初始参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>

    * 算法步骤：

    迭代，直到满足停止条件。迭代步骤为：

        * 从训练集中随机采样<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>构成`mini-batch`，对应的标记为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>。

        * 计算`mini-batch`上的梯度作为训练集的梯度的估计：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1851-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12510.8 2919" width="29.057ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2018-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2018-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2018-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2018-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2018-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2018-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2018-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2018-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2018-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2018-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2018-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2018-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2018-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2018-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2018-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2018-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2018-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2018-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2018-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2018-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2018-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2018-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2018-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2018-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1852,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2018-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2018-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3368,0)"><use x="0" xlink:href="#E2018-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2018-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2018-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(4884,0)"><use x="0" xlink:href="#E2018-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2018-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2018-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2018-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2018-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6495" xlink:href="#E2018-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7176" xlink:href="#E2018-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7565" xlink:href="#E2018-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8115" xlink:href="#E2018-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8504,0)"><use x="0" xlink:href="#E2018-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2018-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2018-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9455" xlink:href="#E2018-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9899,0)"><use x="1" xlink:href="#E2018-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2018-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10454" xlink:href="#E2018-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10843" xlink:href="#E2018-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11287,0)"><use x="0" xlink:href="#E2018-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2018-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12121" xlink:href="#E2018-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1851" type="math/tex; mode=display">\hat{\mathbf{\vec g}}\leftarrow \frac 1m \nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
        * 更新参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-171-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 4867.6 1310.7" width="11.305ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E172-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E172-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E172-MJMAIN-2190" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E172-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E172-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E172-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E172-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E172-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E172-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E172-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E172-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E172-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E172-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E172-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3886" xlink:href="#E172-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4292,0)"><use x="0" xlink:href="#E172-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E172-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E172-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-171" type="math/tex">\vec\theta \leftarrow \vec\theta-\epsilon\hat{\mathbf{\vec g}}</script>



4. 在深度学习中，通常的停止条件是：运行指定数量的迭代步或者`epoch`， 或者在验证集上的某个度量（如：损失函数、错误率、`auc` 等）不再提升。


#### 4.1.2 学习率

1. `SGD`中一个关键参数是学习率。前面介绍的`SGD`算法步骤使用固定的学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>，实践中有必要随着时间的推移而降低学习率。

使用标准的梯度下降到达极小点时，整个代价函数的真实梯度非常小，甚至为零。由于`SGD` 使用`mini-batch`的梯度作为整体梯度的估计，因此引入了噪源。

该噪源并不会在极小值处消失，使得在极小点时，梯度的估计可能会比较大。因此：标准的梯度下降可以使用固定的学习率，而`SGD`必须使用逐渐降低的学习率。

假设在极小点时，梯度的估计值<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-173-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 575 1310.7" width="1.335ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E174-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E174-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E174-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E174-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E174-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E174-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></svg></span><script id="MathJax-Element-173" type="math/tex">\hat{\mathbf{\vec g}}</script>由于引入了噪源导致较大：

    * 如果采取降低学习率的方法，则步长<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-176-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 981 1310.7" width="2.278ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E177-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E177-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E177-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E177-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E177-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(406,0)"><use x="0" xlink:href="#E177-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E177-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E177-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-176" type="math/tex">\epsilon\hat{\mathbf{\vec g}}</script>会很小，这就会导致参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>在极小点附近宅幅震荡直至收敛。
    * 如果没有采取降低学习率的方法，则步长<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-176-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 981 1310.7" width="2.278ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E177-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E177-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E177-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E177-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E177-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(406,0)"><use x="0" xlink:href="#E177-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E177-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E177-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-176" type="math/tex">\epsilon\hat{\mathbf{\vec g}}</script>会很大，这会导致参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>在极小点附近宽幅震荡而且很难收敛。

2. 第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-520-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 521 858.4" width="1.21ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E521-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E521-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-520" type="math/tex">k</script>步的学习率记做<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-179-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 874.4 757.9" width="2.031ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E180-MJMATHI-3F5" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E180-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E180-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E180-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-179" type="math/tex">\epsilon_k</script>，则对于学习率，保证`SGD`收敛的一个充分条件是：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-180-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -856.4 5802.7 1210.2" width="13.477ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E181-MJSZ1-2211" stroke-width="0"></path><path d="M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z" id="E181-MJMAIN-221E" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E181-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E181-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E181-MJMAIN-31" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E181-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E181-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E181-MJMAIN-221E" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E181-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E181-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E181-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(2594,0)"><use x="0" xlink:href="#E181-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E181-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3746" xlink:href="#E181-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4802" xlink:href="#E181-MJMAIN-221E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-180" type="math/tex">\sum_{k=1}^{\infty}\epsilon_k=\infty</script>，且<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-181-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -906.7 5802.7 1310.7" width="13.477ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E182-MJSZ1-2211" stroke-width="0"></path><path d="M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z" id="E182-MJMAIN-221E" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E182-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E182-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E182-MJMAIN-31" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E182-MJMATHI-3F5" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E182-MJMAIN-32" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E182-MJMAIN-3C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E182-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E182-MJMAIN-221E" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E182-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E182-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E182-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(2594,0)"><use x="0" xlink:href="#E182-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E182-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="574" xlink:href="#E182-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-462"></use></g><use x="3746" xlink:href="#E182-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4802" xlink:href="#E182-MJMAIN-221E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-181" type="math/tex">\sum_{k=1}^{\infty}\epsilon_k^{2}\lt \infty</script>。

3. 在实践中，学习率一般线性衰减到第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>次迭代，之后由于学习率足够小则可以保持不变：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1852-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.079ex" role="img" style="vertical-align: -2.456ex;" viewbox="0 -1560 15837.6 2617.5" width="36.784ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2019-MJMATHI-3F5" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2019-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2019-MJMAIN-3D" stroke-width="0"></path><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E2019-MJMAIN-7B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2019-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2019-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2019-MJMAIN-2212" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E2019-MJMATHI-3C4" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2019-MJMAIN-29" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2019-MJMAIN-30" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2019-MJMAIN-2B" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2019-MJMAIN-2C" stroke-width="0"></path><path d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" id="E2019-MJMAIN-2264" stroke-width="0"></path><path d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" id="E2019-MJMAIN-2265" stroke-width="0"></path><path d="M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z" id="E2019-MJSZ3-7B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2019-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2019-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1152" xlink:href="#E2019-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2207,0)"><use xlink:href="#E2019-MJSZ3-7B" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(917,0)"><g transform="translate(-15,0)"><g transform="translate(0,575)"><use x="0" xlink:href="#E2019-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="389" xlink:href="#E2019-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2019-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1889,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="84" xlink:href="#E2019-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><use transform="scale(0.707)" x="86" xlink:href="#E2019-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><use x="2839" xlink:href="#E2019-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3228,0)"><use x="0" xlink:href="#E2019-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2019-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4310" xlink:href="#E2019-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5088,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="84" xlink:href="#E2019-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><use transform="scale(0.707)" x="86" xlink:href="#E2019-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><g transform="translate(6039,0)"><use x="0" xlink:href="#E2019-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2019-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(0,-779)"><use x="0" xlink:href="#E2019-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2019-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(7895,0)"><g transform="translate(0,575)"><use x="0" xlink:href="#E2019-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="444" xlink:href="#E2019-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1222" xlink:href="#E2019-MJMAIN-2264" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2278" xlink:href="#E2019-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3077" xlink:href="#E2019-MJMAIN-2264" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4132" xlink:href="#E2019-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(0,-779)"><use x="0" xlink:href="#E2019-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="444" xlink:href="#E2019-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1243" xlink:href="#E2019-MJMAIN-2265" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2299" xlink:href="#E2019-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1852" type="math/tex; mode=display">\epsilon_k=\begin{cases} (1-\frac k\tau)\epsilon_0+\frac k\tau\epsilon_\tau&,0\le k\le \tau\\ \epsilon_{\tau}&,k\ge \tau \end{cases}</script>
其中：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>是预先指定的（如 `1000`），<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-184-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 2175.8 757.9" width="5.053ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E185-MJMATHI-3F5" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E185-MJMAIN-30" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E185-MJMAIN-2C" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E185-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E185-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E185-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="859" xlink:href="#E185-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1304,0)"><use x="0" xlink:href="#E185-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E185-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-184" type="math/tex">\epsilon_0,\epsilon_{\tau}</script>为常数。

学习率不能够衰减到零，因为一旦<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>衰减到零，则很难说明模型收敛是因为学习率为零，还是梯度为零。

4. <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-186-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 3137.5 757.9" width="7.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E187-MJMATHI-3F5" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E187-MJMAIN-30" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E187-MJMAIN-2C" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E187-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E187-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E187-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="859" xlink:href="#E187-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1304,0)"><use x="0" xlink:href="#E187-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E187-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2175" xlink:href="#E187-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2620" xlink:href="#E187-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-186" type="math/tex">\epsilon_0,\epsilon_{\tau},\tau</script>可以通过试验来选取。

    * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-187-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 871.6 757.9" width="2.024ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E188-MJMATHI-3F5" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E188-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E188-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E188-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-187" type="math/tex">\epsilon_{\tau}</script>通常被设置为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-190-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 859.6 757.9" width="1.996ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E191-MJMATHI-3F5" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E191-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E191-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E191-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-190" type="math/tex">\epsilon_0</script>的大约 `1%`， 即降低到足够低的位置。

    * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>决定了学习率衰减的速度：经过多少个迭代步，使得学习率降低到足够低的位置。

    * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-190-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 859.6 757.9" width="1.996ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E191-MJMATHI-3F5" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E191-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E191-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E191-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-190" type="math/tex">\epsilon_0</script>被称作初始学习率，它的选择是个重要因素：

        * 如果太大，则学习曲线将会剧烈震荡，代价函数值会明显增加。因为学习率太大，则容易发生超调现象。即：参数剧烈震荡，导致代价函数发散或者震荡。

        注意：温和的震荡是良好的。

        * 如果太小，则学习过程会非常缓慢，学习可能会卡在一个相当高的代价函数值上。

        * 通常最好检测最早的几轮迭代，使用一个高于此时效果最佳学习率的一个学习率，但是又不能太高以至于导致严重的不稳定性。



![](../imgs/dl_optimization/learning_rate.png)

5. 学习速率的选择更像是一门艺术，而不是科学。


#### 4.1.3 性质

1. `SGD`以及其它的`mini-batch`算法的最重要性质是：每一步参数更新的计算时间（就是计算梯度的时间）不会随着训练样本数量的增加而增加。

    * 即使训练样本数量非常庞大时，算法也能收敛。
    * 对于足够大的数据集，`SGD`可能在处理整个训练集的所有样本之前就收敛到测试集误差的允许范围之内了

2. 研究优化算法的收敛率，会衡量额外误差`excess error`：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-191-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 7503.1 1511.8" width="17.427ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E192-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E192-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E192-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E192-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E192-MJMAIN-29" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E192-MJMAIN-2212" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E192-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E192-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E192-MJMAIN-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E192-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E192-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E192-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E192-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E192-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2187" xlink:href="#E192-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3187,0)"><use xlink:href="#E192-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E192-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E192-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1667,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E192-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E192-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="5537" xlink:href="#E192-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6170" xlink:href="#E192-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6559,0)"><use x="1" xlink:href="#E192-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E192-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="7114" xlink:href="#E192-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-191" type="math/tex">J(\vec\theta)-\min_{\vec\theta}J(\vec\theta)</script>。它刻画了：目标函数当前值到目标函数最小值的距离。

    * `SGD`应用于凸问题时，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-520-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 521 858.4" width="1.21ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E521-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E521-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-520" type="math/tex">k</script>步迭代之后的额外误差量级是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-193-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.978ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -956.9 2858.4 1712.8" width="6.639ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E194-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E194-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E194-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E194-MJMATHI-6B" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E194-MJMAIN-221A" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E194-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E194-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E194-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1077" x="0" y="220"></rect><use transform="scale(0.707)" x="511" xlink:href="#E194-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><g transform="translate(60,-547)"><use transform="scale(0.707)" x="0" xlink:href="#E194-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="48"></use><rect height="42" stroke="none" width="368" x="589" y="557"></rect><use transform="scale(0.707)" x="833" xlink:href="#E194-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="2469" xlink:href="#E194-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-193" type="math/tex">O(\frac{1}{\sqrt k})</script>，在强凸情况下是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-236-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 2269.4 1461.5" width="5.271ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E237-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E237-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E237-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E237-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E237-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E237-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E237-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="95" xlink:href="#E237-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E237-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-559"></use></g></g><use x="1880" xlink:href="#E237-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-236" type="math/tex">O(\frac 1k)</script>。除非给定额外条件，否则这些界限无法进一步改进。
    * `Cramer-Rao`界限指出：泛化误差的下降速度不会快于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-236-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 2269.4 1461.5" width="5.271ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E237-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E237-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E237-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E237-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E237-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E237-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E237-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="95" xlink:href="#E237-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E237-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-559"></use></g></g><use x="1880" xlink:href="#E237-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-236" type="math/tex">O(\frac 1k)</script>。
    * `Bottou and Bousquet`认定：对于机器学习任务，不值得探寻收敛快于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-236-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 2269.4 1461.5" width="5.271ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E237-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E237-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E237-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E237-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E237-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E237-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E237-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="95" xlink:href="#E237-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E237-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-559"></use></g></g><use x="1880" xlink:href="#E237-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-236" type="math/tex">O(\frac 1k)</script>的优化算法。更快的收敛可能对应于过拟合。

本章中剩余介绍的大多数算法都实现了实践中的好处，但是丢失了常数倍<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-236-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 2269.4 1461.5" width="5.271ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E237-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E237-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E237-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E237-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E237-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E237-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E237-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="95" xlink:href="#E237-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E237-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-559"></use></g></g><use x="1880" xlink:href="#E237-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-236" type="math/tex">O(\frac 1k)</script>的渐进收敛率。

3. 可以结合标准梯度下降和`SGD`两者的优点，在学习过程中逐渐增大`mini-batch`的大小。


### 4.2 动量方法

#### 4.2.1 算法

1. 应用了学习率衰减的`SGD`算法存在一个问题：有些时候学习率会很小，但是明明可以应用一个较大的学习率，而`SGD` 并不知道这一情况。

其解决方法是采用动量方法。

2. 动量方法积累了之前梯度的指数级衰减的移动平均，然后继续沿着该方向移动。

    * 它是一种移动平均，权重是指数级衰减的：近期的权重较大，远期的权重很小。
    * 动量方法取这些加权梯度的均值，根据该均值的方向决定参数的更新方向。

3. 动量方法是一种框架，它可以应用到随机梯度下降`SGD` 算法中。

4. 动量方法引入了变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-214-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 607 908.7" width="1.41ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E215-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E215-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E215-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E215-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></svg></span><script id="MathJax-Element-214" type="math/tex">\mathbf{\vec v}</script>充当速度的角色：它刻画了参数在参数空间移动的方向和速度。

定义速度为负梯度的指数衰减平均，其更新规则为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1853-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.013ex" role="img" style="vertical-align: -4.557ex;" viewbox="0 -1057.4 38699.6 3019.6" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E2020-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2020-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2020-MJMAIN-2190" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E2020-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2020-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2020-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2020-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2020-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2020-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2020-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2020-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2020-MJMAIN-29" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2020-MJMAIN-2B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(15173,0)"><use x="0" xlink:href="#E2020-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2020-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E2020-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2162" xlink:href="#E2020-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2802,0)"><use x="0" xlink:href="#E2020-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2020-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3631" xlink:href="#E2020-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4632" xlink:href="#E2020-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5038,0)"><use x="0" xlink:href="#E2020-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2020-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2020-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="6387" xlink:href="#E2020-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7020" xlink:href="#E2020-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7409,0)"><use x="1" xlink:href="#E2020-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2020-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="7963" xlink:href="#E2020-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(17103,-1786)"><use x="1" xlink:href="#E2020-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2020-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E2020-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E2020-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2020-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E2020-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3886,0)"><use x="0" xlink:href="#E2020-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2020-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></g></svg></span></span><script id="MathJax-Element-1853" type="math/tex; mode=display">\mathbf{\vec v}\leftarrow \alpha\mathbf{\vec v}-\epsilon\nabla_{\vec\theta} J(\vec\theta)\\ \vec\theta\leftarrow \vec\theta+\mathbf{\vec v}</script>
超参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-199-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 3974.2 1109.7" width="9.23ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E200-MJMATHI-3B1" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E200-MJMAIN-2208" stroke-width="0"></path><path d="M118 -250V750H255V710H158V-210H255V-250H118Z" id="E200-MJMAIN-5B" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E200-MJMAIN-30" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E200-MJMAIN-2C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E200-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E200-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E200-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="917" xlink:href="#E200-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1862" xlink:href="#E200-MJMAIN-5B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2140" xlink:href="#E200-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2640" xlink:href="#E200-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3085" xlink:href="#E200-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3585" xlink:href="#E200-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-199" type="math/tex">\alpha \in[0,1)</script>描述了衰减权重的底数，从近期到远期的衰减权重为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-200-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -906.7 5333.1 1160" width="12.387ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E201-MJMATHI-3B1" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E201-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E201-MJMAIN-32" stroke-width="0"></path><path d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" id="E201-MJMAIN-33" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E201-MJMAIN-22EF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E201-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="640" xlink:href="#E201-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1084,0)"><use x="0" xlink:href="#E201-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="905" xlink:href="#E201-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="2178" xlink:href="#E201-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2622,0)"><use x="0" xlink:href="#E201-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="905" xlink:href="#E201-MJMAIN-33" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="3716" xlink:href="#E201-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4161" xlink:href="#E201-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-200" type="math/tex">\alpha,\alpha^{2},\alpha^{3},\cdots</script>

    * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>决定了梯度衰减有多快。
    * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>越大，则早期的梯度对当前的更新方向的影响越大；反之，则越小。

5. 令<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>为位移，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-356-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1965.3 1361" width="4.565ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E357-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E357-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E357-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E357-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E357-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E357-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E357-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E357-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E357-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E357-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-356" type="math/tex">J(\vec\theta)</script>为参数空间的势能，作用力<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-205-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 6556.2 1511.8" width="15.227ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M425 0L228 3Q63 3 51 0H39V62H147V618H39V680H644V676Q647 670 659 552T675 428V424H613Q613 433 605 477Q599 511 589 535T562 574T530 599T488 612T441 617T387 618H368H304V371H333Q389 373 411 390T437 468V488H499V192H437V212Q436 244 430 263T408 292T378 305T333 309H304V62H439V0H425Z" id="E206-MJMAINB-46" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E206-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E206-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E206-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E206-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E206-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E206-MJMATHI-3B8" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E206-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E206-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E206-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E206-MJMAINB-46" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="597" xlink:href="#E206-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="239"></use><use x="1001" xlink:href="#E206-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2057" xlink:href="#E206-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2835" xlink:href="#E206-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3241,0)"><use x="0" xlink:href="#E206-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E206-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E206-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="4590" xlink:href="#E206-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5223" xlink:href="#E206-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5612,0)"><use x="1" xlink:href="#E206-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E206-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="6167" xlink:href="#E206-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-205" type="math/tex">\vec {\mathbf F}=-\epsilon\nabla_{\vec\theta} J(\vec\theta)</script>。根据动量定理：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1854-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1007.2 7570 1310.7" width="17.582ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M425 0L228 3Q63 3 51 0H39V62H147V618H39V680H644V676Q647 670 659 552T675 428V424H613Q613 433 605 477Q599 511 589 535T562 574T530 599T488 612T441 617T387 618H368H304V371H333Q389 373 411 390T437 468V488H499V192H437V212Q436 244 430 263T408 292T378 305T333 309H304V62H439V0H425Z" id="E2021-MJMAINB-46" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2021-MJMAIN-20D7" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E2021-MJMAIN-394" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2021-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2021-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2021-MJMAIN-28" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2021-MJMATHI-6D" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2021-MJMAIN-D7" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E2021-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2021-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2021-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2021-MJMAINB-46" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="597" xlink:href="#E2021-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="239"></use><use x="724" xlink:href="#E2021-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1557" xlink:href="#E2021-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2195" xlink:href="#E2021-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3251" xlink:href="#E2021-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4084" xlink:href="#E2021-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4473" xlink:href="#E2021-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5573" xlink:href="#E2021-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6574,0)"><use x="0" xlink:href="#E2021-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2021-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7181" xlink:href="#E2021-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1854" type="math/tex; mode=display">\vec {\mathbf F}\Delta t=\Delta (m\times \mathbf{\vec v})</script>
    * 令粒子为单位质量，时间间隔为单位时间，则有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-206-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1007.2 4275.6 1310.7" width="9.93ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M425 0L228 3Q63 3 51 0H39V62H147V618H39V680H644V676Q647 670 659 552T675 428V424H613Q613 433 605 477Q599 511 589 535T562 574T530 599T488 612T441 617T387 618H368H304V371H333Q389 373 411 390T437 468V488H499V192H437V212Q436 244 430 263T408 292T378 305T333 309H304V62H439V0H425Z" id="E207-MJMAINB-46" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E207-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E207-MJMAIN-3D" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E207-MJMAIN-394" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E207-MJMAIN-28" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E207-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E207-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E207-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E207-MJMAINB-46" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="597" xlink:href="#E207-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="239"></use><use x="1001" xlink:href="#E207-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2057" xlink:href="#E207-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2890" xlink:href="#E207-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3279,0)"><use x="0" xlink:href="#E207-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E207-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3886" xlink:href="#E207-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-206" type="math/tex">\vec {\mathbf F} =\Delta ( \mathbf{\vec v})</script>，即：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-207-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 9620.6 1511.8" width="22.345ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E208-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E208-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E208-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E208-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E208-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E208-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E208-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E208-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E208-MJMAIN-3D" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E208-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E208-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E208-MJMATHI-74" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E208-MJMAIN-31" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E208-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E208-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E208-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1184,0)"><use x="0" xlink:href="#E208-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E208-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E208-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="2533" xlink:href="#E208-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3166" xlink:href="#E208-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3555,0)"><use x="1" xlink:href="#E208-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E208-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="4109" xlink:href="#E208-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4776" xlink:href="#E208-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5832,0)"><use x="0" xlink:href="#E208-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E208-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><g transform="translate(607,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E208-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="510" xlink:href="#E208-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><use x="7337" xlink:href="#E208-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8337,0)"><use x="0" xlink:href="#E208-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E208-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><g transform="translate(607,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E208-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="510" xlink:href="#E208-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></svg></span><script id="MathJax-Element-207" type="math/tex">-\epsilon\nabla_{\vec\theta} J(\vec\theta)=\mathbf{\vec v}_{t_1}-\mathbf{\vec v}_{t_0}</script>。

    则得到更新公式：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-208-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 7712.6 1511.8" width="17.913ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E209-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E209-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E209-MJMAIN-2190" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E209-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E209-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E209-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E209-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E209-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E209-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E209-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E209-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E209-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E209-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E209-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2162,0)"><use x="0" xlink:href="#E209-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E209-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="2991" xlink:href="#E209-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3992" xlink:href="#E209-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4398,0)"><use x="0" xlink:href="#E209-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E209-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E209-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="5747" xlink:href="#E209-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6380" xlink:href="#E209-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6769,0)"><use x="1" xlink:href="#E209-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E209-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="7323" xlink:href="#E209-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-208" type="math/tex">\mathbf{\vec v}\leftarrow \mathbf{\vec v}-\epsilon\nabla_{\vec\theta} J(\vec\theta)</script>。

    * 引入一个速度衰减系数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>，它对上一刻的速度进行降权，则有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-210-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 8352.6 1511.8" width="19.4ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E211-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E211-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E211-MJMAIN-2190" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E211-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E211-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E211-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E211-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E211-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E211-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E211-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E211-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E211-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E211-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E211-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E211-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2162" xlink:href="#E211-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2802,0)"><use x="0" xlink:href="#E211-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E211-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3631" xlink:href="#E211-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4632" xlink:href="#E211-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5038,0)"><use x="0" xlink:href="#E211-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E211-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E211-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="6387" xlink:href="#E211-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7020" xlink:href="#E211-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7409,0)"><use x="1" xlink:href="#E211-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E211-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="7963" xlink:href="#E211-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-210" type="math/tex">\mathbf{\vec v}\leftarrow \alpha\mathbf{\vec v}-\epsilon\nabla_{\vec\theta} J(\vec\theta)</script>。

    * 这段时间位移的增量为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-211-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 3741.6 908.7" width="8.69ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E212-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E212-MJMAINB-20D7" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E212-MJMAIN-394" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E212-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E212-MJMAIN-3D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E212-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E212-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="607" xlink:href="#E212-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1440" xlink:href="#E212-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2078" xlink:href="#E212-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3134,0)"><use x="0" xlink:href="#E212-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E212-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-211" type="math/tex">\mathbf{\vec v}\Delta t=\mathbf{\vec v}</script>，因此有位移更新公式：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-212-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 4493.6 1210.2" width="10.437ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E213-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E213-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E213-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E213-MJMAIN-2B" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E213-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E213-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E213-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E213-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E213-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E213-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E213-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E213-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3886,0)"><use x="0" xlink:href="#E213-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E213-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-212" type="math/tex">\vec\theta\leftarrow \vec\theta+\mathbf{\vec v}</script>。

        * 由于这个单位时间内，速度发生了变化，因此应该用平均速度。但是由于速度的变化不大，因此用最新的速度也可以。
        * 当前时刻的最新速度等于下一时刻的起始速度，因此无论用起始速度还是最新速度，位移的更新序列都是相同的。

    * 动量方法更新规则的物理意义为：速度更新，位移更新。


6. 下图给出了非动量的方法与动量方法的路径图。代价函数为一个二次函数，它的黑塞矩阵具有不良的条件数。

红色路径表示动量方法的路径图，黑色箭头给出了在这些点非动量方法的更新方向和步长。

    * 可以看到：动量方法能够快速、正确地到达极小值，而非动量方法会浪费大量的时间在某些方向上宽幅震荡。

    * 原因是：动量方法中，经过加权移动平均之后，在指向极小值的方向上的速度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-214-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 607 908.7" width="1.41ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E215-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E215-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E215-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E215-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></svg></span><script id="MathJax-Element-214" type="math/tex">\mathbf{\vec v}</script>不断加强，在垂直于极小值的方向上速度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-214-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 607 908.7" width="1.41ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E215-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E215-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E215-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E215-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></svg></span><script id="MathJax-Element-214" type="math/tex">\mathbf{\vec v}</script>不断抵消。

    最终参数会沿着极小值方向快速到达极小值，而在垂直极小值方向波动很小。




![](../imgs/dl_optimization/momentum.png)

7. 使用动量的`SGD`算法：

    * 输入：

        * 学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>
        * 动量参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>
        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>
        * 初始速度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-314-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1060.6 1059.4" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E315-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E315-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E315-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E315-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E315-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E315-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-314" type="math/tex">\mathbf{\vec v}_0</script>

    * 算法步骤：

    迭代，直到满足停止条件。迭代步骤为：

        * 从训练集中随机采样<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>构成`mini-batch`，对应的标记为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>。

        * 计算`mini-batch`上的梯度作为训练集的梯度的估计：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1855-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12510.8 2919" width="29.057ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2022-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2022-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2022-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2022-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2022-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2022-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2022-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2022-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2022-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2022-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2022-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2022-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2022-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2022-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2022-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2022-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2022-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2022-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2022-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2022-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2022-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2022-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2022-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2022-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1852,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2022-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2022-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3368,0)"><use x="0" xlink:href="#E2022-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2022-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2022-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(4884,0)"><use x="0" xlink:href="#E2022-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2022-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2022-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2022-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2022-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6495" xlink:href="#E2022-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7176" xlink:href="#E2022-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7565" xlink:href="#E2022-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8115" xlink:href="#E2022-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8504,0)"><use x="0" xlink:href="#E2022-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2022-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2022-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9455" xlink:href="#E2022-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9899,0)"><use x="1" xlink:href="#E2022-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2022-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10454" xlink:href="#E2022-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10843" xlink:href="#E2022-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11287,0)"><use x="0" xlink:href="#E2022-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2022-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12121" xlink:href="#E2022-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1855" type="math/tex; mode=display">\hat{\mathbf{\vec g}}\leftarrow \frac 1m \nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
        * 更新速度：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-222-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 5613 1310.7" width="13.037ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E223-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E223-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E223-MJMAIN-2190" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E223-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E223-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E223-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E223-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E223-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E223-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E223-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E223-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2162" xlink:href="#E223-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2802,0)"><use x="0" xlink:href="#E223-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E223-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3631" xlink:href="#E223-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4632" xlink:href="#E223-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5038,0)"><use x="0" xlink:href="#E223-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E223-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E223-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-222" type="math/tex">\mathbf{\vec v}\leftarrow \alpha\mathbf{\vec v}-\epsilon\hat{\mathbf{\vec g}}</script>

        * 更新参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-322-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 4493.6 1210.2" width="10.437ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E323-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E323-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E323-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E323-MJMAIN-2B" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E323-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E323-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E323-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E323-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E323-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E323-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E323-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E323-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3886,0)"><use x="0" xlink:href="#E323-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E323-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-322" type="math/tex">\vec\theta \leftarrow \vec\theta+\mathbf{\vec v}</script>




#### 4.2.2 衰减因子

1. 非动量方法的步长只是梯度范数乘以学习率。采用动量之后，步长取决于梯度序列、衰减因子、学习率。

    * 当有许多连续的梯度指向相同的方向时，步长最大。

    可以理解为：不同单位时刻的作用力沿着同一个方向连续的次数越多，则质点的速度会较大（不停沿着同一个方向加速）。而步长就是质点的速度。

    * 动量方法中，如果梯度始终为常量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-224-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 575 1059.4" width="1.335ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E225-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E225-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E225-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E225-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></svg></span><script id="MathJax-Element-224" type="math/tex">\mathbf{\vec g}</script>，则它会在方向<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-225-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1353 1059.4" width="3.142ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E226-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E226-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E226-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E226-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,0)"><use x="0" xlink:href="#E226-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E226-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-225" type="math/tex">-\mathbf{\vec g}</script>上不停地加速，直到最终的步长为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-226-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.861ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1208.2 1840 1662.6" width="4.274ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E227-MJMATHI-3F5" stroke-width="0"></path><path d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z" id="E227-MJMAIN-7C" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E227-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E227-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E227-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E227-MJMAIN-2212" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E227-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1599" x="0" y="220"></rect><g transform="translate(60,580)"><use transform="scale(0.707)" x="0" xlink:href="#E227-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="406" xlink:href="#E227-MJMAIN-7C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="684" xlink:href="#E227-MJMAIN-7C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(680,0)"><use transform="scale(0.707)" x="0" xlink:href="#E227-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="558" xlink:href="#E227-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="48"></use></g><use transform="scale(0.707)" x="1537" xlink:href="#E227-MJMAIN-7C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1815" xlink:href="#E227-MJMAIN-7C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(121,-376)"><use transform="scale(0.707)" x="0" xlink:href="#E227-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E227-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E227-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-226" type="math/tex">\frac {\epsilon||\mathbf{\vec g}||}{1-\alpha}</script>。

    >     > 

    > 通过求解速度序列<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-227-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 7343.2 1059.4" width="17.055ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E228-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E228-MJMAINB-20D7" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E228-MJMATHI-6E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E228-MJMAIN-3D" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E228-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E228-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E228-MJMAIN-31" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E228-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E228-MJMAINB-67" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E228-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E228-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E228-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1409" xlink:href="#E228-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2464" xlink:href="#E228-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3104,0)"><use x="0" xlink:href="#E228-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E228-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><g transform="translate(607,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E228-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="600" xlink:href="#E228-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1378" xlink:href="#E228-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5361" xlink:href="#E228-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6362" xlink:href="#E228-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6768,0)"><use x="0" xlink:href="#E228-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E228-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-227" type="math/tex">\mathbf{\vec v}_n=\alpha\mathbf{\vec v}_{n-1}-\epsilon \mathbf{\vec g}</script>的解析表达式可以得到




2. 实践中，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>取值一般为 0.5、0.9、0.99。

    * 和学习率一样，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>也可以随着时间变化。通常初始时采用一个较小的值，后面慢慢变大。
    * 随着时间推移，改变<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>没有收缩<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>更重要。因为只要<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-232-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 4307.1 858.4" width="10.004ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E233-MJMAIN-30" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E233-MJMAIN-3C" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E233-MJMATHI-3B1" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E233-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E233-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="777" xlink:href="#E233-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1833" xlink:href="#E233-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2751" xlink:href="#E233-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3807" xlink:href="#E233-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-232" type="math/tex">0\lt \alpha \lt 1</script>，则最终<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-233-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 6704.1 1210.2" width="15.571ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z" id="E234-MJMAIN-6C" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E234-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E234-MJMAIN-6D" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E234-MJMATHI-74" stroke-width="0"></path><path d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" id="E234-MJMAIN-2192" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E234-MJMAIN-2B" stroke-width="0"></path><path d="M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z" id="E234-MJMAIN-221E" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E234-MJMATHI-3B1" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E234-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E234-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E234-MJMAIN-6C" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="278" xlink:href="#E234-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="556" xlink:href="#E234-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1389,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E234-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E234-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1361" xlink:href="#E234-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2139" xlink:href="#E234-MJMAIN-221E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(3875,0)"><use x="0" xlink:href="#E234-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="905" xlink:href="#E234-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="5148" xlink:href="#E234-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6204" xlink:href="#E234-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-233" type="math/tex">\lim_{t\rightarrow +\infty }\alpha ^t =0</script>。因此最终参数更新主导的还是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-234-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1759 1310.7" width="4.085ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E235-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E235-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E235-MJMAINB-67" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E235-MJMAIN-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E235-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E235-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E235-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1184,0)"><use x="0" xlink:href="#E235-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E235-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="14"></use><use x="37" xlink:href="#E235-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="272"></use></g></g></svg></span><script id="MathJax-Element-234" type="math/tex">-\epsilon \hat{\vec{\mathbf g}}</script>。


#### 4.2.3 Nesterov 动量

1. `Nesterov`动量是动量方法的变种，也称作`Nesterov Accelerated Gradient`（`NAG`）。区别在于：计算`mini-batch`的梯度时，采用更新后的参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-235-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 3023.7 1210.2" width="7.023ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E236-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E236-MJMAIN-20D7" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E236-MJMAIN-2B" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E236-MJMATHI-3B1" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E236-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E236-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E236-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E236-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="776" xlink:href="#E236-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1776" xlink:href="#E236-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2416,0)"><use x="0" xlink:href="#E236-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E236-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-235" type="math/tex">\vec\theta+\alpha\mathbf{\vec v}</script>。

它可以视作向标准动量方法中添加了一个校正因子：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1856-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.013ex" role="img" style="vertical-align: -4.557ex;" viewbox="0 -1057.4 38699.6 3019.6" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E2023-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2023-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2023-MJMAIN-2190" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E2023-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2023-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2023-MJMATHI-3F5" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2023-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2023-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2023-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2023-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2023-MJMAIN-28" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2023-MJMAIN-2B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2023-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(13938,0)"><use x="0" xlink:href="#E2023-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2023-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E2023-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2162" xlink:href="#E2023-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2802,0)"><use x="0" xlink:href="#E2023-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2023-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3631" xlink:href="#E2023-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4632" xlink:href="#E2023-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5038,0)"><use x="0" xlink:href="#E2023-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2023-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2023-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="6387" xlink:href="#E2023-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7020" xlink:href="#E2023-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7409,0)"><use x="1" xlink:href="#E2023-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2023-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="8185" xlink:href="#E2023-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9186" xlink:href="#E2023-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9826,0)"><use x="0" xlink:href="#E2023-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2023-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="10433" xlink:href="#E2023-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(17103,-1786)"><use x="1" xlink:href="#E2023-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2023-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E2023-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E2023-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2023-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E2023-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3886,0)"><use x="0" xlink:href="#E2023-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2023-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></g></svg></span></span><script id="MathJax-Element-1856" type="math/tex; mode=display">\mathbf{\vec v}\leftarrow \alpha\mathbf{\vec v}-\epsilon\nabla_{\vec\theta}J(\vec\theta+\alpha\mathbf{\vec v})\\ \vec\theta\leftarrow \vec\theta+\mathbf{\vec v}</script>
2. 在凸`batch`梯度情况下，`Nesterov`动量将额外误差收敛率从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-236-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 2269.4 1461.5" width="5.271ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E237-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E237-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E237-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E237-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E237-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E237-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E237-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="488" x="0" y="220"></rect><use transform="scale(0.707)" x="95" xlink:href="#E237-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E237-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-559"></use></g></g><use x="1880" xlink:href="#E237-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-236" type="math/tex">O(\frac 1k)</script>改进到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-237-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.405ex;" viewbox="0 -956.9 2590.1 1562" width="6.016ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E238-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E238-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E238-MJMAIN-31" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E238-MJMATHI-6B" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E238-MJMAIN-32" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E238-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E238-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E238-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="809" x="0" y="220"></rect><use transform="scale(0.707)" x="322" xlink:href="#E238-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><g transform="translate(60,-535)"><use transform="scale(0.707)" x="0" xlink:href="#E238-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="736" xlink:href="#E238-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="595"></use></g></g></g><use x="2201" xlink:href="#E238-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-237" type="math/tex">O(\frac 1{k^{2}})</script>。

但是在随机梯度的情况下，`Nesterov`动量并没有改进收敛率。


## 五、自适应学习率算法

1. 假设代价函数高度敏感于参数空间中的某些方向，则优化算法最好针对不同的参数设置不同的学习率。

    * 代价函数变化明显的参数方向（偏导数较大）：学习率较小，使得更新的步长较小。
    * 代价函数变化不明显的参数方向（偏导数较小）：学习率较大，使得更新的步长较大。

2. 对于标准的`batch` 梯度下降优化算法，沿着负梯度的方向就是使得代价函数下降的方向。

    * 如果不同的方向设置了不同的学习率，则前进的方向不再是负梯度方向，有可能出现代价函数上升。
    * 对于`mini-batch` 梯度下降，由于对梯度引入了躁扰，因此可以针对不同的方向设置不同的学习率。

3. 选择哪个算法并没有一个统一的共识，并没有哪一个算法表现的最好。

目前流行的优化算法包括：`SGD`，具有动量的`SGD`，`RMSProp`，`AdaDelta`，`Adam`。选用哪个算法似乎主要取决于使用者对于算法的熟悉程度，以便调节超参数。


### 5.1 delta-bar-delta

1. `delta-bar-delta`算法是一个自适应学习率的算法，其策略是：对于代价函数，如果其偏导数保持相同的符号，则该方向的学习率应该增加；如果偏导数变化了符号，则该方向的学习率应该减小。

偏导数符号变化，说明更新的方向发生了反向。如果此时降低了学习率，则会对震荡执行衰减，会更有利于到达平衡点（偏导数为0的位置）。

2. `delta-bar-delta`算法只能用于标准的梯度下降中。`mini-batch`算法对于梯度的估计不是精确的，因此对于正负号的判断会出现较大偏差。

对于`mini-batch` 随机梯度下降，有一些自适应学习率的算法。包括：`AdaGrad、RMSProp、Adam` 等算法。


### 5.2 AdaGrad

1. `AdaGrad`算法会独立设置参数空间每个轴方向上的学习率。

    * 如果代价函数在某个方向上具有较大的偏导数，则这个方向上的学习率会相应降低。
    * 如果代价函数在某个方向上具有较小的偏导数，则这个方向上的学习率会相应提高。

2. `AdaGrad`算法的思想是：参数空间每个方向的学习率反比于某个值的平方根。这个值就是该方向上梯度分量的所有历史平方值之和。
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1857-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="9.114ex" role="img" style="vertical-align: -6.658ex;" viewbox="0 -1057.4 38699.6 3924.2" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E2024-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2024-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2024-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2024-MJMAIN-2B" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2024-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2024-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2024-MJMAIN-2299" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2024-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2024-MJMAIN-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2024-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2024-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2024-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(16232,0)"><use x="34" xlink:href="#E2024-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2024-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E2024-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2097,0)"><use x="34" xlink:href="#E2024-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2024-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="2861" xlink:href="#E2024-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3862,0)"><use x="0" xlink:href="#E2024-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2024-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2024-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="4659" xlink:href="#E2024-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5659,0)"><use x="0" xlink:href="#E2024-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2024-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2024-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g><g transform="translate(15640,-1740)"><use x="1" xlink:href="#E2024-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2024-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E2024-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E2024-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2024-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E2024-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3664,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="1495" x="0" y="220"></rect><use x="544" xlink:href="#E2024-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-916)"><use x="0" xlink:href="#E2024-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="90"></use><rect height="60" stroke="none" width="542" x="833" y="830"></rect><g transform="translate(833,0)"><use x="34" xlink:href="#E2024-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2024-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g></g></g></g><use x="5843" xlink:href="#E2024-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6844,0)"><use x="0" xlink:href="#E2024-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2024-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2024-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></g></svg></span></span><script id="MathJax-Element-1857" type="math/tex; mode=display">\mathbf{\vec r}\leftarrow \mathbf{\vec r}+\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}\\ \vec\theta \leftarrow \vec\theta -\frac{\epsilon}{ \sqrt{{\mathbf{\vec r}}}}\odot\hat{\mathbf{\vec g}}</script>
其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-551-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -655.4 778 808.1" width="1.807ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E552-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E552-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-551" type="math/tex">\odot</script>表示两个向量的逐元素的相乘。

    * 用平方和的平方根而不是均值，因为分量可能为负值。
    * 用历史结果累加，因为考虑的是该方向上的平均表现，而不仅仅是单次的表现。

3. `AdaGrad`算法：

    * 输入：

        * 全局学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>
        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>
        * 小常数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-330-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 451 908.7" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E331-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E331-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-330" type="math/tex">\delta</script>（为了数值稳定，大约为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-242-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 2003.7 1059.4" width="4.654ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E243-MJMAIN-31" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E243-MJMAIN-30" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E243-MJMAIN-2212" stroke-width="0"></path><path d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z" id="E243-MJMAIN-37" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E243-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="500" xlink:href="#E243-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1000,392)"><use transform="scale(0.707)" x="0" xlink:href="#E243-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E243-MJMAIN-37" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-242" type="math/tex">10^{-7}</script>）

    * 算法步骤：

        * 初始化梯度累计变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-315-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1007.2 2450.6 1109.7" width="5.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E316-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E316-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E316-MJMAIN-3D" stroke-width="0"></path><path d="M266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548Z" id="E316-MJMAINB-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E316-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E316-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E316-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1875,0)"><use x="0" xlink:href="#E316-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E316-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g></svg></span><script id="MathJax-Element-315" type="math/tex">\mathbf{\vec r}=\mathbf{\vec 0}</script>

        * 迭代，直到停止条件。迭代步骤为：

            * 从训练集中随机采样<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>构成`mini-batch`，对应的标记为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>。

            * 计算`mini-batch`上的梯度作为训练集的梯度的估计：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1858-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12510.8 2919" width="29.057ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2025-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2025-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2025-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2025-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2025-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2025-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2025-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2025-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2025-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2025-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2025-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2025-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2025-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2025-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2025-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2025-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2025-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2025-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2025-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2025-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2025-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2025-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2025-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2025-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1852,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2025-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2025-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3368,0)"><use x="0" xlink:href="#E2025-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2025-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2025-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(4884,0)"><use x="0" xlink:href="#E2025-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2025-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2025-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2025-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2025-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6495" xlink:href="#E2025-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7176" xlink:href="#E2025-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7565" xlink:href="#E2025-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8115" xlink:href="#E2025-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8504,0)"><use x="0" xlink:href="#E2025-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2025-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2025-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9455" xlink:href="#E2025-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9899,0)"><use x="1" xlink:href="#E2025-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2025-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10454" xlink:href="#E2025-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10843" xlink:href="#E2025-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11287,0)"><use x="0" xlink:href="#E2025-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2025-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12121" xlink:href="#E2025-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1858" type="math/tex; mode=display">\hat{\mathbf{\vec g}}\leftarrow \frac 1m \nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
            * 累计平方梯度：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-247-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 6234.4 1310.7" width="14.48ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E248-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E248-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E248-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E248-MJMAIN-2B" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E248-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E248-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E248-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E248-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E248-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E248-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2097,0)"><use x="34" xlink:href="#E248-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E248-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="2861" xlink:href="#E248-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3862,0)"><use x="0" xlink:href="#E248-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E248-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E248-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="4659" xlink:href="#E248-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5659,0)"><use x="0" xlink:href="#E248-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E248-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E248-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-247" type="math/tex">\mathbf{\vec r}\leftarrow \mathbf{\vec r}+\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}</script>

            * 计算更新（逐元素）：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-248-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.212ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1057.4 7719.6 1813.3" width="17.929ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E249-MJMAIN-394" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E249-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E249-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E249-MJMAIN-2190" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E249-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E249-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E249-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E249-MJMAIN-2B" stroke-width="0"></path><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E249-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E249-MJMAINB-20D7" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E249-MJMAIN-221A" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E249-MJMAIN-2299" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E249-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E249-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E249-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,0)"><use x="1" xlink:href="#E249-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E249-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1665" xlink:href="#E249-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2942" xlink:href="#E249-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3720,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1961" x="0" y="220"></rect><use transform="scale(0.707)" x="1183" xlink:href="#E249-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-576)"><use transform="scale(0.707)" x="0" xlink:href="#E249-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E249-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E249-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="89"></use><rect height="42" stroke="none" width="383" x="589" y="586"></rect><g transform="translate(589,0)"><use transform="scale(0.707)" x="33" xlink:href="#E249-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E249-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="43"></use></g></g></g></g></g><use x="6144" xlink:href="#E249-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7144,0)"><use x="0" xlink:href="#E249-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E249-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E249-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-248" type="math/tex">\Delta\vec\theta\leftarrow -\frac{\epsilon}{\delta+\sqrt{{\mathbf{\vec r}}}}\odot\hat{\mathbf{\vec g}}</script>

            * 更新参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-344-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 5273.9 1210.2" width="12.249ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E345-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E345-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E345-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E345-MJMAIN-2B" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E345-MJMAIN-394" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E345-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E345-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3886" xlink:href="#E345-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4719,0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-344" type="math/tex">\vec\theta \leftarrow \vec\theta+\Delta\vec\theta</script>




4. 由于随迭代次数的增加，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-252-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 795 757.9" width="1.846ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E253-MJMATHI-72" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E253-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E253-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="637" xlink:href="#E253-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-252" type="math/tex">r_i</script>的值也会增加，因此<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-251-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 2201.3 1562" width="5.113ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E252-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E252-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E252-MJMAIN-2B" stroke-width="0"></path><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E252-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E252-MJMAINB-20D7" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E252-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1961" x="0" y="220"></rect><use transform="scale(0.707)" x="1183" xlink:href="#E252-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-576)"><use transform="scale(0.707)" x="0" xlink:href="#E252-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E252-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E252-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="89"></use><rect height="42" stroke="none" width="383" x="589" y="586"></rect><g transform="translate(589,0)"><use transform="scale(0.707)" x="33" xlink:href="#E252-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E252-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="43"></use></g></g></g></g></g></svg></span><script id="MathJax-Element-251" type="math/tex">\frac{\epsilon}{\delta+\sqrt{{\mathbf{\vec r}}}}</script>随着迭代的推进而降低。这起到了一个学习率衰减的效果。

另一方面，不同方向的分量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-252-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 795 757.9" width="1.846ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E253-MJMATHI-72" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E253-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E253-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="637" xlink:href="#E253-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-252" type="math/tex">r_i</script>不同，平均来说梯度分量越大的方向的学习率下降的最快。这起到了一个自适应的效果。

5. 效果：

    * 在凸优化中，`AdaGrad`算法效果较好。

    * `AdaGrad`算法在某些深度学习模型上效果不错，但大多数情况下效果不好。

    在训练深度神经网络模型的实践中发现：`AdaGrad` 学习速率减小的时机过早，且减小的幅度过量。因为学习率与历史梯度的平方和的开方成反比，导致过快、过多的下降。



### 5.3 RMSProp

#### 5.3.1 RMSProp 原始算法

1. `RMSProp`是`AdaGrad`的一个修改：将梯度累计策略修改为指数加权的移动平均。
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1859-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="9.114ex" role="img" style="vertical-align: -6.658ex;" viewbox="0 -1057.4 38699.6 3924.2" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E2026-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2026-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2026-MJMAIN-2190" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E2026-MJMATHI-3C1" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2026-MJMAIN-2B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2026-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2026-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2026-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2026-MJMAIN-29" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2026-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2026-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2026-MJMAIN-2299" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2026-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2026-MJMAIN-20D7" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2026-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2026-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(14465,0)"><use x="34" xlink:href="#E2026-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2026-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E2026-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2097" xlink:href="#E2026-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2614,0)"><use x="34" xlink:href="#E2026-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2026-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="3378" xlink:href="#E2026-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4379" xlink:href="#E2026-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4768" xlink:href="#E2026-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5490" xlink:href="#E2026-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6490" xlink:href="#E2026-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7007" xlink:href="#E2026-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7396,0)"><use x="0" xlink:href="#E2026-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2026-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2026-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="8193" xlink:href="#E2026-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9193,0)"><use x="0" xlink:href="#E2026-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2026-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2026-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g><g transform="translate(15640,-1789)"><use x="1" xlink:href="#E2026-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2026-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E2026-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E2026-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2026-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E2026-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3664,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="1495" x="0" y="220"></rect><use x="544" xlink:href="#E2026-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-916)"><use x="0" xlink:href="#E2026-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="90"></use><rect height="60" stroke="none" width="542" x="833" y="830"></rect><g transform="translate(833,0)"><use x="34" xlink:href="#E2026-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2026-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g></g></g></g><use x="5843" xlink:href="#E2026-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6844,0)"><use x="0" xlink:href="#E2026-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2026-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2026-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></g></svg></span></span><script id="MathJax-Element-1859" type="math/tex; mode=display">\mathbf{\vec r}\leftarrow \rho\mathbf{\vec r}+(1-\rho)\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}\\ \vec\theta \leftarrow \vec\theta -\frac{\epsilon}{ \sqrt{\mathbf{\vec r}}}\odot\hat{\mathbf{\vec g}}</script>
其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-324-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 517 808.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E325-MJMATHI-3C1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E325-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-324" type="math/tex">\rho</script>为衰减速率，它决定了指数加权移动平均的有效长度。

2. 标准的`RMSProp`算法：

    * 输入：

        * 全局学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>
        * 衰减速率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-324-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 517 808.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E325-MJMATHI-3C1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E325-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-324" type="math/tex">\rho</script>
        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>
        * 小常数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-330-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 451 908.7" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E331-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E331-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-330" type="math/tex">\delta</script>（为了数值稳定，大约为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-258-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 2003.7 1059.4" width="4.654ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E259-MJMAIN-31" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E259-MJMAIN-30" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E259-MJMAIN-2212" stroke-width="0"></path><path d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" id="E259-MJMAIN-36" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E259-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="500" xlink:href="#E259-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1000,392)"><use transform="scale(0.707)" x="0" xlink:href="#E259-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E259-MJMAIN-36" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-258" type="math/tex">10^{-6}</script>）

    * 算法步骤：

        * 初始化梯度累计变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-315-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1007.2 2450.6 1109.7" width="5.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E316-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E316-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E316-MJMAIN-3D" stroke-width="0"></path><path d="M266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548Z" id="E316-MJMAINB-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E316-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E316-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E316-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1875,0)"><use x="0" xlink:href="#E316-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E316-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g></svg></span><script id="MathJax-Element-315" type="math/tex">\mathbf{\vec r}=\mathbf{\vec 0}</script>

        * 迭代，直到停止条件。迭代步骤为：

            * 从训练集中随机采样<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>构成`mini-batch`，对应的标记为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>。

            * 计算`mini-batch`上的梯度作为训练集的梯度的估计：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1860-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12510.8 2919" width="29.057ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2027-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2027-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2027-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2027-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2027-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2027-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2027-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2027-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2027-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2027-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2027-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2027-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2027-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2027-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2027-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2027-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2027-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2027-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2027-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2027-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2027-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2027-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2027-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2027-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1852,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2027-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2027-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3368,0)"><use x="0" xlink:href="#E2027-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2027-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2027-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(4884,0)"><use x="0" xlink:href="#E2027-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2027-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2027-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2027-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2027-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6495" xlink:href="#E2027-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7176" xlink:href="#E2027-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7565" xlink:href="#E2027-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8115" xlink:href="#E2027-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8504,0)"><use x="0" xlink:href="#E2027-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2027-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2027-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9455" xlink:href="#E2027-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9899,0)"><use x="1" xlink:href="#E2027-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2027-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10454" xlink:href="#E2027-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10843" xlink:href="#E2027-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11287,0)"><use x="0" xlink:href="#E2027-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2027-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12121" xlink:href="#E2027-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1860" type="math/tex; mode=display">\hat{\mathbf{\vec g}}\leftarrow \frac 1m \nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
            * 累计平方梯度：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-320-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 9768.9 1361" width="22.689ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E321-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E321-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E321-MJMAIN-2190" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E321-MJMATHI-3C1" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E321-MJMAIN-2B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E321-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E321-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E321-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E321-MJMAIN-29" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E321-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E321-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E321-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E321-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E321-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2097" xlink:href="#E321-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2614,0)"><use x="34" xlink:href="#E321-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="3378" xlink:href="#E321-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4379" xlink:href="#E321-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4768" xlink:href="#E321-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5490" xlink:href="#E321-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6490" xlink:href="#E321-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7007" xlink:href="#E321-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7396,0)"><use x="0" xlink:href="#E321-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E321-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="8193" xlink:href="#E321-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9193,0)"><use x="0" xlink:href="#E321-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E321-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-320" type="math/tex">\mathbf{\vec r}\leftarrow \rho\mathbf{\vec r}+(1-\rho)\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}</script>

            * 计算更新（逐元素）：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-264-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.212ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1057.4 7719.6 1813.3" width="17.929ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E265-MJMAIN-394" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E265-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E265-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E265-MJMAIN-2190" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E265-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E265-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E265-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E265-MJMAIN-2B" stroke-width="0"></path><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E265-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E265-MJMAINB-20D7" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E265-MJMAIN-221A" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E265-MJMAIN-2299" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E265-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E265-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E265-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,0)"><use x="1" xlink:href="#E265-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E265-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1665" xlink:href="#E265-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2942" xlink:href="#E265-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3720,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1961" x="0" y="220"></rect><use transform="scale(0.707)" x="1183" xlink:href="#E265-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-576)"><use transform="scale(0.707)" x="0" xlink:href="#E265-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E265-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E265-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="89"></use><rect height="42" stroke="none" width="383" x="589" y="586"></rect><g transform="translate(589,0)"><use transform="scale(0.707)" x="33" xlink:href="#E265-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E265-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="43"></use></g></g></g></g></g><use x="6144" xlink:href="#E265-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7144,0)"><use x="0" xlink:href="#E265-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E265-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E265-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-264" type="math/tex">\Delta\vec\theta\leftarrow -\frac{\epsilon}{\delta+\sqrt{\mathbf{\vec r}}}\odot\hat{\mathbf{\vec g}}</script>

            * 更新参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-344-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 5273.9 1210.2" width="12.249ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E345-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E345-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E345-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E345-MJMAIN-2B" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E345-MJMAIN-394" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E345-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E345-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3886" xlink:href="#E345-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4719,0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-344" type="math/tex">\vec\theta \leftarrow \vec\theta+\Delta\vec\theta</script>




3. 实践证明`RMSProp`是一种有效、实用的深度神经网络优化算法，目前它是深度学习业界经常采用的优化方法之一。


#### 5.3.2 RMSProp 原始算法性质

1. 假设迭代过程中，梯度刚好是固定的某个量，令<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-346-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 4248 1310.7" width="9.866ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131Z" id="E347-MJMAINB-63" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E347-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E347-MJMAIN-3D" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E347-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E347-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E347-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="15" xlink:href="#E347-MJMAINB-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E347-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="819" xlink:href="#E347-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1875,0)"><use x="0" xlink:href="#E347-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E347-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E347-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="2672" xlink:href="#E347-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3673,0)"><use x="0" xlink:href="#E347-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E347-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E347-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-346" type="math/tex">\mathbf{\vec c}=\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}</script>。对于某个方向，假设其分量为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-347-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 2701.1 1210.2" width="6.273ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E348-MJMATHI-63" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E348-MJMAIN-3D" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E348-MJMATHI-67" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E348-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E348-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="710" xlink:href="#E348-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1766,0)"><use x="0" xlink:href="#E348-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="680" xlink:href="#E348-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g></svg></span><script id="MathJax-Element-347" type="math/tex">c=g^2</script>。

对于`RMSProp` 算法：根据等比数列求和公式，该方向的比例因子为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-268-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 5867.2 1109.7" width="13.627ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E269-MJMATHI-72" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E269-MJMAIN-3D" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E269-MJMATHI-63" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E269-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E269-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E269-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E269-MJMATHI-3C1" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E269-MJMATHI-3C4" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E269-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E269-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="728" xlink:href="#E269-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1784" xlink:href="#E269-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2384,0)"><use x="0" xlink:href="#E269-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="389" xlink:href="#E269-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E269-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2111,0)"><use x="0" xlink:href="#E269-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E269-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="3094" xlink:href="#E269-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-268" type="math/tex">r=c\left(1-\rho^{\tau}\right)</script>，其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>为迭代次数。

    * 该方向的学习率为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1861-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.846ex" role="img" style="vertical-align: -3.04ex;" viewbox="0 -1208.2 8838.6 2517" width="20.528ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2028-MJMATHI-3F5" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E2028-MJMAIN-AF" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2028-MJMAIN-3D" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E2028-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2028-MJMAIN-2B" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E2028-MJMATHI-63" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2028-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2028-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2028-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E2028-MJMATHI-3C1" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E2028-MJMATHI-3C4" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2028-MJMAIN-29" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2028-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E2028-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E2028-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-38"></use><use x="833" xlink:href="#E2028-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1611,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="6709" x="0" y="220"></rect><use x="3151" xlink:href="#E2028-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-898)"><use x="0" xlink:href="#E2028-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="673" xlink:href="#E2028-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1673,0)"><use x="0" xlink:href="#E2028-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="22"></use><rect height="60" stroke="none" width="3916" x="1000" y="812"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2028-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="433" xlink:href="#E2028-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="822" xlink:href="#E2028-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1544" xlink:href="#E2028-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2544,0)"><use x="0" xlink:href="#E2028-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2028-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g><use x="3527" xlink:href="#E2028-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1861" type="math/tex; mode=display">\bar \epsilon=\frac{\epsilon}{\delta+\sqrt{c(1-\rho^\tau)}}</script>
        * 随着<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>的增大，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-291-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.644ex" role="img" style="vertical-align: -0.026ex; margin-bottom: -0.213ex;" viewbox="0 -605.1 555.6 707.6" width="1.29ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E292-MJMATHI-3F5" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E292-MJMAIN-AF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E292-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E292-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-38"></use></g></svg></span><script id="MathJax-Element-291" type="math/tex">\bar\epsilon</script>会减小，因为分母在增加。
        * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-354-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 451 607.1" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E355-MJMATHI-72" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E355-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-354" type="math/tex">r</script>在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-293-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E294-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E294-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-293" type="math/tex">\tau</script>逐渐增大时，从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-274-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 3450.4 1109.7" width="8.014ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E275-MJMATHI-63" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E275-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E275-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E275-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E275-MJMATHI-3C1" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E275-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E275-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="433" xlink:href="#E275-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="822" xlink:href="#E275-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1544" xlink:href="#E275-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2544" xlink:href="#E275-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3061" xlink:href="#E275-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-274" type="math/tex">c(1-\rho)</script>增加到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-294-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 433 607.1" width="1.006ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E295-MJMATHI-63" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E295-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-294" type="math/tex">c</script>，其取值范围有限。它使得<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-296-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.644ex" role="img" style="vertical-align: -0.026ex; margin-bottom: -0.213ex;" viewbox="0 -605.1 555.6 707.6" width="1.29ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E297-MJMATHI-3F5" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E297-MJMAIN-AF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E297-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E297-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-38"></use></g></svg></span><script id="MathJax-Element-296" type="math/tex">\bar\epsilon</script>取值从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-277-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.861ex" role="img" style="vertical-align: -1.989ex;" viewbox="0 -806.1 4061.7 1662.6" width="9.434ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E278-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E278-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E278-MJMAIN-2B" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E278-MJMATHI-63" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E278-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E278-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E278-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E278-MJMATHI-3C1" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E278-MJMAIN-29" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E278-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3821" x="0" y="220"></rect><use transform="scale(0.707)" x="2499" xlink:href="#E278-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-553)"><use transform="scale(0.707)" x="0" xlink:href="#E278-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E278-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E278-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><rect height="42" stroke="none" width="2125" x="707" y="563"></rect><g transform="translate(707,0)"><use transform="scale(0.707)" x="0" xlink:href="#E278-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="433" xlink:href="#E278-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="822" xlink:href="#E278-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1322" xlink:href="#E278-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2100" xlink:href="#E278-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2617" xlink:href="#E278-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></svg></span><script id="MathJax-Element-277" type="math/tex">\frac{\epsilon}{\delta+\sqrt{c(1-\rho)}}</script>降低到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-304-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 2124.2 1562" width="4.934ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E305-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E305-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E305-MJMAIN-2B" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E305-MJMATHI-63" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E305-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1884" x="0" y="220"></rect><use transform="scale(0.707)" x="1129" xlink:href="#E305-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-457)"><use transform="scale(0.707)" x="0" xlink:href="#E305-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E305-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E305-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-79"></use><rect height="42" stroke="none" width="306" x="589" y="467"></rect><use transform="scale(0.707)" x="833" xlink:href="#E305-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-304" type="math/tex">\frac{\epsilon}{\delta+\sqrt{c}}</script>。

    * 当某个方向的导数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-286-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 480 808.1" width="1.115ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E287-MJMATHI-67" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E287-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-286" type="math/tex">g</script>相对于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-299-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 451 908.7" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E300-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E300-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-299" type="math/tex">\delta</script>较大时，更新步长为（考虑到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-281-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 6202.1 1210.2" width="14.405ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E282-MJMATHI-72" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E282-MJMAIN-3D" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E282-MJMATHI-67" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E282-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E282-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E282-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E282-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E282-MJMATHI-3C1" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E282-MJMATHI-3C4" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E282-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E282-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="728" xlink:href="#E282-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1784,0)"><use x="0" xlink:href="#E282-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="680" xlink:href="#E282-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="2719" xlink:href="#E282-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3108" xlink:href="#E282-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3830" xlink:href="#E282-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4830,0)"><use x="0" xlink:href="#E282-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E282-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="5813" xlink:href="#E282-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-281" type="math/tex">r=g^2(1-\rho^\tau)</script>）：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1862-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.846ex" role="img" style="vertical-align: -3.04ex;" viewbox="0 -1208.2 9196 2517" width="21.359ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2029-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E2029-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2029-MJMAIN-2B" stroke-width="0"></path><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2029-MJMATHI-72" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2029-MJMAIN-221A" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2029-MJMATHI-67" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2029-MJMAIN-223C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2029-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2029-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E2029-MJMATHI-3C1" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E2029-MJMATHI-3C4" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2029-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3077" x="0" y="220"></rect><use x="1335" xlink:href="#E2029-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-764)"><use x="0" xlink:href="#E2029-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="673" xlink:href="#E2029-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1673,0)"><use x="0" xlink:href="#E2029-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-62"></use><rect height="60" stroke="none" width="451" x="833" y="678"></rect><use x="833" xlink:href="#E2029-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="3317" xlink:href="#E2029-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4075" xlink:href="#E2029-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4853,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3825" x="0" y="220"></rect><use x="1709" xlink:href="#E2029-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-873)"><use x="0" xlink:href="#E2029-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-3"></use><rect height="60" stroke="none" width="2705" x="1000" y="787"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2029-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="722" xlink:href="#E2029-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1722,0)"><use x="0" xlink:href="#E2029-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2029-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1862" type="math/tex; mode=display">\frac{\epsilon}{\delta+\sqrt{r}}g\sim \frac{\epsilon}{\sqrt{1-\rho^\tau}}</script>
        * 它与梯度无关，只与迭代次数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>有关。
        * 随着<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>增大，从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-284-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.861ex" role="img" style="vertical-align: -1.989ex;" viewbox="0 -806.1 2336.4 1662.6" width="5.426ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E285-MJMATHI-3F5" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E285-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E285-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E285-MJMATHI-3C1" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E285-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2096" x="0" y="220"></rect><use transform="scale(0.707)" x="1279" xlink:href="#E285-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(59,-535)"><use transform="scale(0.707)" x="0" xlink:href="#E285-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-19"></use><rect height="42" stroke="none" width="1269" x="707" y="545"></rect><g transform="translate(707,0)"><use transform="scale(0.707)" x="0" xlink:href="#E285-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E285-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E285-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-284" type="math/tex">\frac{\epsilon}{\sqrt{1-\rho}}</script>降低到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>。
        * `RMSProP` 算法确保了在梯度较大时，学习的步长不会很小。

    * 当导数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-286-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 480 808.1" width="1.115ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E287-MJMATHI-67" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E287-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-286" type="math/tex">g</script>非常小以至于和<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-330-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 451 908.7" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E331-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E331-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-330" type="math/tex">\delta</script>相差无几时，此时更新步长与梯度有关。

    但是由于此时梯度非常小，算法可能已经收敛。


2. 对于`AdaGrad`算法的情况：根据等差数列的求和公式，该方向的比例因子为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-288-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 2734.6 607.1" width="6.351ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E289-MJMATHI-72" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E289-MJMAIN-3D" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E289-MJMATHI-3C4" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E289-MJMATHI-63" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E289-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="728" xlink:href="#E289-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1784" xlink:href="#E289-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2301" xlink:href="#E289-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-288" type="math/tex">r=\tau c</script>，其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>为迭代次数。

    * 该方向的学习率为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1863-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.379ex" role="img" style="vertical-align: -2.573ex;" viewbox="0 -1208.2 5705.6 2315.9" width="13.252ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2030-MJMATHI-3F5" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E2030-MJMAIN-AF" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2030-MJMAIN-3D" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E2030-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2030-MJMAIN-2B" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E2030-MJMATHI-3C4" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E2030-MJMATHI-63" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2030-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E2030-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E2030-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-38"></use><use x="833" xlink:href="#E2030-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1611,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3576" x="0" y="220"></rect><use x="1585" xlink:href="#E2030-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-763)"><use x="0" xlink:href="#E2030-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="673" xlink:href="#E2030-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1673,0)"><use x="0" xlink:href="#E2030-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-64"></use><rect height="60" stroke="none" width="950" x="833" y="676"></rect><g transform="translate(833,0)"><use x="0" xlink:href="#E2030-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="517" xlink:href="#E2030-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1863" type="math/tex; mode=display">\bar\epsilon=\frac{\epsilon}{\delta+\sqrt{\tau c}}</script>
        * 随着<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>的增大，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-291-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.644ex" role="img" style="vertical-align: -0.026ex; margin-bottom: -0.213ex;" viewbox="0 -605.1 555.6 707.6" width="1.29ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E292-MJMATHI-3F5" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E292-MJMAIN-AF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E292-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E292-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-38"></use></g></svg></span><script id="MathJax-Element-291" type="math/tex">\bar\epsilon</script>会减小，因为分母在增加。
        * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-354-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 451 607.1" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E355-MJMATHI-72" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E355-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-354" type="math/tex">r</script>在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-293-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E294-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E294-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-293" type="math/tex">\tau</script>逐渐增大时，从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-294-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 433 607.1" width="1.006ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E295-MJMATHI-63" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E295-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-294" type="math/tex">c</script>增加到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-295-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -655.4 1778 808.1" width="4.13ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E296-MJMAIN-2B" stroke-width="0"></path><path d="M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z" id="E296-MJMAIN-221E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E296-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E296-MJMAIN-221E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-295" type="math/tex">+\infty</script>。从而使得<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-296-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.644ex" role="img" style="vertical-align: -0.026ex; margin-bottom: -0.213ex;" viewbox="0 -605.1 555.6 707.6" width="1.29ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E297-MJMATHI-3F5" stroke-width="0"></path><path d="M69 544V590H430V544H69Z" id="E297-MJMAIN-AF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E297-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E297-MJMAIN-AF" xmlns:xlink="http://www.w3.org/1999/xlink" y="-38"></use></g></svg></span><script id="MathJax-Element-296" type="math/tex">\bar\epsilon</script>取值从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-304-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 2124.2 1562" width="4.934ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E305-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E305-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E305-MJMAIN-2B" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E305-MJMATHI-63" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E305-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1884" x="0" y="220"></rect><use transform="scale(0.707)" x="1129" xlink:href="#E305-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-457)"><use transform="scale(0.707)" x="0" xlink:href="#E305-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E305-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E305-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-79"></use><rect height="42" stroke="none" width="306" x="589" y="467"></rect><use transform="scale(0.707)" x="833" xlink:href="#E305-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-304" type="math/tex">\frac{\epsilon}{\delta+\sqrt{c}}</script>降低到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-303-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 500 858.4" width="1.161ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E304-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E304-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-303" type="math/tex">0</script>。

    * 当该方向的梯度对于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-299-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 451 908.7" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E300-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E300-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-299" type="math/tex">\delta</script>较大时，更新步长为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1864-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.379ex" role="img" style="vertical-align: -2.573ex;" viewbox="0 -1208.2 6841 2315.9" width="15.889ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2031-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E2031-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2031-MJMAIN-2B" stroke-width="0"></path><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2031-MJMATHI-72" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2031-MJMAIN-221A" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2031-MJMATHI-67" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2031-MJMAIN-223C" stroke-width="0"></path><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E2031-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3077" x="0" y="220"></rect><use x="1335" xlink:href="#E2031-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-764)"><use x="0" xlink:href="#E2031-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="673" xlink:href="#E2031-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1673,0)"><use x="0" xlink:href="#E2031-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-62"></use><rect height="60" stroke="none" width="451" x="833" y="678"></rect><use x="833" xlink:href="#E2031-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="3317" xlink:href="#E2031-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4075" xlink:href="#E2031-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4853,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1470" x="0" y="220"></rect><use x="532" xlink:href="#E2031-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-757)"><use x="0" xlink:href="#E2031-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-69"></use><rect height="60" stroke="none" width="517" x="833" y="671"></rect><use x="833" xlink:href="#E2031-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span></span><script id="MathJax-Element-1864" type="math/tex; mode=display">\frac{\epsilon}{\delta+\sqrt{r}}g\sim \frac{\epsilon}{\sqrt{\tau}}</script>
    它与梯度无关，只与迭代次数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>有关。随着<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-301-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 517 607.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z" id="E302-MJMATHI-3C4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E302-MJMATHI-3C4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-301" type="math/tex">\tau</script>增大，从<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-307-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E308-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E308-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-307" type="math/tex">\epsilon</script>降低到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-303-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 500 858.4" width="1.161ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E304-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E304-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-303" type="math/tex">0</script>。

    因此，即使此时的梯度仍然较大，学习的步长仍然接近 0 。


3. `RMSProp` 算法 `vs AdaGrad` 算法：

    * `AdaGrad` 算法中，随着迭代次数的增加，其学习率降低到 0。 而`RMSProp` 算法中，学习率降低到一个较大的渐进值<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-304-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 2124.2 1562" width="4.934ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E305-MJMATHI-3F5" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E305-MJMATHI-3B4" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E305-MJMAIN-2B" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E305-MJMATHI-63" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E305-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1884" x="0" y="220"></rect><use transform="scale(0.707)" x="1129" xlink:href="#E305-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-457)"><use transform="scale(0.707)" x="0" xlink:href="#E305-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="451" xlink:href="#E305-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,0)"><use transform="scale(0.707)" x="0" xlink:href="#E305-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-79"></use><rect height="42" stroke="none" width="306" x="589" y="467"></rect><use transform="scale(0.707)" x="833" xlink:href="#E305-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-304" type="math/tex">\frac{\epsilon}{\delta+\sqrt{c}}</script>。
    * `AdaGrad` 算法中，随着迭代次数的增加，更新步长降低到 0 。而`RMSProp` 算法中，更新步长降低到一个较大的值<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>。


#### 5.3.3 RMSProp 动量算法

1. `RMSProp` 也可以结合 `Nesterov` 动量算法。

本质上 `Nesterov` 算法（包括其他的动量算法）是关于如何更新参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>的算法，它并不涉及任何学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-307-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E308-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E308-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-307" type="math/tex">\epsilon</script>的选取。`RMSProp` 算法是关于如何选取学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>的算法，它并不涉及如何更新参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>。因此二者可以结合。

2. `RMSProp` 动量算法

    * 输入：

        * 全局学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>
        * 衰减速率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-324-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 517 808.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E325-MJMATHI-3C1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E325-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-324" type="math/tex">\rho</script>
        * 动量系数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>
        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>
        * 初始速度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-314-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1060.6 1059.4" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E315-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E315-MJMAINB-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E315-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E315-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E315-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E315-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-314" type="math/tex">\mathbf{\vec v}_0</script>

    * 算法步骤：

        * 初始化梯度累计变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-315-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1007.2 2450.6 1109.7" width="5.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E316-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E316-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E316-MJMAIN-3D" stroke-width="0"></path><path d="M266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548Z" id="E316-MJMAINB-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E316-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E316-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E316-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1875,0)"><use x="0" xlink:href="#E316-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E316-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g></svg></span><script id="MathJax-Element-315" type="math/tex">\mathbf{\vec r}=\mathbf{\vec 0}</script>

        * 迭代，直到停止条件。迭代步骤为：<br></br>

            * 从训练集中随机采样<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>构成`mini-batch`，对应的标记为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>

            * 计算临时更新：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-319-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1258.5 5148.1 1411.3" width="11.957ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E320-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E320-MJMAIN-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E320-MJMAIN-7E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E320-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E320-MJMAIN-2B" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E320-MJMATHI-3B1" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E320-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E320-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E320-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E320-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="68" xlink:href="#E320-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="838"></use><use x="846" xlink:href="#E320-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2124,0)"><use x="1" xlink:href="#E320-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E320-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2900" xlink:href="#E320-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3901" xlink:href="#E320-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4541,0)"><use x="0" xlink:href="#E320-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E320-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-319" type="math/tex">\tilde {\vec\theta}\leftarrow \vec\theta+\alpha\mathbf{\vec v}</script>

            >             > 

            > 这是因为 `Nesterov`动量算法使用更新后的参数来计算代价函数。如果使用原始的动量算法，则不需要这一步。



            * 计算`mini-batch`上的梯度作为训练集的梯度的估计：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1865-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12535.5 2919" width="29.115ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2032-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2032-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2032-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2032-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2032-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2032-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2032-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2032-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2032-MJMAIN-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E2032-MJMAIN-7E" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2032-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2032-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2032-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2032-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2032-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2032-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2032-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2032-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2032-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2032-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2032-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2032-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2032-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2032-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2032-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1852,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2032-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2032-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3368,0)"><use x="0" xlink:href="#E2032-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-518)"><use transform="scale(0.707)" x="1" xlink:href="#E2032-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2032-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use><use transform="scale(0.707)" x="103" xlink:href="#E2032-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="901"></use></g></g><g transform="translate(4894,0)"><use x="0" xlink:href="#E2032-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2032-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2032-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2032-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2032-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6505" xlink:href="#E2032-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7186" xlink:href="#E2032-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7575" xlink:href="#E2032-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8125" xlink:href="#E2032-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8514,0)"><use x="0" xlink:href="#E2032-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2032-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2032-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9465" xlink:href="#E2032-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9910,0)"><use x="1" xlink:href="#E2032-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2032-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="68" xlink:href="#E2032-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="838"></use></g><use x="10478" xlink:href="#E2032-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10867" xlink:href="#E2032-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11312,0)"><use x="0" xlink:href="#E2032-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2032-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12146" xlink:href="#E2032-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1865" type="math/tex; mode=display">\hat{\mathbf{\vec g}}\leftarrow \frac 1m \nabla_{\tilde{\vec\theta}}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\tilde{\vec\theta}),y_i)</script>
            * 累计平方梯度：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-320-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 9768.9 1361" width="22.689ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E321-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E321-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E321-MJMAIN-2190" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E321-MJMATHI-3C1" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E321-MJMAIN-2B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E321-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E321-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E321-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E321-MJMAIN-29" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E321-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E321-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E321-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E321-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E321-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2097" xlink:href="#E321-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2614,0)"><use x="34" xlink:href="#E321-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="3378" xlink:href="#E321-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4379" xlink:href="#E321-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4768" xlink:href="#E321-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5490" xlink:href="#E321-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6490" xlink:href="#E321-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7007" xlink:href="#E321-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7396,0)"><use x="0" xlink:href="#E321-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E321-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="8193" xlink:href="#E321-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9193,0)"><use x="0" xlink:href="#E321-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E321-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E321-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-320" type="math/tex">\mathbf{\vec r}\leftarrow \rho\mathbf{\vec r}+(1-\rho)\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}</script>

            * 计算速度更新（逐元素）：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-321-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.212ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1057.4 7761.7 1813.3" width="18.027ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E322-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E322-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E322-MJMAIN-2190" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E322-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E322-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E322-MJMATHI-3F5" stroke-width="0"></path><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E322-MJMAINB-72" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E322-MJMAIN-221A" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E322-MJMAIN-2299" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E322-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E322-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E322-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E322-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E322-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2162" xlink:href="#E322-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2802,0)"><use x="0" xlink:href="#E322-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E322-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3631" xlink:href="#E322-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4409,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="1092" x="0" y="220"></rect><use transform="scale(0.707)" x="569" xlink:href="#E322-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(59,-576)"><use transform="scale(0.707)" x="0" xlink:href="#E322-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="89"></use><rect height="42" stroke="none" width="383" x="589" y="586"></rect><g transform="translate(589,0)"><use transform="scale(0.707)" x="33" xlink:href="#E322-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E322-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="43"></use></g></g></g></g><use x="6186" xlink:href="#E322-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7186,0)"><use x="0" xlink:href="#E322-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E322-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E322-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-321" type="math/tex">\mathbf{\vec v}\leftarrow \alpha\mathbf{\vec v}-\frac{\epsilon}{\sqrt{\mathbf{\vec r}}}\odot\hat{\mathbf{\vec g}}</script>

            * 更新参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-322-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 4493.6 1210.2" width="10.437ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E323-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E323-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E323-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E323-MJMAIN-2B" stroke-width="0"></path><path d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" id="E323-MJMAINB-76" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E323-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E323-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E323-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E323-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E323-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E323-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E323-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3886,0)"><use x="0" xlink:href="#E323-MJMAINB-76" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E323-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-322" type="math/tex">\vec\theta \leftarrow \vec\theta+\mathbf{\vec v}</script>





#### 5.3.4 AdaDelta

1. `AdaDelta` 也是 `AdaGrad` 的一个修改。

`AdaDelta` 将梯度平方和的累计策略修改为：只考虑过去窗口<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-326-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 3385 858.4" width="7.862ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E327-MJMATHI-77" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E327-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E327-MJMATHI-6E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E327-MJMATHI-64" stroke-width="0"></path><path d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" id="E327-MJMATHI-6F" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E327-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="716" xlink:href="#E327-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1061" xlink:href="#E327-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1661" xlink:href="#E327-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2184" xlink:href="#E327-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2669" xlink:href="#E327-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-326" type="math/tex">window</script>内的梯度。

2. `RMSProp` 可以认为是一种软化的`AdaDelta`，衰减速率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-324-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 517 808.1" width="1.201ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E325-MJMATHI-3C1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E325-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-324" type="math/tex">\rho</script>决定了一个软窗口：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-325-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.405ex;" viewbox="0 -956.9 6347.8 1562" width="14.743ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E326-MJMATHI-77" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E326-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E326-MJMATHI-6E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E326-MJMATHI-64" stroke-width="0"></path><path d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" id="E326-MJMATHI-6F" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E326-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E326-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E326-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E326-MJMATHI-3C1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E326-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="716" xlink:href="#E326-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1061" xlink:href="#E326-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1661" xlink:href="#E326-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2184" xlink:href="#E326-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2669" xlink:href="#E326-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3662" xlink:href="#E326-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4440,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1389" x="0" y="220"></rect><use transform="scale(0.707)" x="732" xlink:href="#E326-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><g transform="translate(60,-376)"><use transform="scale(0.707)" x="0" xlink:href="#E326-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E326-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E326-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-325" type="math/tex">window = \frac 1{1-\rho}</script>。

    * 加权梯度平方和主要由<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-326-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 3385 858.4" width="7.862ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E327-MJMATHI-77" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E327-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E327-MJMATHI-6E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E327-MJMATHI-64" stroke-width="0"></path><path d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" id="E327-MJMATHI-6F" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E327-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="716" xlink:href="#E327-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1061" xlink:href="#E327-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1661" xlink:href="#E327-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2184" xlink:href="#E327-MJMATHI-6F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2669" xlink:href="#E327-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-326" type="math/tex">window</script>内的梯度决定。
    * 更早的梯度由于衰减，其贡献非常小。


### 5.4 Adam

1. `Adam`来自于`Adaptive moments`，它是另一种引入了动量的`RMSProp`算法。

#### 5.4.1 Adam 算法

1. `Adam`算法：

    * 输入：

        * 学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>（建议默认为 0.001）
        * 矩估计的指数衰减速率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-350-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 2385.8 808.1" width="5.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E351-MJMATHI-3C1" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E351-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E351-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E351-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E351-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E351-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="970" xlink:href="#E351-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1415,0)"><use x="0" xlink:href="#E351-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E351-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-350" type="math/tex">\rho_1,\rho_2</script>，它们都位于区间<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-329-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 2111.7 1109.7" width="4.905ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -250V750H255V710H158V-210H255V-250H118Z" id="E330-MJMAIN-5B" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E330-MJMAIN-30" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E330-MJMAIN-2C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E330-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E330-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E330-MJMAIN-5B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="278" xlink:href="#E330-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E330-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1222" xlink:href="#E330-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1722" xlink:href="#E330-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-329" type="math/tex">[0,1)</script>（建议默认值分别为： 0.9 和 0.999）
        * 用于数值稳定的小常数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-330-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 451 908.7" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E331-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E331-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-330" type="math/tex">\delta</script>（建议默认为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-331-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 2003.7 1059.4" width="4.654ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E332-MJMAIN-31" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E332-MJMAIN-30" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E332-MJMAIN-2212" stroke-width="0"></path><path d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" id="E332-MJMAIN-38" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="500" xlink:href="#E332-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1000,392)"><use transform="scale(0.707)" x="0" xlink:href="#E332-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E332-MJMAIN-38" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-331" type="math/tex">10^{-8}</script>）
        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script><br></br>

    * 算法步骤：

        * 初始化一阶和二阶矩变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-333-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 5502.8 1260.5" width="12.781ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" id="E334-MJMAINB-73" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E334-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E334-MJMAIN-3D" stroke-width="0"></path><path d="M266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548Z" id="E334-MJMAINB-30" stroke-width="0"></path><path d="M74 85Q74 120 97 145T159 171Q200 171 226 138Q258 101 258 37Q258 -5 246 -44T218 -109T183 -155T152 -184T135 -194Q129 -194 118 -183T106 -164Q106 -157 115 -149Q121 -145 130 -137T161 -100T195 -35Q197 -28 200 -17T204 3T205 11T199 9T183 3T159 0Q120 0 97 26T74 85Z" id="E334-MJMAINB-2C" stroke-width="0"></path><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E334-MJMAINB-72" stroke-width="0"></path><path d="M87 333Q64 343 64 362Q64 383 84 391Q89 393 448 393H807Q808 392 811 390T817 386T823 381T827 374T829 363Q829 345 807 333H87ZM87 109Q64 118 64 139Q64 159 86 168Q89 169 448 169H807L812 166Q816 163 818 162T823 157T827 149T829 139Q829 118 807 109H87Z" id="E334-MJMAINB-3D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="44" xlink:href="#E334-MJMAINB-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E334-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="819" xlink:href="#E334-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1875,0)"><use x="0" xlink:href="#E334-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E334-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use><use x="575" xlink:href="#E334-MJMAINB-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1060,0)"><use x="34" xlink:href="#E334-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E334-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="1880" xlink:href="#E334-MJMAINB-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3052,0)"><use x="0" xlink:href="#E334-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E334-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g></g></svg></span><script id="MathJax-Element-333" type="math/tex">\mathbf{\vec s}=\mathbf{\vec 0,\mathbf{\vec r}=\mathbf{\vec 0}}</script>

        * 初始化时间步<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-334-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 2194.6 858.4" width="5.097ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E335-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E335-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E335-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E335-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="638" xlink:href="#E335-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1694" xlink:href="#E335-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-334" type="math/tex">t=0</script>

        * 迭代，直到停止条件。迭代步骤为：<br></br>

            * 从训练集中随机采样<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-336-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 7121.6 1109.7" width="16.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E337-MJMAIN-7B" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E337-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E337-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E337-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E337-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E337-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E337-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E337-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E337-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E337-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1560" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2005,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3065" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3510" xlink:href="#E337-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4849" xlink:href="#E337-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5293,0)"><use x="0" xlink:href="#E337-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E337-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E337-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6621" xlink:href="#E337-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-336" type="math/tex">\{\mathbf{\vec x}_1,\mathbf{\vec x}_2,\cdots,\mathbf{\vec x}_m\}</script>构成`mini-batch`，对应的标记为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-337-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6770.6 1109.7" width="15.725ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E338-MJMAIN-7B" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-79" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E338-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E338-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E338-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E338-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E338-MJMATHI-6D" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E338-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E338-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1443" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1888,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2831" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3276" xlink:href="#E338-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4615" xlink:href="#E338-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5059,0)"><use x="0" xlink:href="#E338-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E338-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6270" xlink:href="#E338-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-337" type="math/tex">\{y_1,y_2,\cdots,y_m\}</script>

            * 计算`mini-batch`上的梯度作为训练集的梯度的估计：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1866-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12510.8 2919" width="29.057ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2033-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2033-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2033-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2033-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2033-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2033-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2033-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2033-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2033-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2033-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2033-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2033-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2033-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2033-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2033-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2033-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2033-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2033-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2033-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2033-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2033-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2033-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2033-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use><use x="852" xlink:href="#E2033-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1852,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2033-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2033-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3368,0)"><use x="0" xlink:href="#E2033-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2033-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2033-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(4884,0)"><use x="0" xlink:href="#E2033-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2033-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2033-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2033-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2033-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6495" xlink:href="#E2033-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7176" xlink:href="#E2033-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7565" xlink:href="#E2033-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8115" xlink:href="#E2033-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8504,0)"><use x="0" xlink:href="#E2033-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2033-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2033-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9455" xlink:href="#E2033-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9899,0)"><use x="1" xlink:href="#E2033-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2033-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10454" xlink:href="#E2033-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10843" xlink:href="#E2033-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11287,0)"><use x="0" xlink:href="#E2033-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2033-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12121" xlink:href="#E2033-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1866" type="math/tex; mode=display">\hat{\mathbf{\vec g}}\leftarrow \frac 1m \nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
            * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-481-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -755.9 4000 908.7" width="9.29ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E482-MJMATHI-74" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E482-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E482-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E482-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E482-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="638" xlink:href="#E482-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1916" xlink:href="#E482-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2499" xlink:href="#E482-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3500" xlink:href="#E482-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-481" type="math/tex">t\leftarrow t+1</script>

            * 更新有偏一阶矩估计：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-339-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 8878.6 1361" width="20.621ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" id="E340-MJMAINB-73" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E340-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E340-MJMAIN-2190" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E340-MJMATHI-3C1" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E340-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E340-MJMAIN-2B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E340-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E340-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E340-MJMAIN-29" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E340-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E340-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="44" xlink:href="#E340-MJMAINB-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E340-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="819" xlink:href="#E340-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2097,0)"><use x="0" xlink:href="#E340-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E340-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3068,0)"><use x="44" xlink:href="#E340-MJMAINB-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E340-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use></g><use x="3832" xlink:href="#E340-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4832" xlink:href="#E340-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5221" xlink:href="#E340-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5943" xlink:href="#E340-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6943,0)"><use x="0" xlink:href="#E340-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E340-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="7914" xlink:href="#E340-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8303,0)"><use x="0" xlink:href="#E340-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E340-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E340-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-339" type="math/tex">\mathbf{\vec s}\leftarrow\rho_1\mathbf{\vec s}+(1-\rho_1)\hat{\mathbf{\vec g}}</script>。

            它是梯度的指数加权平均，用于计算梯度。

            * 更新有偏二阶矩估计：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-340-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 10676 1361" width="24.796ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E341-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E341-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E341-MJMAIN-2190" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E341-MJMATHI-3C1" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E341-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E341-MJMAIN-2B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E341-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E341-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E341-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E341-MJMAIN-29" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E341-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E341-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E341-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E341-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E341-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E341-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2097,0)"><use x="0" xlink:href="#E341-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E341-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3068,0)"><use x="34" xlink:href="#E341-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E341-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="3832" xlink:href="#E341-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4832" xlink:href="#E341-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5221" xlink:href="#E341-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5943" xlink:href="#E341-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6943,0)"><use x="0" xlink:href="#E341-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E341-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="7914" xlink:href="#E341-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8303,0)"><use x="0" xlink:href="#E341-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E341-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E341-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="9100" xlink:href="#E341-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10100,0)"><use x="0" xlink:href="#E341-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E341-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E341-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-340" type="math/tex">\mathbf{\vec r}\leftarrow \rho_2\mathbf{\vec r}+(1-\rho_2)\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}</script>。

            它是梯度平方的指数加权平均，用于计算学习率。

            * 修正一阶矩的偏差：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-341-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.212ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1057.4 4047.5 1813.3" width="9.401ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" id="E342-MJMAINB-73" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E342-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E342-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E342-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E342-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E342-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E342-MJMATHI-3C1" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E342-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="44" xlink:href="#E342-MJMAINB-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E342-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="21" xlink:href="#E342-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="282"></use><use x="819" xlink:href="#E342-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1819,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1709" x="0" y="220"></rect><g transform="translate(663,408)"><use transform="scale(0.707)" x="43" xlink:href="#E342-MJMAINB-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E342-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="46"></use></g><g transform="translate(60,-467)"><use transform="scale(0.707)" x="0" xlink:href="#E342-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E342-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(903,0)"><use transform="scale(0.707)" x="0" xlink:href="#E342-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="731" xlink:href="#E342-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.5)" x="731" xlink:href="#E342-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g></g></g></g></g></svg></span><script id="MathJax-Element-341" type="math/tex">\hat{\mathbf{\vec s}}\leftarrow \frac{\mathbf{\vec s}}{1-\rho_1^{t}}</script>。

            它使得修正之后的结果更接近真实的梯度。

            * 修正二阶矩的偏差：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-342-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.212ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1057.4 4047.5 1813.3" width="9.401ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E343-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E343-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E343-MJMAIN-5E" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E343-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E343-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E343-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E343-MJMATHI-3C1" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E343-MJMATHI-74" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E343-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E343-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E343-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="21" xlink:href="#E343-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="279"></use><use x="819" xlink:href="#E343-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1819,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1709" x="0" y="220"></rect><g transform="translate(663,404)"><use transform="scale(0.707)" x="33" xlink:href="#E343-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E343-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="43"></use></g><g transform="translate(60,-467)"><use transform="scale(0.707)" x="0" xlink:href="#E343-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E343-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(903,0)"><use transform="scale(0.707)" x="0" xlink:href="#E343-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="731" xlink:href="#E343-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.5)" x="731" xlink:href="#E343-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g></g></g></g></g></svg></span><script id="MathJax-Element-342" type="math/tex">\hat{\mathbf{\vec r}}\leftarrow \frac{\mathbf{\vec r}}{1-\rho_2^{t}}</script>。

            它使得修正之后的结果更接近真实的梯度平方。

            * 计算更新（逐元素）：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-343-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.679ex" role="img" style="vertical-align: -2.223ex;" viewbox="0 -1057.4 6360.2 2014.4" width="14.772ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E344-MJMAIN-394" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E344-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E344-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E344-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E344-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E344-MJMATHI-3F5" stroke-width="0"></path><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E344-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E344-MJMAINB-20D7" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E344-MJMAIN-5E" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E344-MJSZ1-221A" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E344-MJMAIN-2B" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E344-MJMATHI-3B4" stroke-width="0"></path><path d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" id="E344-MJMAINB-73" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E344-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,0)"><use x="1" xlink:href="#E344-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E344-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1665" xlink:href="#E344-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2720" xlink:href="#E344-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3498,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2079" x="0" y="220"></rect><use transform="scale(0.707)" x="1267" xlink:href="#E344-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(59,-798)"><use transform="scale(0.707)" x="0" xlink:href="#E344-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="352"></use><rect height="42" stroke="none" width="383" x="707" y="808"></rect><g transform="translate(707,0)"><use transform="scale(0.707)" x="33" xlink:href="#E344-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="542" xlink:href="#E344-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="43"></use><use transform="scale(0.707)" x="21" xlink:href="#E344-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="342"></use></g><use transform="scale(0.707)" x="1541" xlink:href="#E344-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2320" xlink:href="#E344-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(5818,0)"><use x="44" xlink:href="#E344-MJMAINB-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E344-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="21" xlink:href="#E344-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="282"></use></g></g></svg></span><script id="MathJax-Element-343" type="math/tex">\Delta\vec\theta=- \frac{\epsilon}{\sqrt{\hat{\mathbf{\vec r}}}+\delta} \hat{\mathbf{\vec s}}</script>

            * 更新参数：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-344-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 5273.9 1210.2" width="12.249ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E345-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E345-MJMAIN-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E345-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E345-MJMAIN-2B" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E345-MJMAIN-394" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E345-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2109,0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2886" xlink:href="#E345-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3886" xlink:href="#E345-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4719,0)"><use x="1" xlink:href="#E345-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E345-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-344" type="math/tex">\vec\theta \leftarrow \vec\theta+\Delta\vec\theta</script>




2. `RMSProp` 算法中，通过累计平方梯度（采用指数移动平均）来修正学习率。

而 `Adam`算法中，不仅采用同样的方式来修正学习率，还通过累计梯度（采用指数移动平均） 来修正梯度。

3. 动量的计算可以类似`Nesterov`动量的思想：计算`mini-batch`的梯度时，采用更新后的参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-345-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 3164 1210.2" width="7.349ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E346-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E346-MJMAIN-20D7" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E346-MJMAIN-2B" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E346-MJMAIN-394" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E346-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E346-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="776" xlink:href="#E346-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1776" xlink:href="#E346-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2609,0)"><use x="1" xlink:href="#E346-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E346-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-345" type="math/tex">\vec\theta+\Delta\vec\theta</script>。

此时称作`NAdam` 算法。


#### 5.4.2 Adam 算法性质

1. 假设迭代过程中，梯度刚好是固定的某个量，则有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-346-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 4248 1310.7" width="9.866ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131Z" id="E347-MJMAINB-63" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E347-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E347-MJMAIN-3D" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E347-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E347-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E347-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="15" xlink:href="#E347-MJMAINB-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E347-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="819" xlink:href="#E347-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1875,0)"><use x="0" xlink:href="#E347-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E347-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E347-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="2672" xlink:href="#E347-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3673,0)"><use x="0" xlink:href="#E347-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E347-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E347-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g></g></svg></span><script id="MathJax-Element-346" type="math/tex">\mathbf{\vec c}=\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}}</script>。对于某个方向，假设其分量为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-347-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 2701.1 1210.2" width="6.273ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E348-MJMATHI-63" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E348-MJMAIN-3D" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E348-MJMATHI-67" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E348-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E348-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="710" xlink:href="#E348-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1766,0)"><use x="0" xlink:href="#E348-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="680" xlink:href="#E348-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g></svg></span><script id="MathJax-Element-347" type="math/tex">c=g^2</script>，则对于 `Adam` 算法有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1867-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="25.573ex" role="img" style="vertical-align: -23.584ex;" viewbox="0 -856.4 38699.6 11010.8" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z" id="E2034-MJMATHI-73" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2034-MJMAIN-3D" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2034-MJMATHI-67" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2034-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2034-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2034-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E2034-MJMATHI-3C1" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2034-MJMATHI-74" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2034-MJMAIN-29" stroke-width="0"></path><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2034-MJMATHI-72" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E2034-MJMATHI-63" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2034-MJMAIN-32" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2034-MJMAIN-5E" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E2034-MJMAIN-394" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2034-MJMATHI-3B8" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2034-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2034-MJMAIN-221A" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2034-MJMAIN-2B" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E2034-MJMATHI-3B4" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2034-MJMAIN-223C" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2034-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(16473,0)"><use x="0" xlink:href="#E2034-MJMATHI-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="746" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1802" xlink:href="#E2034-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2282" xlink:href="#E2034-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2671" xlink:href="#E2034-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3393" xlink:href="#E2034-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4394,0)"><use x="0" xlink:href="#E2034-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="5364" xlink:href="#E2034-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(16505,-1532)"><use x="0" xlink:href="#E2034-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="728" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1784" xlink:href="#E2034-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2217" xlink:href="#E2034-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2606" xlink:href="#E2034-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3328" xlink:href="#E2034-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4329,0)"><use x="0" xlink:href="#E2034-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="5299" xlink:href="#E2034-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(15971,-3389)"><use x="15" xlink:href="#E2034-MJMATHI-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E2034-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><use x="833" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1611,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="2812" x="0" y="220"></rect><use x="1171" xlink:href="#E2034-MJMATHI-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-761)"><use x="0" xlink:href="#E2034-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="722" xlink:href="#E2034-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1722,0)"><use x="0" xlink:href="#E2034-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g></g></g></g><use x="5219" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6275" xlink:href="#E2034-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(15995,-6006)"><use x="24" xlink:href="#E2034-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E2034-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><use x="833" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1611,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="2812" x="0" y="220"></rect><use x="1180" xlink:href="#E2034-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-761)"><use x="0" xlink:href="#E2034-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="722" xlink:href="#E2034-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1722,0)"><use x="0" xlink:href="#E2034-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="498"></use><use transform="scale(0.707)" x="731" xlink:href="#E2034-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g></g></g></g><use x="5219" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6275" xlink:href="#E2034-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(12453,-8861)"><use x="0" xlink:href="#E2034-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="833" xlink:href="#E2034-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1579" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2635" xlink:href="#E2034-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3413" xlink:href="#E2034-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3819,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3182" x="0" y="220"></rect><g transform="translate(1313,676)"><use x="15" xlink:href="#E2034-MJMATHI-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E2034-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g><g transform="translate(60,-884)"><use x="0" xlink:href="#E2034-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="57"></use><rect height="60" stroke="none" width="555" x="833" y="797"></rect><g transform="translate(833,0)"><use x="24" xlink:href="#E2034-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E2034-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g><use x="1610" xlink:href="#E2034-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2611" xlink:href="#E2034-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="7519" xlink:href="#E2034-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8575" xlink:href="#E2034-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9353" xlink:href="#E2034-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9759,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2054" x="0" y="220"></rect><use x="787" xlink:href="#E2034-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-926)"><use x="0" xlink:href="#E2034-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="49"></use><rect height="60" stroke="none" width="934" x="1000" y="839"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2034-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="680" xlink:href="#E2034-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g></g></g></g><use x="12331" xlink:href="#E2034-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13387" xlink:href="#E2034-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1867" type="math/tex; mode=display">s=g(1-\rho_1^t)\\ r=c(1-\rho_2^t)\\ \hat s=\frac{s}{1-\rho_1^t}=g\\ \hat r=\frac{r}{1-\rho_2^t}=c\\ \Delta \theta=-\epsilon \frac{\hat s}{\sqrt{\hat r}+\delta}\sim -\epsilon \frac{g}{\sqrt{g^2}}=\epsilon</script>
    * 无论梯度的大小如何，`Adam` 算法的参数更新步长几乎都是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-348-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E349-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E349-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-348" type="math/tex">\epsilon</script>

    相比较而言，`AdaGrad` 和 `RMSProp` 算法的参数更新步长随时间在减少。

    * 虽然最终结果不包含<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-350-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 2385.8 808.1" width="5.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E351-MJMATHI-3C1" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E351-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E351-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E351-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E351-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E351-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="970" xlink:href="#E351-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1415,0)"><use x="0" xlink:href="#E351-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E351-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-350" type="math/tex">\rho_1,\rho_2</script>，但是这是由于假定梯度保持不变这一特殊情况推导的。

    实际中梯度很少保持不变，因此<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-350-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -504.6 2385.8 808.1" width="5.541ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E351-MJMATHI-3C1" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E351-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E351-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E351-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E351-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E351-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="970" xlink:href="#E351-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1415,0)"><use x="0" xlink:href="#E351-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E351-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-350" type="math/tex">\rho_1,\rho_2</script>还是比较重要。


2. `Adam` 算法之所以需要使用一阶矩的修正和二阶矩的修正，是为了剔除时间因子<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-507-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -705.6 361 808.1" width="0.838ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E508-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E508-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-507" type="math/tex">t</script>的影响。

3. 在某些情况下，`Adam` 可能导致训练不收敛。主要原因是：随着时间窗口的变化，遇到的数据可能发生巨变。这就使得<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-352-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -1007.2 1388.6 1210.2" width="3.225ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E353-MJMATHI-72" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E353-MJMAIN-5E" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E353-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E353-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="57"></use><rect height="60" stroke="none" width="555" x="833" y="797"></rect><g transform="translate(833,0)"><use x="24" xlink:href="#E353-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E353-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g></g></svg></span><script id="MathJax-Element-352" type="math/tex">\sqrt{\hat r}</script>可能会时大时小，从而使得调整后的学习率<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-353-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 4116.4 1562" width="9.561ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E354-MJMATHI-3F5" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E354-MJMAIN-5E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E354-MJMAIN-3D" stroke-width="0"></path><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E354-MJMATHI-72" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E354-MJMAIN-221A" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E354-MJMAIN-2B" stroke-width="0"></path><path d="M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z" id="E354-MJMATHI-3B4" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="47" xlink:href="#E354-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="55" xlink:href="#E354-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-25"></use><use x="833" xlink:href="#E354-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1611,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1987" x="0" y="220"></rect><use transform="scale(0.707)" x="1202" xlink:href="#E354-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="582"></use><g transform="translate(60,-554)"><use transform="scale(0.707)" x="0" xlink:href="#E354-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="57"></use><rect height="42" stroke="none" width="409" x="589" y="563"></rect><g transform="translate(589,0)"><use transform="scale(0.707)" x="24" xlink:href="#E354-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="78" xlink:href="#E354-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="18"></use></g><use transform="scale(0.707)" x="1411" xlink:href="#E354-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2189" xlink:href="#E354-MJMATHI-3B4" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-353" type="math/tex">\hat \epsilon = \frac{ \epsilon}{\sqrt{\hat r}+\delta}</script>不再是单调递减的。

这种学习率的震荡可能导致模型无法收敛。

> > 

> `AdaDelta`、`RMSProp` 算法也都存在这样的问题。



解决方案为：对二阶动量的变化进行控制，避免其上下波动（确保<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-354-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 451 607.1" width="1.047ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E355-MJMATHI-72" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E355-MJMATHI-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-354" type="math/tex">r</script>是单调递增的)：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1868-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 14523.7 1361" width="33.732ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z" id="E2035-MJMAINB-72" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2035-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2035-MJMAIN-2190" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2035-MJMAIN-6D" stroke-width="0"></path><path d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" id="E2035-MJMAIN-61" stroke-width="0"></path><path d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" id="E2035-MJMAIN-78" stroke-width="0"></path><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E2035-MJMAIN-7B" stroke-width="0"></path><path d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z" id="E2035-MJMATHI-3C1" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2035-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2035-MJMAIN-2B" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2035-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2035-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2035-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2035-MJMAIN-29" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2035-MJMAINB-67" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2035-MJMAIN-5E" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2035-MJMAIN-2299" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2035-MJMAIN-2C" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E2035-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="34" xlink:href="#E2035-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2035-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use><use x="819" xlink:href="#E2035-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2097,0)"><use xlink:href="#E2035-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2035-MJMAIN-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1333" xlink:href="#E2035-MJMAIN-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="3958" xlink:href="#E2035-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4458,0)"><use x="0" xlink:href="#E2035-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2035-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(5429,0)"><use x="34" xlink:href="#E2035-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2035-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="6193" xlink:href="#E2035-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7193" xlink:href="#E2035-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7582" xlink:href="#E2035-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8304" xlink:href="#E2035-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9304,0)"><use x="0" xlink:href="#E2035-MJMATHI-3C1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="731" xlink:href="#E2035-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="10275" xlink:href="#E2035-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10664,0)"><use x="0" xlink:href="#E2035-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2035-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2035-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="11461" xlink:href="#E2035-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12461,0)"><use x="0" xlink:href="#E2035-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2035-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="37" xlink:href="#E2035-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="284"></use></g><use x="13036" xlink:href="#E2035-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13481,0)"><use x="34" xlink:href="#E2035-MJMAINB-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="542" xlink:href="#E2035-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="12"></use></g><use x="14023" xlink:href="#E2035-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1868" type="math/tex; mode=display">\mathbf{\vec r}\leftarrow \max \{\rho_2\mathbf{\vec r}+(1-\rho_2)\hat{\mathbf{\vec g}}\odot\hat{\mathbf{\vec g}},\mathbf{\vec r}\}</script>
4. 实践证明，虽然在训练早期`Adam` 具有很好的收敛速度，但是最终模型的泛化能力并不如使用朴素的`SGD` 训练得到的模型好：`Adam` 训练的模型得到的测试集误差会更大。

    * 其主要原因可能是：训练后期，`Adam` 的更新步长过小。

    * 一种改进策略为：在训练的初期使用`Adam` 来加速训练，并在合适的时期切换为`SGD` 来追求更好的泛化性能。

    这种策略的缺陷是：切换的时机不好把握，需要人工经验来干预。



### 5.5 SGD 及其变种的比较

1. 下图为`SGD` 及其不同的变种在代价函数的等高面中的学习过程。这里`batch-size`为全体样本大小。

    * `AdaGrad`、`Adadelta`、`RMSprop` 从最开始就找到了正确的方向并快速收敛。
    * `SGD` 找到了正确的方向，但是收敛速度很慢。
    * `SGD` 的动量算法、`Netsterov` 动量算法（也叫做`NAG`) 最初都偏离了正确方向，但最终都纠正到了正确方向。

![](../imgs/sgd_optimization_on_contours.gif)

2. 下图为`SGD` 及其不同的变种在代价函数的鞍点上的学习过程。这里`batch-size`为全体样本大小。

    * `SGD`、`SGD` 的动量算法、`Netsterov` 动量算法（也叫做`NAG`) 都受到鞍点的严重影响。

        * `SGD` 最终停留在鞍点。

        如果采用`mini-batch`，则`mini-batch` 引入的梯度噪音，可以使得`SGD` 能够逃离鞍点。

        * `SGD` 的动量算法、`Netsterov` 动量算法最终逃离了鞍点。


    * `Adadelta` 、`Adagrad`、`RMSprop` 都很快找到了正确的方向。


![](../imgs/sgd_optimization_on_saddle.gif)






## 六、二阶近似方法

1. 为了简化问题，这里考察目标函数为经验风险函数（即：不考虑正则化项）：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1869-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 24855.2 2919" width="57.729ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2036-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2036-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2036-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2036-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2036-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2036-MJMAIN-3D" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E2036-MJAMS-45" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2036-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2036-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2036-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2036-MJMATHI-79" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E2036-MJMAIN-223C" stroke-width="0"></path><path d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" id="E2036-MJMATHI-70" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2036-MJMAIN-5E" stroke-width="0"></path><path d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" id="E2036-MJMATHI-64" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2036-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2036-MJMATHI-74" stroke-width="0"></path><path d="M118 -250V750H255V710H158V-210H255V-250H118Z" id="E2036-MJMAIN-5B" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2036-MJMATHI-4C" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2036-MJMATHI-66" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2036-MJMAIN-3B" stroke-width="0"></path><path d="M22 710V750H159V-250H22V-210H119V710H22Z" id="E2036-MJMAIN-5D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2036-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2036-MJMATHI-6D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2036-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2036-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2036-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E2036-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E2036-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2036-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E2036-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2243" xlink:href="#E2036-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3298,0)"><use x="0" xlink:href="#E2036-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E2036-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2036-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use><use transform="scale(0.707)" x="607" xlink:href="#E2036-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="885" xlink:href="#E2036-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1382" xlink:href="#E2036-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1527,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2036-MJMATHI-70" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="119" xlink:href="#E2036-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="18"></use><g transform="translate(437,-163)"><use transform="scale(0.5)" x="0" xlink:href="#E2036-MJMATHI-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="523" xlink:href="#E2036-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1052" xlink:href="#E2036-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1413" xlink:href="#E2036-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use transform="scale(0.707)" x="4252" xlink:href="#E2036-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3282,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2036-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2036-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use transform="scale(0.707)" x="5248" xlink:href="#E2036-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5526" xlink:href="#E2036-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6023" xlink:href="#E2036-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="8600" xlink:href="#E2036-MJMAIN-5B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8878" xlink:href="#E2036-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9559" xlink:href="#E2036-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9948" xlink:href="#E2036-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10498" xlink:href="#E2036-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10887,0)"><use x="0" xlink:href="#E2036-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2036-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="11494" xlink:href="#E2036-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11938,0)"><use x="1" xlink:href="#E2036-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2036-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="12493" xlink:href="#E2036-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12882" xlink:href="#E2036-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13326" xlink:href="#E2036-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13823" xlink:href="#E2036-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14212" xlink:href="#E2036-MJMAIN-5D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14768" xlink:href="#E2036-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15546,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2036-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2036-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(17229,0)"><use x="0" xlink:href="#E2036-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2036-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2036-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2036-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2036-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="18839" xlink:href="#E2036-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19520" xlink:href="#E2036-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19909" xlink:href="#E2036-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20459" xlink:href="#E2036-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(20848,0)"><use x="0" xlink:href="#E2036-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2036-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2036-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="21799" xlink:href="#E2036-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22244,0)"><use x="1" xlink:href="#E2036-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2036-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="22798" xlink:href="#E2036-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="23187" xlink:href="#E2036-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(23632,0)"><use x="0" xlink:href="#E2036-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2036-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="24466" xlink:href="#E2036-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1869" type="math/tex; mode=display">J(\vec\theta)=\mathbb E_{\mathbf{\vec x},y\sim \hat p_{data}(\mathbf{\vec x},y)}[L(f(\mathbf{\vec x};\vec\theta),y)]=\frac 1m\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
.


### 6.1 牛顿法

#### 6.1.1 牛顿法算法

1. 牛顿法在某点<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>附近，利用二阶泰勒展开来近似<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-356-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1965.3 1361" width="4.565ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E357-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E357-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E357-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E357-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E357-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E357-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E357-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E357-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E357-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E357-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-356" type="math/tex">J(\vec\theta)</script>：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1870-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.029ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -1409.3 25574.2 2165.1" width="59.398ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2037-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2037-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2037-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2037-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2037-MJMAIN-29" stroke-width="0"></path><path d="M55 319Q55 360 72 393T114 444T163 472T205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346Q609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452Q722 386 675 338T555 289Q514 289 468 310T388 357T308 404T224 426Q164 426 125 393T83 318Q81 289 69 289Q55 289 55 319ZM55 85Q55 126 72 159T114 210T163 238T205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112Q609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123T308 170T224 192Q164 192 125 159T83 84Q80 55 69 55Q55 55 55 85Z" id="E2037-MJMAIN-2248" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2037-MJMAIN-30" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2037-MJMAIN-2B" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2037-MJMAIN-2212" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2037-MJMATHI-54" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2037-MJMAIN-2207" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2037-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2037-MJMAIN-32" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E2037-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2037-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E2037-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1022,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1576" xlink:href="#E2037-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2243" xlink:href="#E2037-MJMAIN-2248" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3298" xlink:href="#E2037-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3931" xlink:href="#E2037-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4320,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2037-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5328" xlink:href="#E2037-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5939" xlink:href="#E2037-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6940" xlink:href="#E2037-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7329,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="8105" xlink:href="#E2037-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9105,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2037-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(10113,0)"><use x="0" xlink:href="#E2037-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2037-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><g transform="translate(11100,0)"><use x="0" xlink:href="#E2037-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="12449" xlink:href="#E2037-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13082" xlink:href="#E2037-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13471,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2037-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="14479" xlink:href="#E2037-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15090" xlink:href="#E2037-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15868,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2037-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2037-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><use x="16951" xlink:href="#E2037-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17340,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="18116" xlink:href="#E2037-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19116,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2037-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(20124,0)"><use x="0" xlink:href="#E2037-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2037-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="21111" xlink:href="#E2037-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="22011" xlink:href="#E2037-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22400,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="23177" xlink:href="#E2037-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(24177,0)"><use x="1" xlink:href="#E2037-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2037-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2037-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="25185" xlink:href="#E2037-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1870" type="math/tex; mode=display">J(\vec\theta)\approx J(\vec\theta_0)+(\vec\theta-\vec\theta_0)^{T}\nabla_{\vec\theta}J(\vec\theta_0)+\frac 12(\vec\theta-\vec\theta_0)^{T}\mathbf H(\vec\theta-\vec\theta_0)</script>
其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>对于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>的海森矩阵在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>处的值。

如果求解这个函数的临界点，根据<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-361-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.795ex" role="img" style="vertical-align: -1.639ex;" viewbox="0 -1359 4083.6 2064.6" width="9.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E362-MJMAIN-2202" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E362-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E362-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E362-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E362-MJMAIN-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E362-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E362-MJMAIN-3D" stroke-width="0"></path><path d="M266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548Z" id="E362-MJMAINB-30" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E362-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1935" x="0" y="220"></rect><g transform="translate(60,581)"><use transform="scale(0.707)" x="0" xlink:href="#E362-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="567" xlink:href="#E362-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1200" xlink:href="#E362-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1123,0)"><use transform="scale(0.707)" x="1" xlink:href="#E362-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E362-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g><use transform="scale(0.707)" x="2177" xlink:href="#E362-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(558,-619)"><use transform="scale(0.707)" x="0" xlink:href="#E362-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="1" xlink:href="#E362-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E362-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g></g><use x="2452" xlink:href="#E362-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3508,0)"><use x="0" xlink:href="#E362-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E362-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g></svg></span><script id="MathJax-Element-361" type="math/tex">\frac{\partial J(\vec\theta)}{\partial \vec\theta}=\mathbf{\vec 0}</script>，则得到牛顿法的更新规则：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1871-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1107.7 10243.6 1562" width="23.792ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2038-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2038-MJMAIN-20D7" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2038-MJMAIN-2217" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2038-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2038-MJMAIN-30" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2038-MJMAIN-2212" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E2038-MJMAINB-48" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2038-MJMAIN-31" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2038-MJMAIN-2207" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2038-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2038-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2038-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E2038-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2038-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2038-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="997"></use><use x="1285" xlink:href="#E2038-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2341,0)"><use x="1" xlink:href="#E2038-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2038-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2038-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3571" xlink:href="#E2038-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4571,0)"><use x="0" xlink:href="#E2038-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,412)"><use transform="scale(0.707)" x="0" xlink:href="#E2038-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2038-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(6475,0)"><use x="0" xlink:href="#E2038-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2038-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2038-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="7824" xlink:href="#E2038-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8457" xlink:href="#E2038-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8846,0)"><use x="1" xlink:href="#E2038-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2038-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2038-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9854" xlink:href="#E2038-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1871" type="math/tex; mode=display">\vec\theta^{*}=\vec\theta_0-\mathbf H^{-1}\nabla_{\vec\theta}J(\vec\theta_0)</script>
    * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>的二次函数，则牛顿法会直接跳到极值或者鞍点。

        * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>是正定的，则跳到的点是极小值点。
        * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>是负定的，则跳到的点是极大值点。
        * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>是非正定、非负定的，则跳到的点是鞍点。因此，牛顿法会主动跳到鞍点。

    * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-368-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 554.3 1160" width="1.287ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E369-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E369-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E369-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E369-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-368" type="math/tex">\vec\theta</script>的高阶的，则需要迭代。


2. 牛顿法：

    * 输入：

        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>
        * 包含<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本的训练集

    * 算法步骤：

    迭代，直到到达停止条件。迭代步骤为：

        * 计算梯度：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-371-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 5445.2 1511.8" width="12.647ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E372-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E372-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E372-MJMAIN-2190" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E372-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E372-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E372-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E372-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E372-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E372-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E372-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E372-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="852" xlink:href="#E372-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2130,0)"><use x="0" xlink:href="#E372-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E372-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E372-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="3479" xlink:href="#E372-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4112" xlink:href="#E372-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4501,0)"><use x="1" xlink:href="#E372-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E372-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="5056" xlink:href="#E372-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-371" type="math/tex">\mathbf{\vec g}\leftarrow \nabla_{\vec\theta}J(\vec\theta)</script>
        * 计算海森矩阵：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-372-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.978ex" role="img" style="vertical-align: -1.522ex;" viewbox="0 -1057.4 5770.2 1712.8" width="13.402ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E373-MJMAINB-48" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E373-MJMAIN-2190" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E373-MJMAIN-2207" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E373-MJMAIN-32" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E373-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E373-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E373-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E373-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E373-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E373-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1177" xlink:href="#E373-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2455,0)"><use x="0" xlink:href="#E373-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1178" xlink:href="#E373-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><g transform="translate(833,-550)"><use transform="scale(0.707)" x="1" xlink:href="#E373-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E373-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="3804" xlink:href="#E373-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4437" xlink:href="#E373-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4826,0)"><use x="1" xlink:href="#E373-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E373-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="5381" xlink:href="#E373-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-372" type="math/tex">\mathbf H\leftarrow \nabla^{2}_{\vec\theta}J(\vec\theta)</script><br></br>
        * 计算海森矩阵的逆矩阵：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-373-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -956.9 1903.7 1009.2" width="4.421ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E374-MJMAINB-48" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E374-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E374-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E374-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,412)"><use transform="scale(0.707)" x="0" xlink:href="#E374-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E374-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-373" type="math/tex">\mathbf H^{-1}</script>
        * 计算更新：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-374-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 5977.5 1310.7" width="13.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E375-MJMAIN-394" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E375-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E375-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E375-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E375-MJMAIN-2212" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E375-MJMAINB-48" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E375-MJMAIN-31" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E375-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E375-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E375-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,0)"><use x="1" xlink:href="#E375-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E375-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="1665" xlink:href="#E375-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2720" xlink:href="#E375-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3498,0)"><use x="0" xlink:href="#E375-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,412)"><use transform="scale(0.707)" x="0" xlink:href="#E375-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E375-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(5402,0)"><use x="0" xlink:href="#E375-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E375-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-374" type="math/tex">\Delta\vec\theta=-\mathbf H^{-1}\mathbf{\vec g}</script>
        * 应用更新：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-375-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -1057.4 5051.9 1210.2" width="11.733ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E376-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E376-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E376-MJMAIN-3D" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E376-MJMAIN-2B" stroke-width="0"></path><path d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z" id="E376-MJMAIN-394" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E376-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E376-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E376-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1887,0)"><use x="1" xlink:href="#E376-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E376-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2664" xlink:href="#E376-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3664" xlink:href="#E376-MJMAIN-394" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4497,0)"><use x="1" xlink:href="#E376-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E376-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-375" type="math/tex">\vec\theta=\vec\theta+\Delta\vec\theta</script>



#### 6.1.2 牛顿法性质

1. 只要海森矩阵保持正定，牛顿法就能够迭代的使用。

2. 在深度学习中目标函数具有很多鞍点，海森矩阵的特征值并不全为正的，因此使用牛顿法有问题：在靠近鞍点附近，牛顿法会导致参数更新主动朝着鞍点的方向移动，这是错误的移动方向。

解决的办法是：使用正则化的海森矩阵。

3. 常用的正则化策略是：在海森矩阵的对角线上增加常数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>。

于是更新过程为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-377-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 11737.4 1511.8" width="27.261ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E378-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E378-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E378-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E378-MJMAIN-2212" stroke-width="0"></path><path d="M118 -250V750H255V710H158V-210H255V-250H118Z" id="E378-MJMAIN-5B" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E378-MJMAINB-48" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E378-MJMAIN-2B" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E378-MJMATHI-3B1" stroke-width="0"></path><path d="M397 0Q370 3 218 3Q65 3 38 0H25V62H139V624H25V686H38Q65 683 218 683Q370 683 397 686H410V624H296V62H410V0H397Z" id="E378-MJMAINB-49" stroke-width="0"></path><path d="M22 710V750H159V-250H22V-210H119V710H22Z" id="E378-MJMAIN-5D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E378-MJMAIN-31" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E378-MJMAIN-2207" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E378-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E378-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E378-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E378-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E378-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use x="832" xlink:href="#E378-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1887,0)"><use x="1" xlink:href="#E378-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E378-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="2664" xlink:href="#E378-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3664" xlink:href="#E378-MJMAIN-5B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3942" xlink:href="#E378-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5064" xlink:href="#E378-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6065" xlink:href="#E378-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6705" xlink:href="#E378-MJMAINB-49" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7141,0)"><use x="0" xlink:href="#E378-MJMAIN-5D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(278,362)"><use transform="scale(0.707)" x="0" xlink:href="#E378-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E378-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(8422,0)"><use x="0" xlink:href="#E378-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E378-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E378-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="9772" xlink:href="#E378-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10405" xlink:href="#E378-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10794,0)"><use x="1" xlink:href="#E378-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E378-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="11348" xlink:href="#E378-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-377" type="math/tex">\vec\theta=\vec\theta-[\mathbf H+\alpha\mathbf I]^{-1}\nabla_{\vec\theta}J(\vec\theta)</script>。

    * 这个正则化策略是牛顿法的近似。

    * 只要海森矩阵的负特征值都在零点附近，则可以起到效果。

    * 当有很强的负曲率存在时（即存在绝对值很大的负的特征值），<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>可能需要特别大。

    但是如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>增大到一定程度，则海森矩阵就变得由对角矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-380-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1076 858.4" width="2.499ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E381-MJMATHI-3B1" stroke-width="0"></path><path d="M397 0Q370 3 218 3Q65 3 38 0H25V62H139V624H25V686H38Q65 683 218 683Q370 683 397 686H410V624H296V62H410V0H397Z" id="E381-MJMAINB-49" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E381-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="640" xlink:href="#E381-MJMAINB-49" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-380" type="math/tex">\alpha\mathbf I</script>主导。此时，牛顿法选择的方向就是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-381-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -956.9 2165.5 1411.3" width="5.03ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E382-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E382-MJMAIN-31" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E382-MJMATHI-3B1" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E382-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E382-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E382-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="572" x="0" y="220"></rect><use transform="scale(0.707)" x="154" xlink:href="#E382-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E382-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><g transform="translate(1590,0)"><use x="0" xlink:href="#E382-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E382-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-381" type="math/tex">-\frac 1\alpha\mathbf{\vec g}</script>的方向。


4. 海森矩阵的元素的数量是参数数量的平方。如果参数数量为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>，则牛顿法需要计算一个<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-383-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.527ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -554.9 2422.4 657.4" width="5.626ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E384-MJMATHI-6E" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E384-MJMAIN-D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E384-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="822" xlink:href="#E384-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1822" xlink:href="#E384-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-383" type="math/tex">n\times n</script>矩阵的逆，计算一次参数更新的复杂度为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-384-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 2594.6 1210.2" width="6.026ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E385-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E385-MJMAIN-28" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E385-MJMATHI-6E" stroke-width="0"></path><path d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" id="E385-MJMAIN-33" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E385-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E385-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E385-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><use x="0" xlink:href="#E385-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E385-MJMAIN-33" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="2205" xlink:href="#E385-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-384" type="math/tex">O(n^{3})</script>。

由于每次参数更新时都将改变参数，因此每轮迭代训练都需要计算海森矩阵的逆矩阵，计算代价非常昂贵。因此只有参数很少的网络才能够在实际中应用牛顿法训练，绝大多数神经网络不能采用牛顿法训练。

5. 综上所述，牛顿法有两个主要缺点：

    * 主动跳向鞍点。
    * 逆矩阵的计算复杂度太大，难以计算。


### 6.2 BFGS

1. `BFGS`算法具有牛顿法的一些优点，但是没有牛顿法的计算负担。

大多数拟牛顿法（包括 `BFGS`）采用矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-392-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 1447.3 1009.2" width="3.361ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E393-MJMAINB-4D" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E393-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E393-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1544" xlink:href="#E393-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-392" type="math/tex">\mathbf M_t</script>来近似海森矩阵的逆矩阵，当<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-392-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 1447.3 1009.2" width="3.361ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E393-MJMAINB-4D" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E393-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E393-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1544" xlink:href="#E393-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-392" type="math/tex">\mathbf M_t</script>更新时，下降方向为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-387-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 4705.4 1361" width="10.929ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E388-MJMAINB-64" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E388-MJMAIN-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E388-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E388-MJMAIN-3D" stroke-width="0"></path><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E388-MJMAINB-4D" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E388-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E388-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E388-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E388-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><use transform="scale(0.707)" x="903" xlink:href="#E388-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1272" xlink:href="#E388-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2327,0)"><use x="0" xlink:href="#E388-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1544" xlink:href="#E388-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3775,0)"><use x="0" xlink:href="#E388-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E388-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E388-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g></svg></span><script id="MathJax-Element-387" type="math/tex">\vec{\mathbf d}_t=\mathbf M_t\mathbf{\vec g}_t</script>。

在该方向上的线性搜索到的最佳学习率为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-479-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 859.6 858.4" width="1.996ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E480-MJMATHI-3F5" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E480-MJMAIN-2217" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E480-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E480-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></svg></span><script id="MathJax-Element-479" type="math/tex">\epsilon^{*}</script>，则参数更新为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-389-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 7132.6 1361" width="16.566ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E390-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E390-MJMAIN-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E390-MJMATHI-74" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E390-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E390-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E390-MJMAIN-3D" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E390-MJMATHI-3F5" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E390-MJMAIN-2217" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E390-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E390-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E390-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><g transform="translate(554,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E390-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E390-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E390-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2091" xlink:href="#E390-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3146,0)"><use x="1" xlink:href="#E390-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E390-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E390-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4278" xlink:href="#E390-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5278,0)"><use x="0" xlink:href="#E390-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E390-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(6138,0)"><use x="0" xlink:href="#E390-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E390-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><use transform="scale(0.707)" x="903" xlink:href="#E390-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-389" type="math/tex">\vec\theta_{t+1}=\vec\theta_t+\epsilon^{*}\vec{\mathbf d}_t</script>。

2. `BFGS`算法迭代了一系列线性搜索，其方向蕴含了二阶信息。

与共轭梯度不同，`BFGS`的成功并不需要线性搜索真正找到该方向上接近极小值的一点（而是探索一部分点）。因此`BFGS`在每个线性搜索上花费更少的时间。

3. `BFGS`算法必须存储海森矩阵逆矩阵的近似矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-392-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 1447.3 1009.2" width="3.361ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E393-MJMAINB-4D" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E393-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E393-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1544" xlink:href="#E393-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-392" type="math/tex">\mathbf M_t</script>，需要<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-391-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 2594.6 1210.2" width="6.026ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E392-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E392-MJMAIN-28" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E392-MJMATHI-6E" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E392-MJMAIN-32" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E392-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E392-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E392-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><use x="0" xlink:href="#E392-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E392-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="2205" xlink:href="#E392-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-391" type="math/tex">O(n^{2})</script>的存储空间。因此`BFGS`不适用于大多数具有百万级参数的现代深度学习模型。

`L-BFGS`通过避免存储完整的海森矩阵的逆的近似矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-392-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 1447.3 1009.2" width="3.361ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E393-MJMAINB-4D" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E393-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E393-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1544" xlink:href="#E393-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-392" type="math/tex">\mathbf M_t</script>来降低存储代价，它假设起始的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-393-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 1545.6 1009.2" width="3.59ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E394-MJMAINB-4D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E394-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E394-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1544" xlink:href="#E394-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-393" type="math/tex">\mathbf M_0</script>为单位矩阵，每步存储一些用于更新<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-394-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 1092 808.1" width="2.536ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" id="E395-MJMAINB-4D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E395-MJMAINB-4D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-394" type="math/tex">\mathbf M</script>的向量，并且每一步的存储代价是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-395-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 2141 1109.7" width="4.973ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E396-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E396-MJMAIN-28" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E396-MJMATHI-6E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E396-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E396-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E396-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1152" xlink:href="#E396-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1752" xlink:href="#E396-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-395" type="math/tex">O(n)</script>。


## 七、共轭梯度法

### 7.1 最速下降法

1. 最速下降法是梯度下降法的一个特例：在每次梯度下降时，学习率的选择是使得当前函数值下降最快的那个学习率。
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1872-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.328ex" role="img" style="vertical-align: -1.872ex;" viewbox="0 -1057.4 9049.3 1863.6" width="21.018ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2039-MJMATHI-3F5" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2039-MJMAIN-2217" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2039-MJMAIN-3D" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2039-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E2039-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2039-MJMAIN-6E" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2039-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2039-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2039-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2039-MJMAIN-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2039-MJMATHI-6B" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2039-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2039-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2039-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2039-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2039-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2039-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use><use x="1137" xlink:href="#E2039-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2193,0)"><use xlink:href="#E2039-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2039-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2039-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="975" xlink:href="#E2039-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="-849"></use></g><use x="4026" xlink:href="#E2039-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4576" xlink:href="#E2039-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4965,0)"><use x="1" xlink:href="#E2039-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2039-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2039-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6210" xlink:href="#E2039-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7210" xlink:href="#E2039-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7616,0)"><use x="0" xlink:href="#E2039-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2039-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2039-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="8660" xlink:href="#E2039-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1872" type="math/tex; mode=display">\epsilon^*=\min_{\epsilon} f(\vec\theta_k-\epsilon \mathbf{\vec g}_k)</script>
梯度下降法仅仅指明：负梯度的方向是使得代价函数值下降的方向。它并没有说明沿着负梯度的方向推进多少步长。

最速下降法通过显式对学习率建模，求解沿着负梯度的方向需要推进多少步长。

2. 在最速下降法中，假设上一次搜索方向是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-477-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1897.9 1310.7" width="4.408ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E478-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E478-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E478-MJMATHI-74" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E478-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E478-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E478-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E478-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E478-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E478-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E478-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-477" type="math/tex">\mathbf{\vec d}_{t-1}</script>，当前搜索方向是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-397-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 994.3 1310.7" width="2.309ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E398-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E398-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E398-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E398-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E398-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E398-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-397" type="math/tex">\mathbf{\vec d}_{t}</script>。可以证明有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1873-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 5448.2 1310.7" width="12.654ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2040-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2040-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2040-MJMATHI-74" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z" id="E2040-MJMAIN-22C5" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2040-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2040-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2040-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2040-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2040-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2040-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2040-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1216" xlink:href="#E2040-MJMAIN-22C5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1716,0)"><use x="0" xlink:href="#E2040-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2040-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2040-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2040-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2040-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="3892" xlink:href="#E2040-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4948" xlink:href="#E2040-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1873" type="math/tex; mode=display">\mathbf{\vec d}_{t} \cdot \mathbf{\vec d}_{t-1}=0</script>
即：前后两次搜索的方向是正交的。

![](../imgs/dl_optimization/fast_desc.jpg)

证明过程：

已知<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-398-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1022.7 1310.7" width="2.375ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E399-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E399-MJMAIN-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E399-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E399-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E399-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E399-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-398" type="math/tex">\vec\theta_k</script>的梯度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-399-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1043.4 1109.7" width="2.423ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E400-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E400-MJMAINB-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E400-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E400-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E400-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E400-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></svg></span><script id="MathJax-Element-399" type="math/tex">\mathbf{\vec g}_k</script>，根据<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-400-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -1107.7 2983.4 1612.3" width="6.929ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E401-MJMAIN-30" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E401-MJMAIN-3D" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E401-MJMAIN-2202" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E401-MJMATHI-66" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E401-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E401-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="777" xlink:href="#E401-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1555,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="909" x="0" y="220"></rect><g transform="translate(60,549)"><use transform="scale(0.707)" x="0" xlink:href="#E401-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="567" xlink:href="#E401-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(110,-410)"><use transform="scale(0.707)" x="0" xlink:href="#E401-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="567" xlink:href="#E401-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-400" type="math/tex">0=\frac{\partial f}{\partial \epsilon}</script>，则有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1874-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="12.5ex" role="img" style="vertical-align: -9.11ex;" viewbox="0 -1459.5 38699.6 5381.7" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2041-MJMAIN-30" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2041-MJMAIN-3D" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2041-MJMAIN-2202" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2041-MJMATHI-66" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2041-MJMATHI-3F5" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2041-MJMAIN-2212" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2041-MJMAIN-2207" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2041-MJMAIN-28" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2041-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2041-MJMAIN-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2041-MJMATHI-6B" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2041-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2041-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2041-MJMAIN-29" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z" id="E2041-MJMAIN-22C5" stroke-width="0"></path><path d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" id="E2041-MJMAIN-2192" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2041-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2041-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(12828,0)"><use x="0" xlink:href="#E2041-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="777" xlink:href="#E2041-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1555,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1237" x="0" y="220"></rect><g transform="translate(60,676)"><use x="0" xlink:href="#E2041-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2041-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(132,-686)"><use x="0" xlink:href="#E2041-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2041-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="3588" xlink:href="#E2041-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4644" xlink:href="#E2041-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5422" xlink:href="#E2041-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6255" xlink:href="#E2041-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6805" xlink:href="#E2041-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7194,0)"><use x="1" xlink:href="#E2041-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2041-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8439" xlink:href="#E2041-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9439" xlink:href="#E2041-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9845,0)"><use x="0" xlink:href="#E2041-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2041-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="10888" xlink:href="#E2041-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11499" xlink:href="#E2041-MJMAIN-22C5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12000,0)"><use x="0" xlink:href="#E2041-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2041-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g><g transform="translate(14867,-2117)"><use x="0" xlink:href="#E2041-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1277" xlink:href="#E2041-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2110" xlink:href="#E2041-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2660" xlink:href="#E2041-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3049,0)"><use x="1" xlink:href="#E2041-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2041-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><g transform="translate(554,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2041-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2041-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="4976" xlink:href="#E2041-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5587" xlink:href="#E2041-MJMAIN-22C5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6087,0)"><use x="0" xlink:href="#E2041-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2041-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="7408" xlink:href="#E2041-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8464" xlink:href="#E2041-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(15937,-3538)"><use x="0" xlink:href="#E2041-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1277,0)"><use x="0" xlink:href="#E2041-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2041-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2041-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2041-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="3447" xlink:href="#E2041-MJMAIN-22C5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3947,0)"><use x="0" xlink:href="#E2041-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2041-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2041-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="5268" xlink:href="#E2041-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6324" xlink:href="#E2041-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1874" type="math/tex; mode=display">0=\frac{\partial f}{\partial \epsilon}=-\nabla f(\vec\theta_k-\epsilon\mathbf{\vec g}_k)\cdot \mathbf{\vec g}_k \\ \rightarrow \nabla f(\vec\theta_{k+1})\cdot \mathbf{\vec g}_k=0\\ \rightarrow \mathbf{\vec g}_{k+1}\cdot \mathbf{\vec g}_k=0</script>
3. 在最速下降法中，前进过程是锯齿形的。在某种意义上，这意味着消除了之前的线性搜索方向上取得的进展：

如果前一次搜索已经找出了某个方向上的最小值，最速下降法不会保持这一方向。


### 7.2 共轭梯度法

1. 共轭：给定一个正定矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>，如果非零向量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-404-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1658.7 1059.4" width="3.852ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E405-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E405-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E405-MJMAIN-2C" stroke-width="0"></path><path d="M84 -102Q84 -110 87 -119T102 -138T133 -149Q148 -148 162 -143T186 -131T206 -114T222 -95T234 -76T243 -59T249 -45T252 -37L269 0L96 382H26V444H34Q49 441 146 441Q252 441 270 444H279V382H255Q232 382 232 380L337 151L442 382H394V444H401Q413 441 495 441Q568 441 574 444H580V382H510L406 152Q298 -84 297 -87Q269 -139 225 -169T131 -200Q85 -200 54 -172T23 -100Q23 -64 44 -50T87 -35Q111 -35 130 -50T152 -92V-100H84V-102Z" id="E405-MJMAINB-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E405-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E405-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="607" xlink:href="#E405-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1051,0)"><use x="0" xlink:href="#E405-MJMAINB-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E405-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-404" type="math/tex">\mathbf{\vec x},\mathbf{\vec y}</script>满足：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-403-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 4509.4 1260.5" width="10.473ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E404-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E404-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E404-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E404-MJMAINB-51" stroke-width="0"></path><path d="M84 -102Q84 -110 87 -119T102 -138T133 -149Q148 -148 162 -143T186 -131T206 -114T222 -95T234 -76T243 -59T249 -45T252 -37L269 0L96 382H26V444H34Q49 441 146 441Q252 441 270 444H279V382H255Q232 382 232 380L337 151L442 382H394V444H401Q413 441 495 441Q568 441 574 444H580V382H510L406 152Q298 -84 297 -87Q269 -139 225 -169T131 -200Q85 -200 54 -172T23 -100Q23 -64 44 -50T87 -35Q111 -35 130 -50T152 -92V-100H84V-102Z" id="E404-MJMAINB-79" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E404-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E404-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E404-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E404-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E404-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><use x="1204" xlink:href="#E404-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2068,0)"><use x="0" xlink:href="#E404-MJMAINB-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E404-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="2953" xlink:href="#E404-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4009" xlink:href="#E404-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-403" type="math/tex">\mathbf{\vec x}^T\mathbf Q \mathbf{\vec y}=0</script>，则称向量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-404-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 1658.7 1059.4" width="3.852ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E405-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E405-MJMAINB-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E405-MJMAIN-2C" stroke-width="0"></path><path d="M84 -102Q84 -110 87 -119T102 -138T133 -149Q148 -148 162 -143T186 -131T206 -114T222 -95T234 -76T243 -59T249 -45T252 -37L269 0L96 382H26V444H34Q49 441 146 441Q252 441 270 444H279V382H255Q232 382 232 380L337 151L442 382H394V444H401Q413 441 495 441Q568 441 574 444H580V382H510L406 152Q298 -84 297 -87Q269 -139 225 -169T131 -200Q85 -200 54 -172T23 -100Q23 -64 44 -50T87 -35Q111 -35 130 -50T152 -92V-100H84V-102Z" id="E405-MJMAINB-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E405-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E405-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="607" xlink:href="#E405-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1051,0)"><use x="0" xlink:href="#E405-MJMAINB-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E405-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-404" type="math/tex">\mathbf{\vec x},\mathbf{\vec y}</script>关于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>共轭。
2. 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-406-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 2633.6 1009.2" width="6.117ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E407-MJMAINB-51" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E407-MJMAIN-3D" stroke-width="0"></path><path d="M397 0Q370 3 218 3Q65 3 38 0H25V62H139V624H25V686H38Q65 683 218 683Q370 683 397 686H410V624H296V62H410V0H397Z" id="E407-MJMAINB-49" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E407-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1141" xlink:href="#E407-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2197" xlink:href="#E407-MJMAINB-49" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-406" type="math/tex">\mathbf Q=\mathbf I</script>为单位矩阵，则有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-407-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 3645.4 1260.5" width="8.467ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E408-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E408-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E408-MJMATHI-54" stroke-width="0"></path><path d="M84 -102Q84 -110 87 -119T102 -138T133 -149Q148 -148 162 -143T186 -131T206 -114T222 -95T234 -76T243 -59T249 -45T252 -37L269 0L96 382H26V444H34Q49 441 146 441Q252 441 270 444H279V382H255Q232 382 232 380L337 151L442 382H394V444H401Q413 441 495 441Q568 441 574 444H580V382H510L406 152Q298 -84 297 -87Q269 -139 225 -169T131 -200Q85 -200 54 -172T23 -100Q23 -64 44 -50T87 -35Q111 -35 130 -50T152 -92V-100H84V-102Z" id="E408-MJMAINB-79" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E408-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E408-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E408-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E408-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E408-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><g transform="translate(1204,0)"><use x="0" xlink:href="#E408-MJMAINB-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E408-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="2089" xlink:href="#E408-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3145" xlink:href="#E408-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-407" type="math/tex">\mathbf{\vec x}^T\mathbf{\vec y}=0</script>。即：向量共轭是向量点积为0的推广。

#### 7.2.1 共轭梯度原理

1. 对于线性空间<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-408-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 1246.3 908.7" width="2.895ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E409-MJAMS-52" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E409-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E409-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1021" xlink:href="#E409-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g></svg></span><script id="MathJax-Element-408" type="math/tex">\mathbb R^n</script>，如果能找到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>个向量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-410-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 6074.1 1310.7" width="14.108ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E411-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E411-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E411-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E411-MJMAIN-2C" stroke-width="0"></path><path d="M175 580Q175 578 185 572T205 551T215 510Q215 467 191 449T137 430Q107 430 83 448T58 511Q58 558 91 592T168 640T259 654Q328 654 383 637Q451 610 484 563T517 459Q517 401 482 360T368 262Q340 243 265 184L210 140H274Q416 140 429 145Q439 148 447 186T455 237H517V233Q516 230 501 119Q489 9 486 4V0H57V25Q57 51 58 54Q60 57 109 106T215 214T288 291Q364 377 364 458Q364 515 328 553T231 592Q214 592 201 589T181 584T175 580Z" id="E411-MJMAINB-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E411-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E411-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E411-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E411-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E411-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1092" xlink:href="#E411-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1537,0)"><use x="0" xlink:href="#E411-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E411-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E411-MJMAINB-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2682" xlink:href="#E411-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3127" xlink:href="#E411-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4466" xlink:href="#E411-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4910,0)"><use x="0" xlink:href="#E411-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E411-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E411-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-410" type="math/tex">\mathbf{\vec d}_1,\mathbf{\vec d_2},\cdots,\mathbf{\vec d}_n</script>，且它们满足：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-411-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 7499.9 1612.3" width="17.419ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E412-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E412-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E412-MJMATHI-54" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E412-MJMATHI-69" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E412-MJMAINB-51" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E412-MJMATHI-6A" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E412-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E412-MJMAIN-30" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E412-MJMAIN-2C" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E412-MJMAIN-2260" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E412-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E412-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E412-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E412-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E412-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E412-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E412-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E412-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3408" xlink:href="#E412-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4464" xlink:href="#E412-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4964" xlink:href="#E412-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5409" xlink:href="#E412-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6032" xlink:href="#E412-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7087" xlink:href="#E412-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-411" type="math/tex">\mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_j=0,i\ne j</script>，则可以证明这一组向量是线性无关的。

此时这一组向量可以作为线性空间的一组基向量，空间中任意向量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-412-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -806.1 607 858.4" width="1.41ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E413-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E413-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E413-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E413-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></svg></span><script id="MathJax-Element-412" type="math/tex">\mathbf{\vec x}</script>都可以用这组向量表示：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-416-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1057.4 6266.8 1411.3" width="14.555ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E417-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E417-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E417-MJMAIN-3D" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E417-MJSZ1-2211" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E417-MJMATHI-6E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E417-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E417-MJMAIN-31" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E417-MJMATHI-61" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E417-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E417-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E417-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E417-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1940,0)"><use x="0" xlink:href="#E417-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E417-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E417-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E417-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E417-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(4410,0)"><use x="0" xlink:href="#E417-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E417-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(5283,0)"><use x="0" xlink:href="#E417-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E417-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E417-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-416" type="math/tex">\mathbf{\vec x}=\sum_{i=1}^na_i\mathbf{\vec d}_i</script>。

2. 对于二次函数极值问题（其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>为正定矩阵）：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-415-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.978ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1258.5 10171.4 1712.8" width="23.624ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E416-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E416-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E416-MJMAIN-6E" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E416-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E416-MJMAINB-20D7" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E416-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E416-MJAMS-52" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E416-MJMATHI-6E" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E416-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E416-MJMAIN-32" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E416-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E416-MJMAINB-51" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E416-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E416-MJMAINB-62" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E416-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E416-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E416-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1667,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E416-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E416-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use><use transform="scale(0.707)" x="607" xlink:href="#E416-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,0)"><use transform="scale(0.707)" x="0" xlink:href="#E416-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1021" xlink:href="#E416-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g></g><g transform="translate(3549,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="473" x="0" y="220"></rect><use transform="scale(0.707)" x="84" xlink:href="#E416-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E416-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-531"></use></g></g><g transform="translate(4429,0)"><use x="0" xlink:href="#E416-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E416-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E416-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use></g><use x="5634" xlink:href="#E416-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6498,0)"><use x="0" xlink:href="#E416-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E416-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7327" xlink:href="#E416-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8327,0)"><use x="0" xlink:href="#E416-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E416-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E416-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(9564,0)"><use x="0" xlink:href="#E416-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E416-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-415" type="math/tex">\min_{\mathbf{\vec x}\in \mathbb R^n}\frac 12\mathbf{\vec x}^T\mathbf Q\mathbf{\vec x}-\mathbf{\vec b}^T\mathbf{\vec x}</script>，将<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-416-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1057.4 6266.8 1411.3" width="14.555ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E417-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E417-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E417-MJMAIN-3D" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E417-MJSZ1-2211" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E417-MJMATHI-6E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E417-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E417-MJMAIN-31" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E417-MJMATHI-61" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E417-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E417-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E417-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E417-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1940,0)"><use x="0" xlink:href="#E417-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E417-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E417-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E417-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E417-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(4410,0)"><use x="0" xlink:href="#E417-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E417-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(5283,0)"><use x="0" xlink:href="#E417-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E417-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E417-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-416" type="math/tex">\mathbf{\vec x}=\sum_{i=1}^na_i\mathbf{\vec d}_i</script>代入上式，令<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-417-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 8959.4 1210.2" width="20.809ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 349Q64 399 107 426T255 453Q346 453 402 423T473 341Q478 327 478 310T479 196V77Q493 63 529 62Q549 62 553 57T558 31Q558 9 552 5T514 0H497H481Q375 0 367 56L356 46Q300 -6 210 -6Q130 -6 81 30T32 121Q32 188 111 226T332 272H350V292Q350 313 348 327T337 361T306 391T248 402T194 399H189Q204 376 204 354Q204 327 187 306T134 284Q97 284 81 305T64 349ZM164 121Q164 89 186 67T238 45Q274 45 307 63T346 108L350 117V226H347Q248 218 206 189T164 121Z" id="E418-MJMAINB-61" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E418-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E418-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E418-MJMAIN-28" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E418-MJMATHI-61" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E418-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E418-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E418-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E418-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E418-MJMATHI-6E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E418-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E418-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E418-MJMAINB-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E418-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="15"></use><use x="836" xlink:href="#E418-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1892" xlink:href="#E418-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2281,0)"><use x="0" xlink:href="#E418-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E418-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3264" xlink:href="#E418-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3708,0)"><use x="0" xlink:href="#E418-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E418-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4691" xlink:href="#E418-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5135" xlink:href="#E418-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6474" xlink:href="#E418-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6919,0)"><use x="0" xlink:href="#E418-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E418-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(7972,0)"><use x="0" xlink:href="#E418-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E418-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g></svg></span><script id="MathJax-Element-417" type="math/tex">\mathbf{\vec a}=(a_1,a_2,\cdots,a_n)^T</script>：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1875-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="15.885ex" role="img" style="vertical-align: -11.211ex;" viewbox="0 -2012.4 38699.6 6839.3" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2042-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E2042-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2042-MJMAIN-6E" stroke-width="0"></path><path d="M64 349Q64 399 107 426T255 453Q346 453 402 423T473 341Q478 327 478 310T479 196V77Q493 63 529 62Q549 62 553 57T558 31Q558 9 552 5T514 0H497H481Q375 0 367 56L356 46Q300 -6 210 -6Q130 -6 81 30T32 121Q32 188 111 226T332 272H350V292Q350 313 348 327T337 361T306 391T248 402T194 399H189Q204 376 204 354Q204 327 187 306T134 284Q97 284 81 305T64 349ZM164 121Q164 89 186 67T238 45Q274 45 307 63T346 108L350 117V226H347Q248 218 206 189T164 121Z" id="E2042-MJMAINB-61" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2042-MJMAINB-20D7" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E2042-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E2042-MJAMS-52" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2042-MJMATHI-6E" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2042-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2042-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2042-MJMAIN-28" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2042-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2042-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2042-MJMAIN-3D" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2042-MJMATHI-61" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2042-MJMAINB-64" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2042-MJMAIN-29" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2042-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2042-MJSZ4-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2042-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2042-MJMAINB-51" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2042-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2042-MJMAINB-62" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2042-MJMATHI-6A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(8259,0)"><g transform="translate(40,0)"><use xlink:href="#E2042-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2042-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2042-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(0,-711)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMAINB-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="46"></use><use transform="scale(0.707)" x="559" xlink:href="#E2042-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(866,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1021" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g></g><g transform="translate(1748,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2042-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(2774,0)"><use xlink:href="#E2042-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2042-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2042-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3275,0)"><use x="0" xlink:href="#E2042-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4258" xlink:href="#E2042-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="7142" xlink:href="#E2042-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2088"></use></g><use x="8423" xlink:href="#E2042-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9453,0)"><use xlink:href="#E2042-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2042-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2042-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3275,0)"><use x="0" xlink:href="#E2042-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4258" xlink:href="#E2042-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="14726" xlink:href="#E2042-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15726,0)"><use x="0" xlink:href="#E2042-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(17130,0)"><use xlink:href="#E2042-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2042-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2042-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3275,0)"><use x="0" xlink:href="#E2042-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4258" xlink:href="#E2042-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(8814,-3431)"><use x="0" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1055,0)"><g transform="translate(40,0)"><use xlink:href="#E2042-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2042-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2042-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(0,-711)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMAINB-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="46"></use><use transform="scale(0.707)" x="559" xlink:href="#E2042-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(866,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1021" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g></g></g><g transform="translate(2803,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2042-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3830,0)"><use xlink:href="#E2042-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2042-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2042-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4013,0)"><use x="0" xlink:href="#E2042-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(4886,0)"><use x="0" xlink:href="#E2042-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2042-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(5806,0)"><use x="0" xlink:href="#E2042-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="7043" xlink:href="#E2042-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7907,0)"><use x="0" xlink:href="#E2042-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8937" xlink:href="#E2042-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="13782" xlink:href="#E2042-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14782,0)"><use xlink:href="#E2042-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2042-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2042-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2042-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2042-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2042-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3275,0)"><use x="0" xlink:href="#E2042-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(4512,0)"><use x="0" xlink:href="#E2042-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2042-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2042-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5495" xlink:href="#E2042-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span></span><script id="MathJax-Element-1875" type="math/tex; mode=display">\min_{\mathbf{\vec a}\in \mathbb R^n}\frac 12\left(\sum_{i=1}^na_i\mathbf{\vec d}_i\right)^T\mathbf Q\left(\sum_{i=1}^na_i\mathbf{\vec d}_i\right)-\mathbf{\vec b}^T\left(\sum_{i=1}^na_i\mathbf{\vec d}_i\right)\\ =\min_{\mathbf{\vec a}\in \mathbb R^n}\frac 12 \left( \sum_{i=1}^n\sum_{j=1}^na_ia_j\mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_j\right)-\left(\sum_{i=1}^na_i\mathbf{\vec b}^T\mathbf{\vec d}_i\right)</script>
根据<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-418-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1057.4 4710.8 1411.3" width="10.941ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E419-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E419-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E419-MJMATHI-69" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E419-MJMAINB-51" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E419-MJMATHI-6A" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E419-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E419-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E419-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E419-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E419-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="982" xlink:href="#E419-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1846,0)"><use x="0" xlink:href="#E419-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E419-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E419-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3155" xlink:href="#E419-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4210" xlink:href="#E419-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-418" type="math/tex">\mathbf{\vec d}_i\mathbf Q\mathbf{\vec d}_j=0</script>，有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1876-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.247ex" role="img" style="vertical-align: -3.04ex;" viewbox="0 -1811.3 33118.1 3120.1" width="76.92ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2043-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E2043-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2043-MJMAIN-6E" stroke-width="0"></path><path d="M64 349Q64 399 107 426T255 453Q346 453 402 423T473 341Q478 327 478 310T479 196V77Q493 63 529 62Q549 62 553 57T558 31Q558 9 552 5T514 0H497H481Q375 0 367 56L356 46Q300 -6 210 -6Q130 -6 81 30T32 121Q32 188 111 226T332 272H350V292Q350 313 348 327T337 361T306 391T248 402T194 399H189Q204 376 204 354Q204 327 187 306T134 284Q97 284 81 305T64 349ZM164 121Q164 89 186 67T238 45Q274 45 307 63T346 108L350 117V226H347Q248 218 206 189T164 121Z" id="E2043-MJMAINB-61" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2043-MJMAINB-20D7" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E2043-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E2043-MJAMS-52" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2043-MJMATHI-6E" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2043-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2043-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2043-MJMAIN-28" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2043-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2043-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2043-MJMAIN-3D" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2043-MJMATHI-61" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2043-MJMAINB-64" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2043-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2043-MJMAINB-51" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2043-MJMAIN-29" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2043-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2043-MJSZ4-29" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2043-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2043-MJMAINB-62" stroke-width="0"></path><path d="M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z" id="E2043-MJSZ3-28" stroke-width="0"></path><path d="M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z" id="E2043-MJSZ3-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(40,0)"><use xlink:href="#E2043-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2043-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2043-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(0,-711)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJMAINB-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="46"></use><use transform="scale(0.707)" x="559" xlink:href="#E2043-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(866,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1021" xlink:href="#E2043-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g></g><g transform="translate(1748,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2043-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2043-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(2774,0)"><use xlink:href="#E2043-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2043-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2043-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2043-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2043-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2043-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2043-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="748" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><g transform="translate(3385,0)"><use x="0" xlink:href="#E2043-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="4622" xlink:href="#E2043-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5486,0)"><use x="0" xlink:href="#E2043-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6468" xlink:href="#E2043-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="10258" xlink:href="#E2043-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11258,0)"><use xlink:href="#E2043-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2043-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2043-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2043-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2043-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(2402,0)"><use x="0" xlink:href="#E2043-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3275,0)"><use x="0" xlink:href="#E2043-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(4512,0)"><use x="0" xlink:href="#E2043-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5495" xlink:href="#E2043-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="17823" xlink:href="#E2043-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(18879,0)"><g transform="translate(40,0)"><use xlink:href="#E2043-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2043-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2043-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(0,-711)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJMAINB-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="46"></use><use transform="scale(0.707)" x="559" xlink:href="#E2043-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(866,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1021" xlink:href="#E2043-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="579"></use></g></g></g><g transform="translate(20793,0)"><use x="0" xlink:href="#E2043-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2043-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2043-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2043-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(22404,0)"><use xlink:href="#E2043-MJSZ3-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(736,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2043-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2043-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(1596,0)"><use x="0" xlink:href="#E2043-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2043-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="748" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><g transform="translate(2578,0)"><use x="0" xlink:href="#E2043-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="3815" xlink:href="#E2043-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4679,0)"><use x="0" xlink:href="#E2043-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5884" xlink:href="#E2043-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6884,0)"><use x="0" xlink:href="#E2043-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(7757,0)"><use x="0" xlink:href="#E2043-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(8994,0)"><use x="0" xlink:href="#E2043-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2043-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2043-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9977" xlink:href="#E2043-MJSZ3-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g></g></svg></span></span><script id="MathJax-Element-1876" type="math/tex; mode=display">\min_{\mathbf{\vec a}\in \mathbb R^n}\frac 12\left(\sum_{i=1}^na_i^2\mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_i\right) -\left(\sum_{i=1}^na_i\mathbf{\vec b}^T\mathbf{\vec d}_i\right) =\min_{\mathbf{\vec a}\in \mathbb R^n}\sum_{i=1}^n\left(\frac 12 a_i^2 \mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_i-a_i\mathbf{\vec b}^T\mathbf{\vec d}_i\right)</script>
3. 现在变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-419-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 5691 757.9" width="13.218ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E420-MJMATHI-61" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E420-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E420-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E420-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E420-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E420-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E420-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E420-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="982" xlink:href="#E420-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1427,0)"><use x="0" xlink:href="#E420-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E420-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="2409" xlink:href="#E420-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2854" xlink:href="#E420-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4193" xlink:href="#E420-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4637,0)"><use x="0" xlink:href="#E420-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E420-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-419" type="math/tex">a_1,a_2,\cdots,a_n</script>已经被分开，可以分别优化。

于是求解第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>项的最小值：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1877-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.846ex" role="img" style="vertical-align: -2.339ex;" viewbox="0 -1509.8 12547.1 2517" width="29.142ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2044-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E2044-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2044-MJMAIN-6E" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2044-MJMATHI-61" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2044-MJMATHI-69" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2044-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2044-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2044-MJMAIN-32" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2044-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2044-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2044-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2044-MJMAINB-51" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2044-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2044-MJMAINB-62" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2044-MJMAIN-29" stroke-width="0"></path><path d="M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z" id="E2044-MJSZ3-28" stroke-width="0"></path><path d="M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z" id="E2044-MJSZ3-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E2044-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2044-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2044-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(524,-600)"><use transform="scale(0.707)" x="0" xlink:href="#E2044-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="748" xlink:href="#E2044-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(1833,0)"><use xlink:href="#E2044-MJSZ3-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(736,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2044-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2044-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(1596,0)"><use x="0" xlink:href="#E2044-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2044-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="748" xlink:href="#E2044-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><g transform="translate(2578,0)"><use x="0" xlink:href="#E2044-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2044-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2044-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2044-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="3815" xlink:href="#E2044-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4679,0)"><use x="0" xlink:href="#E2044-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2044-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2044-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5884" xlink:href="#E2044-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6884,0)"><use x="0" xlink:href="#E2044-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2044-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(7757,0)"><use x="0" xlink:href="#E2044-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2044-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2044-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(8994,0)"><use x="0" xlink:href="#E2044-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2044-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2044-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9977" xlink:href="#E2044-MJSZ3-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g></g></svg></span></span><script id="MathJax-Element-1877" type="math/tex; mode=display">\min_{a_i}\left(\frac 12 a_i^2 \mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_i-a_i\mathbf{\vec b}^T\mathbf{\vec d}_i\right)</script>
直接求导即可得到：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1878-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.947ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1962.1 5759.9 3421.6" width="13.378ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2045-MJMATHI-61" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2045-MJMAIN-2217" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2045-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2045-MJMAIN-3D" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2045-MJMAINB-62" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2045-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2045-MJMATHI-54" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2045-MJMAINB-64" stroke-width="0"></path><path d="M72 610Q72 649 98 672T159 695Q193 693 217 670T241 610Q241 572 217 549T157 525Q120 525 96 548T72 610ZM46 442L136 446L226 450H232V62H294V0H286Q271 3 171 3Q67 3 49 0H40V62H109V209Q109 358 108 362Q103 380 55 380H43V442H46Z" id="E2045-MJMAINB-69" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2045-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2045-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2045-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="452"></use><use transform="scale(0.707)" x="748" xlink:href="#E2045-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use><use x="1260" xlink:href="#E2045-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2038,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3203" x="0" y="220"></rect><g transform="translate(501,676)"><use x="0" xlink:href="#E2045-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2045-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2045-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><g transform="translate(1236,0)"><use x="0" xlink:href="#E2045-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2045-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2045-MJMAINB-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(60,-1151)"><use x="0" xlink:href="#E2045-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2045-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2045-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2045-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2045-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2045-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2045-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2045-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1878" type="math/tex; mode=display">a_i^*=\frac{\mathbf{\vec b}^T\mathbf{\vec d_i}}{\mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_i}</script>
最优解为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1879-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.947ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1962.1 13341.2 3421.6" width="30.986ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2046-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2046-MJMAINB-20D7" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2046-MJMAIN-2217" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2046-MJMAIN-3D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2046-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2046-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2046-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2046-MJMATHI-6E" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E2046-MJMATHI-61" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2046-MJMAINB-64" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2046-MJMAINB-62" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2046-MJMATHI-54" stroke-width="0"></path><path d="M72 610Q72 649 98 672T159 695Q193 693 217 670T241 610Q241 572 217 549T157 525Q120 525 96 548T72 610ZM46 442L136 446L226 450H232V62H294V0H286Q271 3 171 3Q67 3 49 0H40V62H109V209Q109 358 108 362Q103 380 55 380H43V442H46Z" id="E2046-MJMAINB-69" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2046-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2046-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2046-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><use x="1338" xlink:href="#E2046-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2394,0)"><use x="0" xlink:href="#E2046-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2046-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2046-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2046-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4004,0)"><use x="0" xlink:href="#E2046-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E2046-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="452"></use><use transform="scale(0.707)" x="748" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><g transform="translate(4987,0)"><use x="0" xlink:href="#E2046-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6248" xlink:href="#E2046-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7303,0)"><use x="0" xlink:href="#E2046-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2046-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2046-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2046-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(8747,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="3203" x="0" y="220"></rect><g transform="translate(501,676)"><use x="0" xlink:href="#E2046-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><g transform="translate(1236,0)"><use x="0" xlink:href="#E2046-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMAINB-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(60,-1151)"><use x="0" xlink:href="#E2046-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2046-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2046-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><g transform="translate(12358,0)"><use x="0" xlink:href="#E2046-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2046-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2046-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1879" type="math/tex; mode=display">\mathbf{\vec x}^*=\sum_{i=1}^na_i^*\mathbf{\vec d}_i=\sum_{i=1}^n\frac{\mathbf{\vec b}^T\mathbf{\vec d_i}}{\mathbf{\vec d}_i^T\mathbf Q\mathbf{\vec d}_i} \mathbf{\vec d}_i</script>
4. 上述最优解可以这样理解：

    * 目标函数沿着方向<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-421-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 983 1310.7" width="2.283ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E422-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E422-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E422-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E422-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E422-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E422-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-421" type="math/tex">\mathbf{\vec d}_i</script>（即：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-422-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 3796.5 1310.7" width="8.818ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E423-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E423-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E423-MJMAIN-3D" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E423-MJMATHI-61" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E423-MJMATHI-69" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E423-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E423-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E423-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="884" xlink:href="#E423-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1940,0)"><use x="0" xlink:href="#E423-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E423-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(2813,0)"><use x="0" xlink:href="#E423-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E423-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E423-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-422" type="math/tex">\mathbf{\vec x}=a_i \mathbf{\vec d}_i</script>）求解极小值，得到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-423-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -705.6 982.6 1109.7" width="2.282ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E424-MJMATHI-61" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E424-MJMAIN-2217" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E424-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E424-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E424-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="452"></use><use transform="scale(0.707)" x="748" xlink:href="#E424-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g></svg></span><script id="MathJax-Element-423" type="math/tex">a_i^*</script>。
    * 总和所有的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>个方向求得的极小值，得到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-425-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -1057.4 6829.9 1461.5" width="15.863ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E426-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E426-MJMAINB-20D7" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E426-MJMAIN-2217" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E426-MJMAIN-3D" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E426-MJSZ1-2211" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E426-MJMATHI-6E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E426-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E426-MJMAIN-31" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E426-MJMATHI-61" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E426-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E426-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E426-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E426-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><use x="1338" xlink:href="#E426-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2394,0)"><use x="0" xlink:href="#E426-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E426-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E426-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E426-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E426-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(4864,0)"><use x="0" xlink:href="#E426-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="748" xlink:href="#E426-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="452"></use><use transform="scale(0.707)" x="748" xlink:href="#E426-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><g transform="translate(5846,0)"><use x="0" xlink:href="#E426-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E426-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E426-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-425" type="math/tex">\mathbf{\vec x}^*=\sum_{i=1}^na_i^*\mathbf{\vec d}_i</script>。

现在的问题是：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>个关于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>共轭的向量组<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-430-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 7021 1361" width="16.307ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E431-MJMAIN-7B" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E431-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E431-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E431-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E431-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E431-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E431-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E431-MJMATHI-6E" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E431-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E431-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E431-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E431-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E431-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1592" xlink:href="#E431-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2037,0)"><use x="0" xlink:href="#E431-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E431-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E431-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3129" xlink:href="#E431-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3574" xlink:href="#E431-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4913" xlink:href="#E431-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5357,0)"><use x="0" xlink:href="#E431-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E431-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E431-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6521" xlink:href="#E431-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-430" type="math/tex">\{\mathbf{\vec d}_1,\mathbf{\vec d}_2,\cdots,\mathbf{\vec d}_n\}</script>未知。


#### 7.2.2 共轭梯度搜索

1. 共轭梯度法通过迭代来搜索关于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>共轭的向量组<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-430-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 7021 1361" width="16.307ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E431-MJMAIN-7B" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E431-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E431-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E431-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E431-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E431-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E431-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E431-MJMATHI-6E" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E431-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E431-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E431-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E431-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E431-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1592" xlink:href="#E431-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2037,0)"><use x="0" xlink:href="#E431-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E431-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E431-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3129" xlink:href="#E431-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3574" xlink:href="#E431-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4913" xlink:href="#E431-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5357,0)"><use x="0" xlink:href="#E431-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E431-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E431-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6521" xlink:href="#E431-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-430" type="math/tex">\{\mathbf{\vec d}_1,\mathbf{\vec d}_2,\cdots,\mathbf{\vec d}_n\}</script>。

2. 令梯度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-431-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 5205.8 1109.7" width="12.091ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E432-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E432-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E432-MJMAIN-3D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E432-MJMAIN-2207" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E432-MJMAINB-78" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E432-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E432-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E432-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E432-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E432-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="852" xlink:href="#E432-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1908,0)"><use x="0" xlink:href="#E432-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E432-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E432-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g></g><use x="3270" xlink:href="#E432-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3820" xlink:href="#E432-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4209,0)"><use x="0" xlink:href="#E432-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E432-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="4816" xlink:href="#E432-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-431" type="math/tex">\mathbf{\vec g}=\nabla_{\mathbf{\vec x}}f(\mathbf{\vec x})</script>，由于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-432-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.978ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1258.5 9724.2 1712.8" width="22.585ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E433-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E433-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E433-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E433-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E433-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E433-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E433-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E433-MJMAIN-32" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E433-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E433-MJMAINB-51" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E433-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E433-MJMAINB-62" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E433-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E433-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E433-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E433-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1546" xlink:href="#E433-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2212" xlink:href="#E433-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2990,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="473" x="0" y="220"></rect><use transform="scale(0.707)" x="84" xlink:href="#E433-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E433-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-531"></use></g></g><g transform="translate(3982,0)"><use x="0" xlink:href="#E433-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E433-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E433-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use></g><use x="5186" xlink:href="#E433-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6050,0)"><use x="0" xlink:href="#E433-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E433-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="6880" xlink:href="#E433-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7880,0)"><use x="0" xlink:href="#E433-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E433-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E433-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(9117,0)"><use x="0" xlink:href="#E433-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E433-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g></g></svg></span><script id="MathJax-Element-432" type="math/tex">f(\mathbf{\vec x})=\frac 12\mathbf{\vec x}^T\mathbf Q\mathbf{\vec x}-\mathbf{\vec b}^T\mathbf{\vec x}</script>，则有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1880-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 38699.6 2919" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2047-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2047-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2047-MJMAIN-3D" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2047-MJMAINB-51" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2047-MJMATHI-54" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2047-MJMAIN-2B" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2047-MJMAIN-32" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2047-MJMAINB-78" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2047-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2047-MJMAINB-62" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(15207,0)"><use x="0" xlink:href="#E2047-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2047-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="852" xlink:href="#E2047-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1630,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3668" x="0" y="220"></rect><g transform="translate(60,676)"><use x="0" xlink:href="#E2047-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1221" xlink:href="#E2047-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="598"></use><use x="1684" xlink:href="#E2047-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2684" xlink:href="#E2047-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1584" xlink:href="#E2047-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(5816,0)"><use x="0" xlink:href="#E2047-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2047-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="6646" xlink:href="#E2047-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7646,0)"><use x="0" xlink:href="#E2047-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2047-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></g></g></svg></span></span><script id="MathJax-Element-1880" type="math/tex; mode=display">\mathbf{\vec g}=\frac {\mathbf Q^T+\mathbf Q}{2}\mathbf{\vec x}-\mathbf{\vec b}\\</script>
假设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>为对称的正定矩阵，则有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-434-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -956.9 3659.4 1210.2" width="8.499ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E435-MJMAINB-51" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E435-MJMAIN-3D" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E435-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E435-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1141" xlink:href="#E435-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2197,0)"><use x="0" xlink:href="#E435-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1221" xlink:href="#E435-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="598"></use></g></g></svg></span><script id="MathJax-Element-434" type="math/tex">\mathbf Q=\mathbf Q^T</script>。因此有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-435-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 5241 1310.7" width="12.173ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E436-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E436-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E436-MJMAIN-3D" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E436-MJMAINB-51" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E436-MJMAINB-78" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E436-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E436-MJMAINB-62" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E436-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E436-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="852" xlink:href="#E436-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1908" xlink:href="#E436-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2772,0)"><use x="0" xlink:href="#E436-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E436-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3601" xlink:href="#E436-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4602,0)"><use x="0" xlink:href="#E436-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E436-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></g></svg></span><script id="MathJax-Element-435" type="math/tex">\mathbf{\vec g}=\mathbf Q\mathbf{\vec x}-\mathbf{\vec b}</script>。

3. 任取一个初始点<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-441-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -806.1 1060.6 1009.2" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E442-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E442-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E442-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E442-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E442-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E442-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-441" type="math/tex">\mathbf{\vec x}_1</script>。

    * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-437-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1007.2 5584.3 1310.7" width="12.97ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E438-MJMAIN-2207" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E438-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E438-MJMAINB-20D7" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E438-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E438-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E438-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E438-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E438-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E438-MJMAIN-30" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E438-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E438-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E438-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E438-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g><use x="1362" xlink:href="#E438-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1912" xlink:href="#E438-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2301,0)"><use x="0" xlink:href="#E438-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E438-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E438-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3361" xlink:href="#E438-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4028" xlink:href="#E438-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5084,0)"><use x="0" xlink:href="#E438-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="485" xlink:href="#E438-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="225"></use></g></g></svg></span><script id="MathJax-Element-437" type="math/tex">\nabla_{\mathbf{\vec x}}f(\mathbf{\vec x}_1)=\vec 0</script>，则停止计算。因为此时<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-441-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -806.1 1060.6 1009.2" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E442-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E442-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E442-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E442-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E442-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E442-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-441" type="math/tex">\mathbf{\vec x}_1</script>就是极值点。

    * 否则，令<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-439-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 9317 1361" width="21.64ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E440-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E440-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E440-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E440-MJMAIN-3D" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E440-MJMAINB-67" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E440-MJMAIN-2212" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E440-MJMAIN-2207" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E440-MJMAINB-78" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E440-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E440-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E440-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E440-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E440-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E440-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1370" xlink:href="#E440-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2426,0)"><use x="0" xlink:href="#E440-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E440-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E440-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="3732" xlink:href="#E440-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4788" xlink:href="#E440-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5566,0)"><use x="0" xlink:href="#E440-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E440-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E440-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g></g><use x="6928" xlink:href="#E440-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7478" xlink:href="#E440-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7867,0)"><use x="0" xlink:href="#E440-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E440-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E440-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8927" xlink:href="#E440-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-439" type="math/tex">\mathbf{\vec d}_1=\mathbf {\vec g}_1=-\nabla_{\mathbf{\vec x}}f(\mathbf{\vec x}_1)</script>，即：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-448-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -1057.4 1092.6 1260.5" width="2.538ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E449-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E449-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E449-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E449-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E449-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E449-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-448" type="math/tex">\mathbf{\vec d}_1</script>沿着点<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-441-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -806.1 1060.6 1009.2" width="2.463ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E442-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E442-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E442-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E442-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E442-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E442-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-441" type="math/tex">\mathbf{\vec x}_1</script>的梯度方向。

    沿着<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-448-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -1057.4 1092.6 1260.5" width="2.538ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E449-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E449-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E449-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E449-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E449-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E449-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-448" type="math/tex">\mathbf{\vec d}_1</script>方向搜索：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-443-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -1057.4 6352.7 1260.5" width="14.755ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E444-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E444-MJMAINB-20D7" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E444-MJMAIN-32" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E444-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E444-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E444-MJMAIN-2B" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E444-MJMATHI-3BB" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E444-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E444-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E444-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E444-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1338" xlink:href="#E444-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2394,0)"><use x="0" xlink:href="#E444-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E444-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E444-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3676" xlink:href="#E444-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4677" xlink:href="#E444-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5260,0)"><use x="0" xlink:href="#E444-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E444-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E444-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-443" type="math/tex">\mathbf{\vec x}_2=\mathbf{\vec x}_1+\lambda \mathbf{\vec d}_1</script>，使得沿着这个方向，目标函数下降最多。
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1881-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.846ex" role="img" style="vertical-align: -2.339ex;" viewbox="0 -1509.8 32500 2517" width="75.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2048-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E2048-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E2048-MJMAIN-6E" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2048-MJMATHI-3BB" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2048-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2048-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2048-MJMAIN-32" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2048-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2048-MJMAINB-20D7" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2048-MJMAIN-2B" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2048-MJMAINB-64" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2048-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2048-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2048-MJMAINB-51" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2048-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2048-MJMAINB-62" stroke-width="0"></path><path d="M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z" id="E2048-MJSZ3-28" stroke-width="0"></path><path d="M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z" id="E2048-MJSZ3-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E2048-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E2048-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E2048-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="887" xlink:href="#E2048-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="-930"></use><g transform="translate(1833,0)"><use xlink:href="#E2048-MJSZ3-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(736,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2048-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><use x="1596" xlink:href="#E2048-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1985,0)"><use x="0" xlink:href="#E2048-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3267" xlink:href="#E2048-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4267" xlink:href="#E2048-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4850,0)"><use x="0" xlink:href="#E2048-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(5943,0)"><use x="0" xlink:href="#E2048-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2048-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="6930" xlink:href="#E2048-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7794" xlink:href="#E2048-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8183,0)"><use x="0" xlink:href="#E2048-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9466" xlink:href="#E2048-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10466" xlink:href="#E2048-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11049,0)"><use x="0" xlink:href="#E2048-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12141" xlink:href="#E2048-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12753" xlink:href="#E2048-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13753,0)"><use x="0" xlink:href="#E2048-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2048-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><use x="14990" xlink:href="#E2048-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15379,0)"><use x="0" xlink:href="#E2048-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="16661" xlink:href="#E2048-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17662" xlink:href="#E2048-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(18245,0)"><use x="0" xlink:href="#E2048-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="19337" xlink:href="#E2048-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19726" xlink:href="#E2048-MJSZ3-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g><use x="22518" xlink:href="#E2048-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(23518,0)"><use xlink:href="#E2048-MJSZ3-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(736,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2048-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(1596,0)"><use x="0" xlink:href="#E2048-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="2800" xlink:href="#E2048-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3664,0)"><use x="0" xlink:href="#E2048-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4947" xlink:href="#E2048-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5947,0)"><use x="0" xlink:href="#E2048-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2048-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(7184,0)"><use x="0" xlink:href="#E2048-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2048-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2048-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8245" xlink:href="#E2048-MJSZ3-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g></g></svg></span></span><script id="MathJax-Element-1881" type="math/tex; mode=display">\min_{\lambda}\left(\frac 12(\mathbf{\vec x}_1+\lambda \mathbf{\vec d}_1)^T\mathbf Q(\mathbf{\vec x}_1+\lambda \mathbf{\vec d}_1)-\mathbf{\vec b}^T(\mathbf{\vec x}_1+\lambda \mathbf{\vec d}_1)\right)-\left(\frac 12\mathbf{\vec x}_1^T\mathbf Q\mathbf{\vec x}_1-\mathbf{\vec b}^T\mathbf{\vec x}_1\right)</script>
    解得：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1882-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.947ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1962.1 9767.7 3421.6" width="22.686ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2049-MJMATHI-3BB" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2049-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2049-MJMAIN-2212" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2049-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2049-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2049-MJMATHI-54" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2049-MJMAIN-31" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2049-MJMAINB-51" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2049-MJMAINB-64" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E2049-MJMAINB-62" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2049-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="860" xlink:href="#E2049-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1916" xlink:href="#E2049-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2694,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="6833" x="0" y="220"></rect><g transform="translate(60,712)"><use x="0" xlink:href="#E2049-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2049-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2049-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use><use transform="scale(0.707)" x="858" xlink:href="#E2049-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1204" xlink:href="#E2049-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2068,0)"><use x="0" xlink:href="#E2049-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2049-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2049-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3383" xlink:href="#E2049-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4383,0)"><use x="0" xlink:href="#E2049-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2049-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2049-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g><g transform="translate(5620,0)"><use x="0" xlink:href="#E2049-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2049-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2049-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(1819,-1151)"><use x="0" xlink:href="#E2049-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2049-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2049-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2049-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2049-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2049-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2049-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2049-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1882" type="math/tex; mode=display">\lambda=-\frac{\mathbf{\vec x}_1^T\mathbf Q\mathbf{\vec d}_1-\mathbf{\vec b}^T\mathbf{\vec d}_1}{\mathbf{\vec d}_1^T\mathbf Q\mathbf{\vec d}_1}</script>
    由于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-444-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1258.5 7034.4 1511.8" width="16.338ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E445-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E445-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E445-MJMATHI-54" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E445-MJMAIN-3D" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E445-MJMAINB-78" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E445-MJMAINB-51" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E445-MJMAIN-2212" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E445-MJMAINB-62" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E445-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E445-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E445-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><use x="1450" xlink:href="#E445-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2506,0)"><use x="0" xlink:href="#E445-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E445-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E445-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="645"></use></g><use x="3711" xlink:href="#E445-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4797" xlink:href="#E445-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5797,0)"><use x="0" xlink:href="#E445-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E445-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E445-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use></g></g></svg></span><script id="MathJax-Element-444" type="math/tex">\mathbf{\vec g}^T=\mathbf{\vec x}^T\mathbf Q-\mathbf{\vec b}^T</script>，因此有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1883-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.48ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1761.1 6247.9 3220.6" width="14.511ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2050-MJMATHI-3BB" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2050-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2050-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2050-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2050-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2050-MJMATHI-54" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2050-MJMAIN-31" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2050-MJMAINB-64" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2050-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2050-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="860" xlink:href="#E2050-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1916" xlink:href="#E2050-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2694,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3313" x="0" y="220"></rect><g transform="translate(524,712)"><use x="0" xlink:href="#E2050-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2050-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2050-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><use transform="scale(0.707)" x="813" xlink:href="#E2050-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><g transform="translate(1172,0)"><use x="0" xlink:href="#E2050-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2050-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2050-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(60,-1151)"><use x="0" xlink:href="#E2050-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2050-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2050-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2050-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2050-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2050-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2050-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2050-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1883" type="math/tex; mode=display">\lambda=- \frac{ \mathbf{\vec g}_1 ^T\mathbf{\vec d}_1}{\mathbf{\vec d}_1^T\mathbf Q\mathbf{\vec d}_1}</script>

4. 选择第二个迭代点：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1884-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.48ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1761.1 14615.1 3220.6" width="33.945ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2051-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2051-MJMAINB-20D7" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2051-MJMAIN-32" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2051-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2051-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2051-MJMAIN-2B" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2051-MJMATHI-3BB" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2051-MJMAINB-64" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2051-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2051-MJMAINB-67" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2051-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2051-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2051-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2051-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1338" xlink:href="#E2051-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2394,0)"><use x="0" xlink:href="#E2051-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3676" xlink:href="#E2051-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4677" xlink:href="#E2051-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5260,0)"><use x="0" xlink:href="#E2051-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="6630" xlink:href="#E2051-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7686,0)"><use x="0" xlink:href="#E2051-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8968" xlink:href="#E2051-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9746,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="3313" x="0" y="220"></rect><g transform="translate(524,712)"><use x="0" xlink:href="#E2051-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2051-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><use transform="scale(0.707)" x="813" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><g transform="translate(1172,0)"><use x="0" xlink:href="#E2051-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(60,-1151)"><use x="0" xlink:href="#E2051-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2051-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2051-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2051-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><g transform="translate(13522,0)"><use x="0" xlink:href="#E2051-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2051-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2051-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1884" type="math/tex; mode=display">\mathbf{\vec x}_2=\mathbf{\vec x}_1+\lambda \mathbf{\vec d}_1=\mathbf{\vec x}_1- \frac{ \mathbf{\vec g}_1 ^T\mathbf{\vec d}_1}{\mathbf{\vec d}_1^T\mathbf Q\mathbf{\vec d}_1}\mathbf{\vec d}_1</script>
注意：这里有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-445-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 3454.7 1361" width="8.024ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E446-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E446-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E446-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E446-MJMAIN-3D" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E446-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E446-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E446-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E446-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use><use x="1306" xlink:href="#E446-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2362,0)"><use x="0" xlink:href="#E446-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E446-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E446-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-445" type="math/tex">\mathbf{\vec g}_1=\mathbf{\vec d}_1</script>，但是不保证后面的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-446-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 3235.5 1361" width="7.515ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E447-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E447-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E447-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E447-MJMAIN-3D" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E447-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E447-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E447-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E447-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use><use x="1196" xlink:href="#E447-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2252,0)"><use x="0" xlink:href="#E447-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E447-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E447-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-446" type="math/tex">\mathbf{\vec g}_i=\mathbf{\vec d}_i</script>。

构建下一个搜索方向，使得<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-447-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -1057.4 1092.6 1260.5" width="2.538ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E448-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E448-MJMAINB-20D7" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E448-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E448-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E448-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E448-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-447" type="math/tex">\mathbf{\vec d}_2</script>与<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-448-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -1057.4 1092.6 1260.5" width="2.538ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E449-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E449-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E449-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E449-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E449-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E449-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-448" type="math/tex">\mathbf{\vec d}_1</script>关于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>共轭。

令：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-450-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 7567.2 1361" width="17.576ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E451-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E451-MJMAINB-20D7" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E451-MJMAIN-32" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E451-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E451-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E451-MJMAINB-67" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E451-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E451-MJMATHI-3B2" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E451-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E451-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E451-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E451-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1370" xlink:href="#E451-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2426" xlink:href="#E451-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3204,0)"><use x="0" xlink:href="#E451-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E451-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E451-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="4454" xlink:href="#E451-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5455,0)"><use x="0" xlink:href="#E451-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E451-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(6474,0)"><use x="0" xlink:href="#E451-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E451-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E451-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-450" type="math/tex">\mathbf {\vec d}_2=-\mathbf{\vec g}_2+\beta_1\mathbf{\vec d}_1</script>，代入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-451-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1258.5 5026.9 1562" width="11.675ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E452-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E452-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E452-MJMATHI-54" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E452-MJMAIN-31" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E452-MJMAINB-51" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E452-MJMAIN-32" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E452-MJMAIN-3D" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E452-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E452-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E452-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E452-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E452-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E452-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E452-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E452-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E452-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3471" xlink:href="#E452-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4526" xlink:href="#E452-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-451" type="math/tex">\mathbf{\vec d}_1^T\mathbf Q\mathbf{\vec d}_2=0</script>，有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1885-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.947ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1962.1 17694 3421.6" width="41.096ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2052-MJMATHI-3B2" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2052-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2052-MJMAIN-3D" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2052-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2052-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2052-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2052-MJMAINB-51" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2052-MJMAINB-67" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2052-MJMAIN-32" stroke-width="0"></path><path d="M41 425Q41 426 51 545T62 669V675H737V669Q738 665 748 546T758 425V419H696V425Q687 517 669 555T595 607Q578 612 522 613H478V62H631V0H615Q585 3 399 3Q214 3 184 0H168V62H321V613H277H263Q164 613 134 561Q113 527 103 425V419H41V425Z" id="E2052-MJMAINB-54" stroke-width="0"></path><path d="M481 0L294 3Q136 3 109 0H96V62H227V304Q227 546 225 546Q169 529 97 529H80V591H97Q231 591 308 647L319 655H333Q355 655 359 644Q361 640 361 351V62H494V0H481Z" id="E2052-MJMAINB-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2052-MJMAIN-2C" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2052-MJMAIN-2212" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2052-MJMAIN-2B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2052-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2052-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1297" xlink:href="#E2052-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2075,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3434" x="0" y="220"></rect><g transform="translate(152,712)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2052-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2052-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2052-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g><g transform="translate(60,-1150)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAINB-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAINB-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1304" xlink:href="#E2052-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2168,0)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAINB-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="6027" xlink:href="#E2052-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7472,0)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8842" xlink:href="#E2052-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9898" xlink:href="#E2052-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10676,0)"><use x="0" xlink:href="#E2052-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2052-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="11926" xlink:href="#E2052-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12704,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="3434" x="0" y="220"></rect><g transform="translate(152,712)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2052-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2052-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2052-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g><g transform="translate(60,-1150)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAINB-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAINB-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1304" xlink:href="#E2052-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2168,0)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAINB-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><g transform="translate(16601,0)"><use x="0" xlink:href="#E2052-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2052-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2052-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1885" type="math/tex; mode=display">\beta_1=\frac{\mathbf{\vec d}_1^T\mathbf Q\mathbf{\vec g}_2}{\mathbf{\vec d_1^T\mathbf Q\mathbf{\vec d}_1}},\quad \mathbf {\vec d}_2=-\mathbf{\vec g}_2+\frac{\mathbf{\vec d}_1^T\mathbf Q\mathbf{\vec g}_2}{\mathbf{\vec d_1^T\mathbf Q\mathbf{\vec d}_1}}\mathbf{\vec d}_1</script>
5. 同理：得到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-452-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1979.1 1109.7" width="4.597ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E453-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E453-MJMAINB-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E453-MJMATHI-6B" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E453-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E453-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E453-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E453-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><g transform="translate(607,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E453-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E453-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E453-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-452" type="math/tex">\mathbf{\vec x}_{k+1}</script>时，计算梯度<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-453-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -806.1 1947.1 1160" width="4.522ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E454-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E454-MJMAINB-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E454-MJMATHI-6B" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E454-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E454-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E454-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E454-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E454-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E454-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E454-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-453" type="math/tex">\mathbf{\vec g}_{k+1}</script>，同时用<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-454-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -806.1 2725.1 1160" width="6.329ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E455-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E455-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E455-MJMAINB-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E455-MJMATHI-6B" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E455-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E455-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E455-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,0)"><use x="0" xlink:href="#E455-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E455-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E455-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E455-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E455-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-454" type="math/tex">-\mathbf{\vec g}_{k+1}</script>和<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-455-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1107.4 1310.7" width="2.572ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E456-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E456-MJMAINB-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E456-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E456-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E456-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E456-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-455" type="math/tex">\mathbf{\vec d}_k</script>来构建下一个搜索方向：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1886-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 16824.1 1612.3" width="39.075ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2053-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2053-MJMAINB-20D7" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2053-MJMATHI-6B" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2053-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2053-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2053-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2053-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2053-MJMAINB-67" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2053-MJMATHI-3B2" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2053-MJMAIN-2C" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2053-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2053-MJMAINB-51" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2053-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2053-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2053-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2053-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2053-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2053-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2288" xlink:href="#E2053-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3344" xlink:href="#E2053-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4122,0)"><use x="0" xlink:href="#E2053-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2053-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2053-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2053-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2053-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="6291" xlink:href="#E2053-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7292,0)"><use x="0" xlink:href="#E2053-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2053-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(8326,0)"><use x="0" xlink:href="#E2053-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2053-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2053-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9433" xlink:href="#E2053-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10878,0)"><use x="0" xlink:href="#E2053-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2053-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2053-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2053-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="12115" xlink:href="#E2053-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12979,0)"><use x="0" xlink:href="#E2053-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2053-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2053-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2053-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2053-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="15268" xlink:href="#E2053-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16324" xlink:href="#E2053-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1886" type="math/tex; mode=display">\mathbf {\vec d}_{k+1}=-\mathbf{\vec g}_{k+1}+\beta_k\mathbf{\vec d}_k,\quad \mathbf{\vec d}_k^T\mathbf Q\mathbf{\vec d}_{k+1}=0</script>
得到：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1887-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="8.064ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -2012.4 21028 3471.9" width="48.839ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2054-MJMATHI-3B2" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2054-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2054-MJMAIN-3D" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2054-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2054-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2054-MJMATHI-54" stroke-width="0"></path><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E2054-MJMAINB-51" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2054-MJMAINB-67" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2054-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2054-MJMAIN-31" stroke-width="0"></path><path d="M41 425Q41 426 51 545T62 669V675H737V669Q738 665 748 546T758 425V419H696V425Q687 517 669 555T595 607Q578 612 522 613H478V62H631V0H615Q585 3 399 3Q214 3 184 0H168V62H321V613H277H263Q164 613 134 561Q113 527 103 425V419H41V425Z" id="E2054-MJMAINB-54" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" id="E2054-MJMAINB-6B" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2054-MJMAIN-2C" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2054-MJMAIN-2212" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2054-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1312" xlink:href="#E2054-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2090,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="4167" x="0" y="220"></rect><g transform="translate(60,759)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2054-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2054-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2054-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2054-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(415,-1150)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMAINB-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMAINB-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1304" xlink:href="#E2054-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2168,0)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMAINB-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="6775" xlink:href="#E2054-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8220,0)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2054-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2054-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="10509" xlink:href="#E2054-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11565" xlink:href="#E2054-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12343,0)"><use x="0" xlink:href="#E2054-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2054-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2054-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="14512" xlink:href="#E2054-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15290,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="4167" x="0" y="220"></rect><g transform="translate(60,759)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1236" xlink:href="#E2054-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2100,0)"><use x="0" xlink:href="#E2054-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2054-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2054-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(415,-1150)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMAINB-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="998"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMAINB-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="1304" xlink:href="#E2054-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2168,0)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMAINB-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><g transform="translate(19920,0)"><use x="0" xlink:href="#E2054-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2054-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2054-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1887" type="math/tex; mode=display">\beta_k=\frac{\mathbf{\vec d}_k^T\mathbf Q\mathbf{\vec g}_{k+1}}{\mathbf{\vec d_k^T\mathbf Q\mathbf{\vec d}_k}},\quad \mathbf {\vec d}_{k+1}=-\mathbf{\vec g}_{k+1}+\frac{\mathbf{\vec d}_k^T\mathbf Q\mathbf{\vec g}_{k+1}}{\mathbf{\vec d_k^T\mathbf Q\mathbf{\vec d}_k}}\mathbf{\vec d}_k</script>
.


#### 7.2.3 共轭梯度算法

1. 共轭梯度法的搜索方向<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-476-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 994.3 1310.7" width="2.309ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E477-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E477-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E477-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E477-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E477-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E477-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-476" type="math/tex">\mathbf{\vec d}_t</script>会保持前一次线性搜索方向上<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-457-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1897.9 1310.7" width="4.408ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E458-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E458-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E458-MJMATHI-74" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E458-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E458-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E458-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E458-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E458-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E458-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E458-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-457" type="math/tex">\mathbf{\vec d}_{t-1}</script>取得的进展：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1888-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 10462.1 1511.8" width="24.299ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2055-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2055-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2055-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2055-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2055-MJMAIN-2212" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2055-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2055-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2055-MJMAIN-20D7" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E2055-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2055-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2055-MJMAIN-29" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2055-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2055-MJMATHI-3B2" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2055-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2055-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2055-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2055-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1272" xlink:href="#E2055-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2327" xlink:href="#E2055-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3105,0)"><use x="0" xlink:href="#E2055-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2055-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2055-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><use x="4455" xlink:href="#E2055-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5088" xlink:href="#E2055-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5477,0)"><use x="1" xlink:href="#E2055-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2055-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="6031" xlink:href="#E2055-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6642" xlink:href="#E2055-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7642,0)"><use x="0" xlink:href="#E2055-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2055-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(8564,0)"><use x="0" xlink:href="#E2055-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2055-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2055-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2055-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2055-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span></span><script id="MathJax-Element-1888" type="math/tex; mode=display">\mathbf{\vec d}_t=-\nabla_{\vec\theta} J(\vec\theta)+\beta_t\mathbf{\vec d}_{t-1}</script>
其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>的大小控制了：要保留多大比例的上一次搜索方向。

2. 在实际应用中，目标函数往往是高于二次的函数。此时为非线性共轭梯度，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>就是海森矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-460-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E461-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E461-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-460" type="math/tex">\mathbf H</script>。

直接计算<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>也需要计算海森矩阵的逆矩阵，比较复杂。有两个计算<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>的流行方法（不需要计算海森矩阵的逆矩阵）：

> > 

> 这里不再保证<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-476-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 994.3 1310.7" width="2.309ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E477-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E477-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E477-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E477-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E477-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E477-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-476" type="math/tex">\mathbf{\vec d}_t</script>和<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-477-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1897.9 1310.7" width="4.408ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E478-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E478-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E478-MJMATHI-74" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E478-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E478-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E478-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E478-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E478-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E478-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E478-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-477" type="math/tex">\mathbf{\vec d}_{t-1}</script>关于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>是共轭的。



    * `Fletcher-Reeves`：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1889-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.013ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1761.1 6282.7 3019.6" width="14.592ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2056-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2056-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2056-MJMAIN-3D" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2056-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2056-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2056-MJMATHI-54" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2056-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2056-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2056-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2056-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1199" xlink:href="#E2056-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1977,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3787" x="0" y="220"></rect><g transform="translate(842,720)"><use x="0" xlink:href="#E2056-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2056-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2056-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><use transform="scale(0.707)" x="813" xlink:href="#E2056-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><g transform="translate(1172,0)"><use x="0" xlink:href="#E2056-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2056-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2056-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g><g transform="translate(60,-912)"><use x="0" xlink:href="#E2056-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2056-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2056-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><g transform="translate(575,-248)"><use transform="scale(0.707)" x="0" xlink:href="#E2056-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2056-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2056-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1833,0)"><use x="0" xlink:href="#E2056-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2056-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2056-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2056-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2056-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1889" type="math/tex; mode=display">\beta_t=\frac{\mathbf{\vec g}_t^{T}\mathbf{\vec g}_t}{\mathbf{\vec g}_{t-1}^T\mathbf{\vec g}_{t-1}}</script>
    * `Polak_Ribiere`：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1890-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.663ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1610.3 8907.5 2868.8" width="20.689ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2057-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2057-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2057-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2057-MJMAIN-28" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2057-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2057-MJMAINB-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2057-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2057-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2057-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2057-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2057-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2057-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1199" xlink:href="#E2057-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1977,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="6412" x="0" y="220"></rect><g transform="translate(60,715)"><use x="0" xlink:href="#E2057-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E2057-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2057-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2057-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="1541" xlink:href="#E2057-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2541,0)"><use x="0" xlink:href="#E2057-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2057-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2057-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2057-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2057-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(4375,0)"><use x="0" xlink:href="#E2057-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2057-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(5362,0)"><use x="0" xlink:href="#E2057-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2057-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2057-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g><g transform="translate(1372,-912)"><use x="0" xlink:href="#E2057-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2057-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2057-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><g transform="translate(575,-248)"><use transform="scale(0.707)" x="0" xlink:href="#E2057-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2057-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2057-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1833,0)"><use x="0" xlink:href="#E2057-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2057-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2057-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2057-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2057-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1890" type="math/tex; mode=display">\beta_t=\frac{(\mathbf{\vec g}_{t}-\mathbf{\vec g}_{t-1})^{T}\mathbf{\vec g}_{t}}{\mathbf{\vec g}_{t-1}^T\mathbf{\vec g}_{t-1}}</script>

3. 目标函数在高于二次的函数时，往往可能存在局部极值。此时共轭梯度法不能在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>维空间内依靠<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>步搜索到达极值点。

此时需要重启共轭梯度法，继续迭代，以完成搜索极值点的工作。

4. 共轭梯度法：

    * 输入：

        * 初始参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-468-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1007.9 1310.7" width="2.341ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E469-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E469-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E469-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E469-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E469-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E469-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-468" type="math/tex">\vec\theta_0</script>
        * 包含<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个样本的训练集

    * 算法步骤：

        * 初始化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1891-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="9.348ex" role="img" style="vertical-align: -6.892ex;" viewbox="0 -1057.4 35684 4024.7" width="82.879ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E2058-MJMAINB-64" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2058-MJMAIN-20D7" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E2058-MJMAIN-30" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2058-MJMAIN-3D" stroke-width="0"></path><path d="M266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548Z" id="E2058-MJMAINB-30" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2058-MJMAINB-20D7" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2058-MJMAINB-67" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2058-MJMATHI-74" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2058-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(16341,0)"><use x="0" xlink:href="#E2058-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E2058-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><use transform="scale(0.707)" x="903" xlink:href="#E2058-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1370" xlink:href="#E2058-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2426,0)"><use x="0" xlink:href="#E2058-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2058-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g><g transform="translate(16373,-1536)"><use x="0" xlink:href="#E2058-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2058-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2058-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use><use x="1306" xlink:href="#E2058-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2362,0)"><use x="0" xlink:href="#E2058-MJMAINB-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2058-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="216"></use></g></g><g transform="translate(16744,-2884)"><use x="0" xlink:href="#E2058-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="638" xlink:href="#E2058-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1694" xlink:href="#E2058-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1891" type="math/tex; mode=display">\vec{\mathbf d}_0=\mathbf{\vec 0}\\ \mathbf{\vec g}_0=\mathbf{\vec 0}\\ t=1</script>
        * 迭代，直到到达停止条件。迭代步骤为：

            * 计算梯度：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1892-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 12866 2919" width="29.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2059-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2059-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2059-MJMATHI-74" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E2059-MJMAIN-2190" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2059-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2059-MJMATHI-6D" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2059-MJMAIN-2207" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2059-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2059-MJMAIN-20D7" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2059-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2059-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2059-MJMAIN-3D" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2059-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2059-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2059-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2059-MJMAINB-78" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2059-MJMAIN-3B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2059-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2059-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2059-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2059-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2059-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2059-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use><use x="1208" xlink:href="#E2059-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2208,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2059-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2059-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3723,0)"><use x="0" xlink:href="#E2059-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="1" xlink:href="#E2059-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="588" xlink:href="#E2059-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g></g><g transform="translate(5239,0)"><use x="0" xlink:href="#E2059-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2059-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2059-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2059-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2059-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="6850" xlink:href="#E2059-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7531" xlink:href="#E2059-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7920" xlink:href="#E2059-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8470" xlink:href="#E2059-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8859,0)"><use x="0" xlink:href="#E2059-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2059-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2059-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9810" xlink:href="#E2059-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10255,0)"><use x="1" xlink:href="#E2059-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E2059-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="10809" xlink:href="#E2059-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11198" xlink:href="#E2059-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11643,0)"><use x="0" xlink:href="#E2059-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E2059-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12477" xlink:href="#E2059-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1892" type="math/tex; mode=display">\mathbf{\vec g}_t\leftarrow \frac 1m\nabla_{\vec\theta}\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta),y_i)</script>
            * 计算<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1893-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.663ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1610.3 8907.5 2868.8" width="20.689ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2060-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2060-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2060-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2060-MJMAIN-28" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2060-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2060-MJMAINB-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2060-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2060-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2060-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2060-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2060-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E2060-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1199" xlink:href="#E2060-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1977,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="6412" x="0" y="220"></rect><g transform="translate(60,715)"><use x="0" xlink:href="#E2060-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E2060-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2060-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2060-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="1541" xlink:href="#E2060-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2541,0)"><use x="0" xlink:href="#E2060-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2060-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2060-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2060-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2060-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(4375,0)"><use x="0" xlink:href="#E2060-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2060-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(5362,0)"><use x="0" xlink:href="#E2060-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2060-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2060-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g></g><g transform="translate(1372,-912)"><use x="0" xlink:href="#E2060-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2060-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2060-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use><g transform="translate(575,-248)"><use transform="scale(0.707)" x="0" xlink:href="#E2060-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2060-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2060-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1833,0)"><use x="0" xlink:href="#E2060-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2060-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><g transform="translate(575,-237)"><use transform="scale(0.707)" x="0" xlink:href="#E2060-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E2060-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E2060-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1893" type="math/tex; mode=display">\beta_t=\frac{(\mathbf{\vec g}_t-\mathbf{\vec g}_{t-1})^{T}\mathbf{\vec g}_t}{\mathbf{\vec g}_{t-1}^{T}\mathbf{\vec g}_{t-1}}</script>
            如果是非线性共轭梯度：则可以以一定的频率重置<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>为零（如每当<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-507-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -705.6 361 808.1" width="0.838ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E508-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E508-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-507" type="math/tex">t</script>为 5 的倍数时）。

            * 计算搜索方向：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-473-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 8077.7 1361" width="18.761ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E474-MJMAINB-64" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E474-MJMAIN-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E474-MJMATHI-74" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E474-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E474-MJMAIN-2212" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E474-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E474-MJMAINB-20D7" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E474-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E474-MJMATHI-3B2" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E474-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E474-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E474-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><use transform="scale(0.707)" x="903" xlink:href="#E474-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1272" xlink:href="#E474-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2327" xlink:href="#E474-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3105,0)"><use x="0" xlink:href="#E474-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E474-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E474-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-335"></use></g><use x="4258" xlink:href="#E474-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5258,0)"><use x="0" xlink:href="#E474-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E474-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(6179,0)"><use x="0" xlink:href="#E474-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E474-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E474-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E474-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E474-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-473" type="math/tex">\vec {\mathbf d}_t=-\mathbf{\vec g}_t+\beta_t\vec{\mathbf d}_{t-1}</script>

            * 执行线性搜索：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-474-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -1057.4 18583.8 1511.8" width="43.163ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E475-MJMATHI-3F5" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E475-MJMAIN-2217" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E475-MJMAIN-3D" stroke-width="0"></path><path d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" id="E475-MJMAIN-61" stroke-width="0"></path><path d="M36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36Z" id="E475-MJMAIN-72" stroke-width="0"></path><path d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" id="E475-MJMAIN-67" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E475-MJMAIN-6D" stroke-width="0"></path><path d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" id="E475-MJMAIN-69" stroke-width="0"></path><path d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" id="E475-MJMAIN-6E" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E475-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E475-MJMATHI-6D" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E475-MJSZ1-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E475-MJMATHI-69" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E475-MJMATHI-4C" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E475-MJMAIN-28" stroke-width="0"></path><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E475-MJMATHI-66" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E475-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E475-MJMAINB-20D7" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E475-MJMAIN-3B" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E475-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E475-MJMAIN-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E475-MJMATHI-74" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E475-MJMAIN-2B" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E475-MJMAINB-64" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E475-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E475-MJMAIN-2C" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E475-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E475-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E475-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use><use x="1137" xlink:href="#E475-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2193,0)"><use xlink:href="#E475-MJMAIN-61" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="500" xlink:href="#E475-MJMAIN-72" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="892" xlink:href="#E475-MJMAIN-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(3751,0)"><use xlink:href="#E475-MJMAIN-6D" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="833" xlink:href="#E475-MJMAIN-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1111" xlink:href="#E475-MJMAIN-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2357" xlink:href="#E475-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(5805,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="740" x="0" y="220"></rect><use transform="scale(0.707)" x="273" xlink:href="#E475-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E475-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><g transform="translate(7120,0)"><use x="0" xlink:href="#E475-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1493" xlink:href="#E475-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E475-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E475-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E475-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9590" xlink:href="#E475-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10271" xlink:href="#E475-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10660" xlink:href="#E475-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11210" xlink:href="#E475-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11599,0)"><use x="0" xlink:href="#E475-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E475-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E475-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12550" xlink:href="#E475-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12994,0)"><use x="1" xlink:href="#E475-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E475-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E475-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="14126" xlink:href="#E475-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15126" xlink:href="#E475-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15532,0)"><use x="0" xlink:href="#E475-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E475-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><use transform="scale(0.707)" x="903" xlink:href="#E475-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="16527" xlink:href="#E475-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16916" xlink:href="#E475-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17360,0)"><use x="0" xlink:href="#E475-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="692" xlink:href="#E475-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="18194" xlink:href="#E475-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-474" type="math/tex">\epsilon^{*}=\arg\min_{\epsilon}\frac 1m\sum_{i=1}^{m}L(f(\mathbf{\vec x}_i;\vec\theta_t+\epsilon\vec{\mathbf d}_t),y_i)</script>

            >             > 

            > 在前面推导过程中，并没有出现这一步。这是因为：在非线性共轭梯度下，以及修改的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>的情况下，不再满足<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-476-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 994.3 1310.7" width="2.309ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E477-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E477-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E477-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E477-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E477-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E477-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-476" type="math/tex">\mathbf{\vec d}_t</script>和<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-477-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 1897.9 1310.7" width="4.408ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E478-MJMAINB-64" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E478-MJMAINB-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E478-MJMATHI-74" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E478-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E478-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E478-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E478-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E478-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E478-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E478-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-477" type="math/tex">\mathbf{\vec d}_{t-1}</script>关于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-478-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 864 1009.2" width="2.007ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" id="E479-MJMAINB-51" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E479-MJMAINB-51" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-478" type="math/tex">\mathbf Q</script>是共轭的。

            > 

            > 对于真正的二次函数：存在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-479-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 859.6 858.4" width="1.996ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E480-MJMATHI-3F5" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E480-MJMAIN-2217" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E480-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E480-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></svg></span><script id="MathJax-Element-479" type="math/tex">\epsilon^{*}</script>的解析解，无需显式搜索。



                * 应用更新：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-480-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 7132.6 1361" width="16.566ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E481-MJMATHI-3B8" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E481-MJMAIN-20D7" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E481-MJMATHI-74" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E481-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E481-MJMAIN-31" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E481-MJMAIN-3D" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E481-MJMATHI-3F5" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E481-MJMAIN-2217" stroke-width="0"></path><path d="M351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350Z" id="E481-MJMAINB-64" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E481-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E481-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><g transform="translate(554,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E481-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="361" xlink:href="#E481-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1139" xlink:href="#E481-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2091" xlink:href="#E481-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3146,0)"><use x="1" xlink:href="#E481-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="554" xlink:href="#E481-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use><use transform="scale(0.707)" x="783" xlink:href="#E481-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4278" xlink:href="#E481-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5278,0)"><use x="0" xlink:href="#E481-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E481-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><g transform="translate(6138,0)"><use x="0" xlink:href="#E481-MJMAINB-64" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="555" xlink:href="#E481-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="253"></use><use transform="scale(0.707)" x="903" xlink:href="#E481-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-480" type="math/tex">\vec\theta_{t+1}=\vec\theta_t+ \epsilon^{*}\vec{\mathbf d}_t</script>
                * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-481-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -755.9 4000 908.7" width="9.29ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E482-MJMATHI-74" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E482-MJMAIN-2190" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E482-MJMAIN-2B" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E482-MJMAIN-31" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E482-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="638" xlink:href="#E482-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1916" xlink:href="#E482-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2499" xlink:href="#E482-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3500" xlink:href="#E482-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-481" type="math/tex">t\leftarrow t+1</script>





#### 7.2.4 共轭梯度算法性质

1. 神经网络的目标函数比二次函数复杂得多，但是共轭梯度法在这种情况下仍然适用。此时非线性共轭梯度算法会偶尔采取一些重置操作（重置<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-482-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 921.3 1059.4" width="2.14ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E483-MJMATHI-3B2" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E483-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E483-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="800" xlink:href="#E483-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-482" type="math/tex">\beta_t</script>为零）。

2. 尽管共轭梯度算法是批方法（需要所有的样本来计算梯度），目前也开发出了`mini-batch`版本。

3. 理论上，对于二次函数的目标函数，需要迭代<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>步，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>为参数的个数。每一步中都需要计算梯度。

在神经网络中，这样有两个问题：

    * 当参数的数量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>巨大时，迭代的量非常大，而且难以并行（后面的迭代依赖前面的迭代），计算量非常庞大。
    * 当样本的数量巨大时，每次迭代中的梯度计算的计算量非常庞大。


## 八、优化策略和元算法

1. 有些优化技术并不是真正的算法，而是一个模板：它可以产生特定的算法。

### 8.1 坐标下降

1. 最小化<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-486-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1935 1109.7" width="4.494ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E487-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E487-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E487-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E487-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E487-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E487-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E487-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E487-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E487-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1546" xlink:href="#E487-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-486" type="math/tex">f(\mathbf{\vec x})</script>可以采取如下的步骤：

    * 先相对于单一变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-487-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 916 757.9" width="2.127ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E488-MJMATHI-78" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E488-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E488-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="808" xlink:href="#E488-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-487" type="math/tex">x_i</script>最小化。
    * 然后相对于另一个变量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-488-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -504.6 963.3 858.4" width="2.237ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E489-MJMATHI-78" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E489-MJMATHI-6A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E489-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="808" xlink:href="#E489-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-488" type="math/tex">x_j</script>最小化。
    * ....
    * 如此反复循环所有的变量，可以保证到达（局部）极小值。

这种做法被称作坐标下降。

2. 还有一种块坐标下降：它对于全部变量的一个子集同时最小化。

3. 当优化问题中的不同变量能够清晰地划分为相对独立的组，或者优化一组变量明显比优化所有变量的效率更高时，坐标下降最有意义。

4. 当一个变量值很大程度影响另一个变量的最优值时，坐标下降不是个好办法。如：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1894-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -956.9 13687.7 1361" width="31.791ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2061-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2061-MJMAIN-28" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2061-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2061-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2061-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2061-MJMAIN-3D" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E2061-MJMATHI-78" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2061-MJMAIN-31" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2061-MJMAIN-2212" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2061-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2061-MJMAIN-2B" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E2061-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2061-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E2061-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E2061-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2061-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1546" xlink:href="#E2061-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2212" xlink:href="#E2061-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3268" xlink:href="#E2061-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3657,0)"><use x="0" xlink:href="#E2061-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="808" xlink:href="#E2061-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4905" xlink:href="#E2061-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5905,0)"><use x="0" xlink:href="#E2061-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="808" xlink:href="#E2061-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(6931,0)"><use x="0" xlink:href="#E2061-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2061-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="7995" xlink:href="#E2061-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8996" xlink:href="#E2061-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9636" xlink:href="#E2061-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10025,0)"><use x="0" xlink:href="#E2061-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="808" xlink:href="#E2061-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="808" xlink:href="#E2061-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="11272" xlink:href="#E2061-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12273,0)"><use x="0" xlink:href="#E2061-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="808" xlink:href="#E2061-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="808" xlink:href="#E2061-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="13298" xlink:href="#E2061-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1894" type="math/tex; mode=display">f(\mathbf{\vec x})=(x_1-x_2)^{2}+\alpha(x_1^{2}+x_2^{2})</script>
    * 第一项鼓励两个变量具有相近的值；第二项鼓励它们接近零。

    牛顿法可以一步解决该问题（它是一个正定二次问题），解为零。

    * 对于较小的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-489-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 640 607.1" width="1.486ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E490-MJMATHI-3B1" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E490-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-489" type="math/tex">\alpha</script>，此时函数值由第一项决定。

    此时采用坐标下降法非常缓慢，因为第一项不允许两个变量相差太大。


5. 坐标下降算法可以用于求解稀疏编码的代价函数最小化问题。

给定训练集<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-493-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 869 808.1" width="2.018ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E494-MJMAINB-58" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E494-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-493" type="math/tex">\mathbf X</script>，稀疏编码的目标是：寻求一个权重矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>（未知的） 和一个解码字典矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>（也是未知的）来重构训练集<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-493-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 869 808.1" width="2.018ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E494-MJMAINB-58" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E494-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-493" type="math/tex">\mathbf X</script>，其中要求字典矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>尽量稀疏 。

代价函数为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-495-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 19119 1461.5" width="44.406ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E496-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E496-MJMAIN-28" stroke-width="0"></path><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E496-MJMAINB-48" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E496-MJMAIN-2C" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E496-MJMAINB-57" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E496-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E496-MJMAIN-3D" stroke-width="0"></path><path d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" id="E496-MJSZ1-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E496-MJMATHI-69" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E496-MJMATHI-6A" stroke-width="0"></path><path d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z" id="E496-MJMAIN-7C" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E496-MJMAIN-2B" stroke-width="0"></path><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E496-MJMAINB-58" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E496-MJMAIN-2212" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E496-MJMATHI-54" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E496-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E496-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="633" xlink:href="#E496-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1022" xlink:href="#E496-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1922" xlink:href="#E496-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2366" xlink:href="#E496-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3555" xlink:href="#E496-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4222" xlink:href="#E496-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5278,0)"><use x="0" xlink:href="#E496-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E496-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E496-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E496-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="7332" xlink:href="#E496-MJMAIN-7C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7610,0)"><use x="0" xlink:href="#E496-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(900,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E496-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E496-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E496-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9342" xlink:href="#E496-MJMAIN-7C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9842" xlink:href="#E496-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10843,0)"><use x="0" xlink:href="#E496-MJSZ1-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1056,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E496-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E496-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E496-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="12730" xlink:href="#E496-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13119" xlink:href="#E496-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14211" xlink:href="#E496-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15211,0)"><use x="0" xlink:href="#E496-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1681" xlink:href="#E496-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="584"></use></g><use x="16998" xlink:href="#E496-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17898,0)"><use x="0" xlink:href="#E496-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E496-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><g transform="translate(389,-303)"><use transform="scale(0.707)" x="0" xlink:href="#E496-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E496-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E496-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-495" type="math/tex">J(\mathbf H,\mathbf W)=\sum_{i,j}|\mathbf H_{i,j}|+\sum_{i,j}(\mathbf X-\mathbf W^{T}\mathbf H)_{i,j}^{2}</script>。

虽然代价函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>不是凸的，但是可以将输入分成两个集合：权重<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>和字典<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>。<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>关于权重<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>是凸的，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-501-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 633 858.4" width="1.47ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E502-MJMATHI-4A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E502-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-501" type="math/tex">J</script>关于字典<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>也是凸的。

因此可以使用块坐标下降（其中可以使用高效的凸优化算法）：交替执行：固定<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>优化<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>，以及固定<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-505-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 1189 858.4" width="2.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E506-MJMAINB-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E506-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-505" type="math/tex">\mathbf W</script>优化<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-506-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 900 808.1" width="2.09ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" id="E507-MJMAINB-48" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E507-MJMAINB-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-506" type="math/tex">\mathbf H</script>。


### 8.2 Polyak 平均

1. `Polyak` 平均的基本思想是：优化算法可能因为震荡，反复穿越极值点而没有落在极值点。因此可以考虑路径的均值来平滑输出。

2. 假设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-507-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -705.6 361 808.1" width="0.838ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E508-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E508-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-507" type="math/tex">t</script>次迭代，梯度下降的参数迭代路径为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-508-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -956.9 6992.4 1210.2" width="16.241ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E509-MJMATHI-3B8" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E509-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E509-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E509-MJMAIN-29" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E509-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E509-MJMAIN-22EF" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E509-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E509-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(469,362)"><use transform="scale(0.707)" x="0" xlink:href="#E509-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E509-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E509-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1472" xlink:href="#E509-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1917,0)"><use x="0" xlink:href="#E509-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(469,362)"><use transform="scale(0.707)" x="0" xlink:href="#E509-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E509-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E509-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="3390" xlink:href="#E509-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3834" xlink:href="#E509-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5173" xlink:href="#E509-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5618,0)"><use x="0" xlink:href="#E509-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(469,362)"><use transform="scale(0.707)" x="0" xlink:href="#E509-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E509-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="749" xlink:href="#E509-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-508" type="math/tex">\theta^{(1)},\theta^{(1)},\cdots,\theta^{(t)}</script>，则`Polyak`平均算法的输出为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1895-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.196ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1409.3 6822.7 2667.7" width="15.846ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E2062-MJMATHI-3B8" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2062-MJMAIN-5E" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2062-MJMAIN-28" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E2062-MJMATHI-74" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2062-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2062-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2062-MJMAIN-31" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2062-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2062-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="15" xlink:href="#E2062-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="83" xlink:href="#E2062-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="249"></use><g transform="translate(583,670)"><use transform="scale(0.707)" x="0" xlink:href="#E2062-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E2062-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="749" xlink:href="#E2062-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1766" xlink:href="#E2062-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2544,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2062-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="129" xlink:href="#E2062-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3848,0)"><use x="0" xlink:href="#E2062-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E2062-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1534"></use></g><g transform="translate(5459,0)"><use x="0" xlink:href="#E2062-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(469,412)"><use transform="scale(0.707)" x="0" xlink:href="#E2062-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E2062-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="733" xlink:href="#E2062-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span></span><script id="MathJax-Element-1895" type="math/tex; mode=display">\hat \theta^{(t)}=\frac 1t\sum_{i}\theta^{(i)}</script>
    * 对于凸问题，该方法具有较强的收敛保证。
    * 对于神经网络，这是一种启发式方法，实践中表现良好。

3. 在非凸问题中，优化轨迹的路径可能非常复杂。因此当`Polyak`应用于非凸问题时，通常会使用指数衰减来计算平均值：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-509-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1258.5 11591.9 1562" width="26.923ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E510-MJMATHI-3B8" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E510-MJMAIN-5E" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E510-MJMAIN-28" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E510-MJMATHI-74" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E510-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E510-MJMAIN-3D" stroke-width="0"></path><path d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" id="E510-MJMATHI-3B1" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E510-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E510-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E510-MJMAIN-2B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="15" xlink:href="#E510-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="83" xlink:href="#E510-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="249"></use><g transform="translate(583,670)"><use transform="scale(0.707)" x="0" xlink:href="#E510-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E510-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="749" xlink:href="#E510-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1766" xlink:href="#E510-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2822" xlink:href="#E510-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3462,0)"><use x="15" xlink:href="#E510-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="83" xlink:href="#E510-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="249"></use><g transform="translate(583,670)"><use transform="scale(0.707)" x="0" xlink:href="#E510-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E510-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="749" xlink:href="#E510-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1528" xlink:href="#E510-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2028" xlink:href="#E510-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="6076" xlink:href="#E510-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7077" xlink:href="#E510-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7466" xlink:href="#E510-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8188" xlink:href="#E510-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9188" xlink:href="#E510-MJMATHI-3B1" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9828" xlink:href="#E510-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10217,0)"><use x="0" xlink:href="#E510-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(469,362)"><use transform="scale(0.707)" x="0" xlink:href="#E510-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E510-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="749" xlink:href="#E510-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-509" type="math/tex">\hat \theta^{(t)}=\alpha \hat\theta^{(t-1)}+(1-\alpha)\theta^{(t)}</script>。


### 8.3 贪心监督预训练

1. 有时模型太复杂难以优化，直接训练模型可能太过于困难。此时可以训练一个较简单的模型，然后逐渐使模型复杂化来求解原始问题。

在直接训练目标模型、求解目标问题之前，训练简单模型求解简化问题的方法统称为预训练。

2. 预训练，尤其是贪心预训练，在深度学习中是普遍存在的。

贪心监督预训练将复杂的监督学习问题分解成简化的监督学习问题。

3. 贪心监督预训练的一个例子如下图所示：

    * 先训练一个最简单的架构，只有一个隐层，如图 `a` 所示。图 `b` 是另一个画法。
    * 然后将第一个隐层的输出<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-510-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 1579.7 1059.4" width="3.669ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E511-MJMATHI-68" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E511-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E511-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E511-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E511-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,362)"><use transform="scale(0.707)" x="0" xlink:href="#E511-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E511-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E511-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-510" type="math/tex">h^{(1)}</script>作为输入，再添加一个隐层，来训练<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-511-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -956.9 6767.5 1260.5" width="15.718ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E512-MJMATHI-68" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E512-MJMAIN-28" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E512-MJMAIN-31" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E512-MJMAIN-29" stroke-width="0"></path><path d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" id="E512-MJMAIN-2192" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E512-MJMAIN-32" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E512-MJMATHI-79" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E512-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,362)"><use transform="scale(0.707)" x="0" xlink:href="#E512-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E512-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E512-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1857" xlink:href="#E512-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3135,0)"><use x="0" xlink:href="#E512-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,362)"><use transform="scale(0.707)" x="0" xlink:href="#E512-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E512-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E512-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="4992" xlink:href="#E512-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6270" xlink:href="#E512-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-511" type="math/tex">h^{(1)}\rightarrow h^{(2)}\rightarrow y</script>，如图 `c` 所示。图 `d` 是另一个画法。
    * 然后将第二个隐层的输出作为输入，再添加一个隐层，训练....
    * 在这个过程中，前一步训练的最末尾的隐层的输出作为后一步训练的输入。
    * 为了进一步优化，最后可以联合微调所有层。

![](../imgs/dl_optimization/greedy.png)

4. 贪心监督预训练有效的原因，`Bengio et al.`提出的假说是：它有助于更好地指导深层结构的中间层的学习。

    * 中间层的知识能够有助于训练神经网络。
    * 预训练在优化（提高训练速度）和泛化（提高模型的泛化能力）这两方面都是有帮助的。


### 8.4 选择有助于优化的模型

1. 改进优化的最好方法是选择一个好的模型，选择一族容易优化的模型比使用一个强大的优化算法更重要。

    * 深度模型中，优化的许多改进来自于易于优化的模型。如：使用`relu` 激活函数。
    * 神经网络过去30年大多数进步主要来自于改变模型族，而不是优化算法。
    * 1980年代的带动量的随机梯度下降，依然是当前神经网络应用中的前沿算法。

2. 现代神经网络更多使用线性函数，如`relu` 单元、`maxout`单元。


### 8.5 连续方法

1. 许多优化挑战都来自于：因为并不知道代价函数的全局结构，所以不知道最优解所在的区域。

解决该问题的主要方法是：尝试初始化参数到某个区域内，该区域可以通过局部下降很快达到参数空间中的解。

2. 连续方法的原理：挑选一系列的初始化点，使得在表现良好的区域中执行局部优化。

方法为：构造一系列具有相同参数的目标函数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-512-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -956.9 12464.8 1260.5" width="28.951ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E513-MJMAIN-7B" stroke-width="0"></path><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E513-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E513-MJMAIN-28" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E513-MJMAIN-30" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E513-MJMAIN-29" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E513-MJMATHI-3B8" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E513-MJMAIN-2C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E513-MJMAIN-31" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E513-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E513-MJMATHI-6E" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E513-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E513-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(500,0)"><use x="0" xlink:href="#E513-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(656,362)"><use transform="scale(0.707)" x="0" xlink:href="#E513-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E513-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E513-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="2160" xlink:href="#E513-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2549" xlink:href="#E513-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3018" xlink:href="#E513-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3407" xlink:href="#E513-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3851,0)"><use x="0" xlink:href="#E513-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(656,362)"><use transform="scale(0.707)" x="0" xlink:href="#E513-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E513-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E513-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5511" xlink:href="#E513-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5900" xlink:href="#E513-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6369" xlink:href="#E513-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6758" xlink:href="#E513-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7203" xlink:href="#E513-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8542" xlink:href="#E513-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8986,0)"><use x="0" xlink:href="#E513-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(656,362)"><use transform="scale(0.707)" x="0" xlink:href="#E513-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E513-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="989" xlink:href="#E513-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="10717" xlink:href="#E513-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11106" xlink:href="#E513-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11575" xlink:href="#E513-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11964" xlink:href="#E513-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-512" type="math/tex">\{J^{(0)}(\theta),J^{(1)}(\theta),\cdots,J^{(n)}(\theta)\}</script>，其中满足：

    * 这些代价函数逐步提高难度，其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-513-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 1660.1 1059.4" width="3.856ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E514-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E514-MJMAIN-28" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E514-MJMAIN-30" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E514-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E514-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(656,362)"><use transform="scale(0.707)" x="0" xlink:href="#E514-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E514-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="888" xlink:href="#E514-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-513" type="math/tex">J^{(0)}</script>是最容易优化的。
    * 前一个代价函数的解是下一个的初始化点。

这样：首先解决一个简单的问题，然后改进解来解决逐步变难的问题，直到求解真正问题的解。

3. 传统的连续方法（非神经网络的）通常是基于平滑目标函数，主要用于克服局部极小值的问题。它用于在有许多局部极小值的情况下，求解一个全局极小值。

    * 它通过“模糊”原始的代价函数来构建更加容易的代价函数。这种模糊操作可以用采样来近似：

    <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-514-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -956.9 11956.5 1461.5" width="27.77ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625Z" id="E515-MJMATHI-4A" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E515-MJMAIN-28" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E515-MJMATHI-69" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E515-MJMAIN-29" stroke-width="0"></path><path d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z" id="E515-MJMATHI-3B8" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E515-MJMAIN-3D" stroke-width="0"></path><path d="M12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61Z" id="E515-MJAMS-45" stroke-width="0"></path><path d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" id="E515-MJMAIN-2032" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E515-MJMAIN-223C" stroke-width="0"></path><path d="M343 705Q358 705 358 698Q360 696 370 658T411 524T484 319Q536 174 590 82L595 73L615 152Q646 274 683 407Q729 571 752 637T799 727Q852 780 937 788Q939 788 947 788T958 789H962Q979 789 979 765Q979 722 951 692Q942 683 924 683Q888 681 859 672T818 654T803 639Q784 608 708 322T631 15Q631 14 630 15Q630 17 629 15Q628 14 628 12Q621 -4 601 -17T560 -31Q550 -31 546 -28T530 -7Q484 67 458 123T398 272Q352 392 314 514L306 535V534Q306 533 296 488T272 379T234 239T185 100T127 -7T61 -50Q34 -50 4 -34T-27 8Q-27 33 -12 61T18 90Q21 90 36 77T87 57H92Q109 57 123 78T162 173Q206 299 232 417T265 599T276 667Q284 681 304 693T343 705Z" id="E515-MJCAL-4E" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E515-MJMAIN-3B" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E515-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E515-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E515-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E515-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(656,362)"><use transform="scale(0.707)" x="0" xlink:href="#E515-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E515-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="733" xlink:href="#E515-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1550" xlink:href="#E515-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1939" xlink:href="#E515-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2408" xlink:href="#E515-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3075" xlink:href="#E515-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4131,0)"><use x="0" xlink:href="#E515-MJAMS-45" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(667,-242)"><use transform="scale(0.707)" x="0" xlink:href="#E515-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="663" xlink:href="#E515-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use transform="scale(0.707)" x="763" xlink:href="#E515-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1541" xlink:href="#E515-MJCAL-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2520" xlink:href="#E515-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2057,0)"><use transform="scale(0.707)" x="0" xlink:href="#E515-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="663" xlink:href="#E515-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use></g><use transform="scale(0.707)" x="3672" xlink:href="#E515-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3950" xlink:href="#E515-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4419" xlink:href="#E515-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3321,0)"><use transform="scale(0.707)" x="0" xlink:href="#E515-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(404,204)"><use transform="scale(0.5)" x="0" xlink:href="#E515-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="389" xlink:href="#E515-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="734" xlink:href="#E515-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1123" xlink:href="#E515-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use transform="scale(0.707)" x="6517" xlink:href="#E515-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9782" xlink:href="#E515-MJMATHI-4A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10415" xlink:href="#E515-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10804,0)"><use x="0" xlink:href="#E515-MJMATHI-3B8" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="663" xlink:href="#E515-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="11567" xlink:href="#E515-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-514" type="math/tex">J^{(i)}(\theta)=\mathbb E_{\theta^{\prime}\sim \mathcal N(\theta^{\prime};\theta,\sigma^{(i)2})} J(\theta^{\prime})</script>

    * 它背后的思想是：某些非凸函数，在模糊之后会近似凸的。

    * 通常这种模糊保留了关于全局极小值的足够多的信息。那么可以通过逐步求解更少模糊的问题，来求解全局极小值。

    * 这种方法有三种失败的可能：

        * 可能需要非常多的代价函数，导致整个过程的成本太高。
        * 不管如何模糊，可能代价函数还是没有办法变成凸的。
        * 函数可能在模糊之后，最小值会逐步逼近到原始代价函数的一个局部极小值，而不是原始代价函数的全局极小值。


4. 对于神经网络，局部极小值已经不是神经网络优化中的主要问题，但是连续方法仍然有所帮助。

连续方法引入的简化的目标函数能够消除平坦区域、减少梯度估计的方差、提高海森矩阵的条件数，使得局部更新更容易计算，或者改进局部更新方向朝着全局解。


## 九、参数初始化策略

1. 有些优化算法是非迭代的，可以直接解析求解最优解；有些优化算法是迭代的，但是它们是初始值无关的。

深度学习不具有这两类性质，通常是迭代的，且与初始值相关。

2. 深度学习中，大多数算法都受到初始值的影响。初始值能够决定：算法最终是否收敛、以及收敛时的收敛速度有多快、以及收敛到一个代价函数较高还是较低的值。

3. 深度学习中，初始值也会影响泛化误差，而不仅仅是目标函数的最优化。

因为如果选择一个不好的初始值，则最优化的结果会落在参数空间的一个较差的区域。此时会导致模型一个较差的泛化能力。

4. 目前深度学习中，选择初始化策略是启发式的。

    * 大多数初始化策略使得神经网络初始化时实现一些良好的性质。但是这些性质能否在学习过程中保持，难以保证。
    * 有些初始化点从最优化的观点是有利的，但是从泛化误差的观点来看是不利的。
    * 设定一个好的初始化策略是困难的，因为神经网络最优化任务至今都未被很好理解。
    * 对于初始点如何影响泛化误差的理论是空白的，几乎没有任何指导。

5. 度学习中，初始值的选择目前唯一确定的特性是：需要在不同单元之间破坏对称性。

    * 如果具有相同激励函数的两个隐单元连接到相同的输入，则这些单元必须具有不同的初始化参数。

    如果它们具有相同的初始化参数，则非随机的学习算法将一直以同样的方式更新这两个单元。

    * 通常鼓励每个单元使用和其他单元不一样的函数，如选择不同的权重或者偏置。


6. 通常的参数初始化策略为：随机初始化权重，偏置通过启发式挑选常数，额外的参数也通过启发式挑选常数。

7. 也可以使用机器学习来初始化模型的参数。

在同样的数据集上，即使是用监督学习来训练一个不相关的任务，有时也能够得到一个比随机初始化更好的初始值。原因是：监督学习编码了模型初始参数分布的某些信息。


### 9.1 权重初始化

1. 通常权重的初始化是从高斯分布或者均匀分布中挑选出来的值。

    * 从高斯分布还是均匀分布中挑选，看起来似乎没有很大差别，实际上也没有被仔细研究。
    * 该分布的范围（如均匀分布的上、下限）对优化结果和泛化能力有很大的影响。

2. 初始权重的大小很重要，下面的因素决定了权重的初始值的大小：

    * 更大的初始权重具有更强的破坏对称性的作用，有助于避免冗余的单元。
    * 更大的初始权重也有助于避免梯度消失。
    * 更大的初始权重也容易产生梯度爆炸。
    * 循环神经网络中，更大的初始权重可能导致混沌现象：对于输入中的很小的扰动非常敏感，从而导致确定性算法给出了随机性结果。

3. 关于如何初始化网络，正则化和最优化有两种不同的角度：

    * 从最优化角度，建议权重应该足够大，从而能够成功传播信息。
    * 从正则化角度，建议权重小一点（如<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-515-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.227ex" role="img" style="vertical-align: -0.472ex;" viewbox="0 -755.9 1134.6 958.9" width="2.635ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E516-MJMATHI-4C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E516-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E516-MJMATHI-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="963" xlink:href="#E516-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-515" type="math/tex">L_2</script>正则化），从而提高泛化能力。

4. 有些启发式方法可用于选择权重的初始化大小。

假设有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-516-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 878 607.1" width="2.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E517-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E517-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-516" type="math/tex">m</script>个输入，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>个输出的全连接层。

![](../imgs/dl_optimization/weight_init.png)

    * 常见的做法是建议使用均匀分布的随机初始化：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-518-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.679ex" role="img" style="vertical-align: -1.639ex;" viewbox="0 -1308.7 10666.4 2014.4" width="24.774ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E519-MJMAINB-57" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E519-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E519-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E519-MJMATHI-6A" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E519-MJMAIN-223C" stroke-width="0"></path><path d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" id="E519-MJMATHI-55" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E519-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E519-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E519-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E519-MJMATHI-6D" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E519-MJSZ2-221A" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E519-MJMAIN-29" stroke-width="0"></path><path d="M180 96T180 250T205 541T266 770T353 944T444 1069T527 1150H555Q561 1144 561 1141Q561 1137 545 1120T504 1072T447 995T386 878T330 721T288 513T272 251Q272 133 280 56Q293 -87 326 -209T399 -405T475 -531T536 -609T561 -640Q561 -643 555 -649H527Q483 -612 443 -568T353 -443T266 -270T205 -41Z" id="E519-MJSZ2-28" stroke-width="0"></path><path d="M35 1138Q35 1150 51 1150H56H69Q113 1113 153 1069T243 944T330 771T391 541T416 250T391 -40T330 -270T243 -443T152 -568T69 -649H56Q43 -649 39 -647T35 -637Q65 -607 110 -548Q283 -316 316 56Q324 133 324 251Q324 368 316 445Q278 877 48 1123Q36 1137 35 1138Z" id="E519-MJSZ2-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E519-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E519-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E519-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E519-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2298" xlink:href="#E519-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3354" xlink:href="#E519-MJMATHI-55" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4288,0)"><use xlink:href="#E519-MJSZ2-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="597" xlink:href="#E519-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1375,0)"><use x="0" xlink:href="#E519-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="33"></use><rect height="60" stroke="none" width="980" x="1000" y="1123"></rect><g transform="translate(1000,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="740" x="0" y="220"></rect><use transform="scale(0.707)" x="273" xlink:href="#E519-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E519-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g></g><use x="3355" xlink:href="#E519-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3800,0)"><use x="0" xlink:href="#E519-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="33"></use><rect height="60" stroke="none" width="980" x="1000" y="1123"></rect><g transform="translate(1000,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="740" x="0" y="220"></rect><use transform="scale(0.707)" x="273" xlink:href="#E519-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E519-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g></g><use x="5781" xlink:href="#E519-MJSZ2-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g></g></svg></span><script id="MathJax-Element-518" type="math/tex">\mathbf W_{i,j}\sim U\left(-\sqrt{\frac 1{m}},\sqrt{\frac 1{m}}\right)</script>。

    * `Glorot et al.`建议使用均匀分布的随机初始化：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-519-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.679ex" role="img" style="vertical-align: -1.639ex;" viewbox="0 -1308.7 12615.2 2014.4" width="29.3ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E520-MJMAINB-57" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E520-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E520-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E520-MJMATHI-6A" stroke-width="0"></path><path d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166Z" id="E520-MJMAIN-223C" stroke-width="0"></path><path d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z" id="E520-MJMATHI-55" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E520-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E520-MJMAIN-2212" stroke-width="0"></path><path d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" id="E520-MJMAIN-36" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E520-MJMATHI-6D" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E520-MJMAIN-2B" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E520-MJMATHI-6E" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E520-MJSZ2-221A" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E520-MJMAIN-29" stroke-width="0"></path><path d="M180 96T180 250T205 541T266 770T353 944T444 1069T527 1150H555Q561 1144 561 1141Q561 1137 545 1120T504 1072T447 995T386 878T330 721T288 513T272 251Q272 133 280 56Q293 -87 326 -209T399 -405T475 -531T536 -609T561 -640Q561 -643 555 -649H527Q483 -612 443 -568T353 -443T266 -270T205 -41Z" id="E520-MJSZ2-28" stroke-width="0"></path><path d="M35 1138Q35 1150 51 1150H56H69Q113 1113 153 1069T243 944T330 771T391 541T416 250T391 -40T330 -270T243 -443T152 -568T69 -649H56Q43 -649 39 -647T35 -637Q65 -607 110 -548Q283 -316 316 56Q324 133 324 251Q324 368 316 445Q278 877 48 1123Q36 1137 35 1138Z" id="E520-MJSZ2-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E520-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1189,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E520-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E520-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E520-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2298" xlink:href="#E520-MJMAIN-223C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3354" xlink:href="#E520-MJMATHI-55" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4288,0)"><use xlink:href="#E520-MJSZ2-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><use x="597" xlink:href="#E520-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1375,0)"><use x="0" xlink:href="#E520-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="16"></use><rect height="60" stroke="none" width="1955" x="1000" y="1106"></rect><g transform="translate(1000,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1715" x="0" y="220"></rect><use transform="scale(0.707)" x="962" xlink:href="#E520-MJMAIN-36" xmlns:xlink="http://www.w3.org/1999/xlink" y="593"></use><g transform="translate(60,-345)"><use transform="scale(0.707)" x="0" xlink:href="#E520-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E520-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1655" xlink:href="#E520-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="4330" xlink:href="#E520-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4774,0)"><use x="0" xlink:href="#E520-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="16"></use><rect height="60" stroke="none" width="1955" x="1000" y="1106"></rect><g transform="translate(1000,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1715" x="0" y="220"></rect><use transform="scale(0.707)" x="962" xlink:href="#E520-MJMAIN-36" xmlns:xlink="http://www.w3.org/1999/xlink" y="593"></use><g transform="translate(60,-345)"><use transform="scale(0.707)" x="0" xlink:href="#E520-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E520-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1655" xlink:href="#E520-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="7730" xlink:href="#E520-MJSZ2-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g></g></svg></span><script id="MathJax-Element-519" type="math/tex">\mathbf W_{i,j}\sim U\left(-\sqrt{\frac 6{m+n}},\sqrt{\frac 6{m+n}}\right)</script>。

    这种方法使网络在相同激励方差和相同的梯度方差之间折中。

    >     > 

    > 激励就是前向传播中，各信号（如权重、偏置等）的值。梯度就是它们的导数值。




5. 不幸的是上述启发式初始化权重的策略往往效果不佳。有三个可能的原因：

    * 可能使用了错误的标准：约束网络中信号（如梯度、权重）的范数可能并不会带来什么好处。
    * 初始化时强加给参数的性质可能在学习开始之后无法保持。
    * 可能提高了优化速度，但意外地增大了泛化误差。

6. `Martens`提出了一种称作稀疏初始化的替代方案：每个单元初始化为恰好具有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-520-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 521 858.4" width="1.21ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E521-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E521-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-520" type="math/tex">k</script>个非零的权重。

这个方案有助于单元之间在初始化时就具有更大的多样性。

7. 实践中，通常需要将初始权重范围视作超参数。

如果计算资源允许，可以将每层权重的初始数值范围设置为一个超参数，然后使用超参数搜索算法来挑选这些超参数。


### 9.2 偏置初始化

1. 偏置的初始化通常更容易。大多数情况下，可以设置偏置初始化为零。

2. 有时可以设置偏置初始化为非零，这发生在下面的三种情况：

    * 如果偏置是作为输出单元，则初始化偏置为非零值。

    假设初始权重足够小，输出单元的输出仅由初始化偏置决定，则非零的偏置有助于获取正确的输出边缘统计。

    * 有时选择偏置的初始值以免初始化引起激活函数饱和。如：`ReLU` 激活函数的神经元的偏置设置为一个小的正数，从而避免`ReLU` 初始时就位于饱和的区域。

    * 有时某个单元作为开关来决定其他单元是使用还是不使用。此时偏置应该非零，从而打开开关。



## 十、Normalization

### 10.1 batch normalization

1. `batch normalization`是优化神经网络的一大创新。

    * 它并不是一个优化算法，而是一个自适应的、调整参数模型的方法。
    * 它试图解决训练非常深的神经网络的困难。

2. 深度神经网络训练困难的一个重要原因是：深度神经网络涉及很多层的叠加，而每一层的参数更新会导致上一层的输入数据分布发生变化。这会带来两个问题：

    * 下层输入的变化可能趋向于变大或者变小，导致上层落入饱和区，使得学习过早停止。

    * 通过层层叠加，高层的输入分布变化会非常剧烈。这就使得高层需要不断去适应底层的参数更新变化。

    这就要求我们需要非常谨慎的设定学习率、初始化权重、参数更新策略。



#### 10.1.1 白化

1. 在机器学习中，如果数据是独立同分布的，则可以简化模型的训练，提升模型的预测能力。所以通常需要对输入数据进行白化`whitening`。 白化主要实现两个目的：

    * 去除特征之间的相关性。即：特征之间尽可能的独立。
    * 使得所有特征都具有相同的均值和方差。即：特征之间尽可能的同分布。

2. 白化操作：

    * 首先将输入执行 `PCA` 降维，这称作`PCA` 处理。
    * 然后在新的空间中，对输入数据的每一维进行标准差归一化处理。

3. 理论上可以对神经网络的每一层的输入执行白化来解决输入数据分布的问题。但是有两个困难：

    * 白化操作代价高昂，算法复杂度太大。因为`PCA` 处理涉及到协方差矩阵<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-521-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -956.9 2335.8 1009.2" width="5.425ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E522-MJMAINB-58" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E522-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E522-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1228" xlink:href="#E522-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="584"></use><use x="1466" xlink:href="#E522-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-521" type="math/tex">\mathbf X^T\mathbf X</script>的特征值求解，而计算协方差矩阵的算法复杂度为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-522-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 5184.1 1210.2" width="12.041ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z" id="E523-MJMATHI-4F" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E523-MJMAIN-28" stroke-width="0"></path><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" id="E523-MJMATHI-4E" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E523-MJMAIN-32" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E523-MJMAIN-D7" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E523-MJMATHI-6E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E523-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E523-MJMATHI-4F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="763" xlink:href="#E523-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1152,0)"><use x="0" xlink:href="#E523-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1291" xlink:href="#E523-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="2741" xlink:href="#E523-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3741,0)"><use x="0" xlink:href="#E523-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E523-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="4795" xlink:href="#E523-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-522" type="math/tex">O(N^2\times n^2)</script>（不考虑`Strassen` 算法优化），其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-525-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 888 808.1" width="2.062ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" id="E526-MJMATHI-4E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E526-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-525" type="math/tex">N</script>为数据集样本数量，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>为特征数量。

    对于神经网络的训练集，通常<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-525-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 888 808.1" width="2.062ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z" id="E526-MJMATHI-4E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E526-MJMATHI-4E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-525" type="math/tex">N</script>都数以万计甚至百万计，如果在每一层、每一次参数更新都执行白化操作，则不可接受。

    * 白化操作不可微，这样反向传播算法无法进行。


因此`batch normalization` 就退而求其次，执行简化版的白化：将神经网络的每一层的输入的分布限定其均值和方差。


#### 10.1.2 深层网络的参数更新

1. 对于一个深层的神经网络，如果同时更新所有层的参数，则可能会发生一些意想不到的后果。

假设有一个深层神经网络，一共有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层，每层只有一个单元，且每个隐层不使用激励函数。则输出为：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1896-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -755.9 7336.9 1059.4" width="17.041ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2063-MJMATHI-79" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2063-MJMAIN-5E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2063-MJMAIN-3D" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E2063-MJMATHI-78" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E2063-MJMATHI-77" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2063-MJMAIN-31" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2063-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2063-MJMAIN-22EF" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E2063-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E2063-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="60" xlink:href="#E2063-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use><use x="837" xlink:href="#E2063-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1893" xlink:href="#E2063-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2465,0)"><use x="0" xlink:href="#E2063-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2063-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(3635,0)"><use x="0" xlink:href="#E2063-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2063-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4971" xlink:href="#E2063-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6310,0)"><use x="0" xlink:href="#E2063-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2063-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1896" type="math/tex; mode=display">\hat y=xw_1w_2\cdots w_l</script>
其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-542-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 1060 757.9" width="2.462ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E543-MJMATHI-77" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E543-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E543-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E543-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-542" type="math/tex">w_i</script>为第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>层的权重。第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>层的输出为：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-530-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -906.7 7337.6 1160" width="17.042ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E531-MJMATHI-68" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E531-MJMAIN-3C" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E531-MJMATHI-69" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E531-MJMAIN-3E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E531-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E531-MJMAIN-2212" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E531-MJMAIN-31" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E531-MJMATHI-77" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E531-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,362)"><use transform="scale(0.707)" x="0" xlink:href="#E531-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E531-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E531-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2297" xlink:href="#E531-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3353,0)"><use x="0" xlink:href="#E531-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,362)"><use transform="scale(0.707)" x="0" xlink:href="#E531-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E531-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E531-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1901" xlink:href="#E531-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2401" xlink:href="#E531-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(6277,0)"><use x="0" xlink:href="#E531-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E531-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-530" type="math/tex">h^{<i>}=h^{ <i-1>}w_i</script>。

令<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-531-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 12020.2 1210.2" width="27.918ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E532-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E532-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E532-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E532-MJMAIN-28" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E532-MJMATHI-67" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E532-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E532-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E532-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E532-MJMAIN-22EF" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E532-MJMATHI-6C" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E532-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E532-MJMATHI-54" stroke-width="0"></path><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E532-MJMAIN-2207" stroke-width="0"></path><path d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" id="E532-MJMAINB-77" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E532-MJMATHI-79" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E532-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E532-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E532-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use x="852" xlink:href="#E532-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1908" xlink:href="#E532-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2297,0)"><use x="0" xlink:href="#E532-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E532-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3228" xlink:href="#E532-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3672,0)"><use x="0" xlink:href="#E532-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E532-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="4603" xlink:href="#E532-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5047" xlink:href="#E532-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6386" xlink:href="#E532-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6831,0)"><use x="0" xlink:href="#E532-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E532-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(7619,0)"><use x="0" xlink:href="#E532-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E532-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g><use x="8883" xlink:href="#E532-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9939,0)"><use x="0" xlink:href="#E532-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E532-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="686" xlink:href="#E532-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use></g></g><g transform="translate(11460,0)"><use x="1" xlink:href="#E532-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="60" xlink:href="#E532-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g></g></svg></span><script id="MathJax-Element-531" type="math/tex">\mathbf{\vec g}=(g_1,g_2,\cdots,g_l)^T=\nabla_{\mathbf{\vec w}}\hat y</script>，其中：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1897-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.597ex" role="img" style="vertical-align: -3.39ex;" viewbox="0 -1811.3 9464.9 3270.8" width="21.983ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2064-MJMATHI-67" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2064-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2064-MJMAIN-3D" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2064-MJMAIN-2202" stroke-width="0"></path><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2064-MJMATHI-79" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E2064-MJMAIN-5E" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E2064-MJMATHI-77" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E2064-MJMATHI-78" stroke-width="0"></path><path d="M220 812Q220 813 218 819T214 829T208 840T199 853T185 866T166 878T140 887T107 893T66 896H56V950H1221V896H1211Q1080 896 1058 812V-311Q1076 -396 1211 -396H1221V-450H725V-396H735Q864 -396 888 -314Q889 -312 889 -311V896H388V292L389 -311Q405 -396 542 -396H552V-450H56V-396H66Q195 -396 219 -314Q220 -312 220 -311V812Z" id="E2064-MJSZ2-220F" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2064-MJMATHI-6A" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2064-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2064-MJMAIN-2C" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E2064-MJMAIN-2260" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E2064-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2064-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2064-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1098" xlink:href="#E2064-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1876,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="1247" x="0" y="220"></rect><g transform="translate(60,676)"><use x="0" xlink:href="#E2064-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="1" xlink:href="#E2064-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="60" xlink:href="#E2064-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g></g><g transform="translate(93,-686)"><use x="0" xlink:href="#E2064-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2064-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g><use x="3919" xlink:href="#E2064-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4975" xlink:href="#E2064-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5713,0)"><use x="599" xlink:href="#E2064-MJSZ2-220F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1123)"><use transform="scale(0.707)" x="0" xlink:href="#E2064-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2064-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2064-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1689" xlink:href="#E2064-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1967" xlink:href="#E2064-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2379" xlink:href="#E2064-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3158" xlink:href="#E2064-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="1602" xlink:href="#E2064-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(8357,0)"><use x="0" xlink:href="#E2064-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2064-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1897" type="math/tex; mode=display">g_i=\frac{\partial \hat y}{w_i} = x\prod_{j=1,j\ne i}^{l}w_j</script>
利用梯度下降法更新参数，则有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-532-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 5421 1059.4" width="12.591ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" id="E533-MJMAINB-77" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E533-MJMAINB-20D7" stroke-width="0"></path><path d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z" id="E533-MJMAIN-2190" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E533-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E533-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E533-MJMAINB-67" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E533-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E533-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="1108" xlink:href="#E533-MJMAIN-2190" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2386,0)"><use x="0" xlink:href="#E533-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E533-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="3439" xlink:href="#E533-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4440" xlink:href="#E533-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4846,0)"><use x="0" xlink:href="#E533-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E533-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-532" type="math/tex">\mathbf{\vec w}\leftarrow \mathbf{\vec w}-\epsilon \mathbf{\vec g}</script>

2. 如果使用<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-537-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -755.9 560.2 1059.4" width="1.301ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E538-MJMATHI-79" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E538-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E538-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="60" xlink:href="#E538-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g></svg></span><script id="MathJax-Element-537" type="math/tex">\hat y</script>的一阶泰勒近似，则有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-534-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1007.2 12009.2 1310.7" width="27.893ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E535-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E535-MJMAIN-28" stroke-width="0"></path><path d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" id="E535-MJMAINB-77" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E535-MJMAINB-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E535-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E535-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E535-MJMAINB-67" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E535-MJMAIN-29" stroke-width="0"></path><path d="M55 319Q55 360 72 393T114 444T163 472T205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346Q609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452Q722 386 675 338T555 289Q514 289 468 310T388 357T308 404T224 426Q164 426 125 393T83 318Q81 289 69 289Q55 289 55 319ZM55 85Q55 126 72 159T114 210T163 238T205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112Q609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123T308 170T224 192Q164 192 125 159T83 84Q80 55 69 55Q55 55 55 85Z" id="E535-MJMAIN-2248" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E535-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E535-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E535-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E535-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E535-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1992" xlink:href="#E535-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2992" xlink:href="#E535-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3398,0)"><use x="0" xlink:href="#E535-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E535-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="3973" xlink:href="#E535-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4584" xlink:href="#E535-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5584" xlink:href="#E535-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6134" xlink:href="#E535-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6523,0)"><use x="0" xlink:href="#E535-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E535-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7354" xlink:href="#E535-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8021" xlink:href="#E535-MJMAIN-2248" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9077" xlink:href="#E535-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9855" xlink:href="#E535-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10261,0)"><use x="0" xlink:href="#E535-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E535-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E535-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><g transform="translate(11434,0)"><use x="0" xlink:href="#E535-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E535-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-534" type="math/tex">f(\mathbf{\vec w}-\epsilon \mathbf{\vec g})-f(\mathbf{\vec w})\approx-\epsilon \mathbf{\vec g}^{T}\mathbf{\vec g}</script>。即：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-537-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -755.9 560.2 1059.4" width="1.301ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E538-MJMATHI-79" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E538-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E538-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="60" xlink:href="#E538-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g></svg></span><script id="MathJax-Element-537" type="math/tex">\hat y</script>的值下降了<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-536-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 2153.8 1260.5" width="5.002ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E537-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E537-MJMAINB-67" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E537-MJMAINB-20D7" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E537-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E537-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(406,0)"><use x="0" xlink:href="#E537-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E537-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E537-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><g transform="translate(1578,0)"><use x="0" xlink:href="#E537-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E537-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g></g></svg></span><script id="MathJax-Element-536" type="math/tex">\epsilon \mathbf{\vec g}^{T}\mathbf{\vec g}</script>。因此梯度下降法一定能够降低<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-537-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -755.9 560.2 1059.4" width="1.301ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E538-MJMATHI-79" stroke-width="0"></path><path d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z" id="E538-MJMAIN-5E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="1" xlink:href="#E538-MJMATHI-79" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="60" xlink:href="#E538-MJMAIN-5E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-13"></use></g></svg></span><script id="MathJax-Element-537" type="math/tex">\hat y</script>的值。

如果直接按多项式乘法展开，则会考虑<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>的二阶、三阶甚至更高阶的项，有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1898-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="10.865ex" role="img" style="vertical-align: -8.993ex;" viewbox="0 -806.1 38699.6 4678.1" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2065-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2065-MJMAIN-28" stroke-width="0"></path><path d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" id="E2065-MJMAINB-77" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2065-MJMAINB-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2065-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2065-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2065-MJMAINB-67" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2065-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2065-MJMAIN-3D" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E2065-MJMATHI-78" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E2065-MJMATHI-77" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2065-MJMAIN-31" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2065-MJMATHI-67" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2065-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2065-MJMAIN-22EF" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E2065-MJMATHI-6C" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2065-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2065-MJMATHI-69" stroke-width="0"></path><path d="M220 812Q220 813 218 819T214 829T208 840T199 853T185 866T166 878T140 887T107 893T66 896H56V950H1221V896H1211Q1080 896 1058 812V-311Q1076 -396 1211 -396H1221V-450H725V-396H735Q864 -396 888 -314Q889 -312 889 -311V896H388V292L389 -311Q405 -396 542 -396H552V-450H56V-396H66Q195 -396 219 -314Q220 -312 220 -311V812Z" id="E2065-MJSZ2-220F" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2065-MJMATHI-6A" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2065-MJMAIN-2C" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E2065-MJMAIN-2260" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2065-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2065-MJSZ4-29" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2065-MJMAIN-2B" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2065-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(3822,0)"><use x="0" xlink:href="#E2065-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E2065-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E2065-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E2065-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1992" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2992" xlink:href="#E2065-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3398,0)"><use x="0" xlink:href="#E2065-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2065-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="3973" xlink:href="#E2065-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4584" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5584" xlink:href="#E2065-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6134" xlink:href="#E2065-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6523,0)"><use x="0" xlink:href="#E2065-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E2065-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7354" xlink:href="#E2065-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8021" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9077" xlink:href="#E2065-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9649" xlink:href="#E2065-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10038,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="11430" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12430" xlink:href="#E2065-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12836,0)"><use x="0" xlink:href="#E2065-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="13766" xlink:href="#E2065-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14155" xlink:href="#E2065-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14544,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="15936" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16936" xlink:href="#E2065-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17342,0)"><use x="0" xlink:href="#E2065-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2065-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="18273" xlink:href="#E2065-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18829" xlink:href="#E2065-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20167" xlink:href="#E2065-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(20556,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="21805" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="22806" xlink:href="#E2065-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(23212,0)"><use x="0" xlink:href="#E2065-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="23999" xlink:href="#E2065-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="24610" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="25611" xlink:href="#E2065-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(26183,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(27352,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="28688" xlink:href="#E2065-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(30027,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(5261,-2431)"><use x="0" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1055" xlink:href="#E2065-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1833" xlink:href="#E2065-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2239" xlink:href="#E2065-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2978,0)"><use x="0" xlink:href="#E2065-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="872" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4589,0)"><use xlink:href="#E2065-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2065-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(1779,0)"><use x="599" xlink:href="#E2065-MJSZ2-220F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1123)"><use transform="scale(0.707)" x="0" xlink:href="#E2065-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1689" xlink:href="#E2065-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1967" xlink:href="#E2065-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2379" xlink:href="#E2065-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3158" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="1602" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4423,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5530" xlink:href="#E2065-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="11133" xlink:href="#E2065-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12134,0)"><use x="0" xlink:href="#E2065-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2065-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="12993" xlink:href="#E2065-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13732,0)"><use x="0" xlink:href="#E2065-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="872" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(15343,0)"><use x="0" xlink:href="#E2065-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(179,-1085)"><use transform="scale(0.707)" x="0" xlink:href="#E2065-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="872" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(16953,0)"><use xlink:href="#E2065-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2065-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(1612,0)"><use x="0" xlink:href="#E2065-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2065-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(2647,0)"><use x="1379" xlink:href="#E2065-MJSZ2-220F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1123)"><use transform="scale(0.707)" x="0" xlink:href="#E2065-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2065-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2065-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1799" xlink:href="#E2065-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2077" xlink:href="#E2065-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2598" xlink:href="#E2065-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3376" xlink:href="#E2065-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3720" xlink:href="#E2065-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3998" xlink:href="#E2065-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4519" xlink:href="#E2065-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5298" xlink:href="#E2065-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="2706" xlink:href="#E2065-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(6852,0)"><use x="0" xlink:href="#E2065-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2065-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8036" xlink:href="#E2065-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="26004" xlink:href="#E2065-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="27004" xlink:href="#E2065-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1898" type="math/tex; mode=display">f(\mathbf{\vec w}-\epsilon \mathbf{\vec g})-f(\mathbf{\vec w})=x(w_1-\epsilon g_1)(w_2-\epsilon g_2)\cdots (w_l-\epsilon g_l)-xw_1w_2\cdots w_l\\ = -\epsilon x \sum_{i=1}^{l}\left(g_i\prod_{j=1,j\ne i}^{l}w_j\right)+\epsilon^{2} x \sum_{i=1}^{l}\sum_{j=i}^{l}\left(g_ig_j\prod_{k=1,k\ne i,k\ne j}^{l}w_k\right)+\cdots</script>
考虑到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-539-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -1057.4 7688.2 1562" width="17.856ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E540-MJMATHI-67" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E540-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E540-MJMAIN-3D" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E540-MJMATHI-78" stroke-width="0"></path><path d="M158 656Q147 684 131 694Q110 707 69 710H55V750H888V710H874Q840 708 820 698T795 678T786 656V-155Q798 -206 874 -210H888V-250H570V-210H584Q618 -208 638 -197T663 -178T673 -155V710H270V277L271 -155Q283 -206 359 -210H373V-250H55V-210H69Q103 -208 123 -197T148 -178T158 -155V656Z" id="E540-MJSZ1-220F" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E540-MJMATHI-6C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E540-MJMATHI-6A" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E540-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E540-MJMAIN-2C" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E540-MJMAIN-2260" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E540-MJMATHI-77" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E540-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E540-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1098" xlink:href="#E540-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2154" xlink:href="#E540-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2893,0)"><use x="0" xlink:href="#E540-MJSZ1-220F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1335" xlink:href="#E540-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(944,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E540-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E540-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E540-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1689" xlink:href="#E540-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1967" xlink:href="#E540-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2379" xlink:href="#E540-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3158" xlink:href="#E540-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><g transform="translate(6580,0)"><use x="0" xlink:href="#E540-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E540-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-539" type="math/tex">g_i=x\prod_{j=1,j\ne i}^{l}w_j</script>，则有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1899-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="8.531ex" role="img" style="vertical-align: -4.324ex;" viewbox="0 -1811.3 38699.6 3672.9" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E2066-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2066-MJMAIN-28" stroke-width="0"></path><path d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" id="E2066-MJMAINB-77" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2066-MJMAINB-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2066-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2066-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E2066-MJMAINB-67" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2066-MJMAIN-29" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2066-MJMAIN-3D" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2066-MJMATHI-54" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2066-MJMAIN-2B" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2066-MJMAIN-32" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E2066-MJMATHI-78" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2066-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2066-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2066-MJMAIN-31" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E2066-MJMATHI-6C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2066-MJMATHI-6A" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2066-MJMATHI-67" stroke-width="0"></path><path d="M220 812Q220 813 218 819T214 829T208 840T199 853T185 866T166 878T140 887T107 893T66 896H56V950H1221V896H1211Q1080 896 1058 812V-311Q1076 -396 1211 -396H1221V-450H725V-396H735Q864 -396 888 -314Q889 -312 889 -311V896H388V292L389 -311Q405 -396 542 -396H552V-450H56V-396H66Q195 -396 219 -314Q220 -312 220 -311V812Z" id="E2066-MJSZ2-220F" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2066-MJMATHI-6B" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2066-MJMAIN-2C" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E2066-MJMAIN-2260" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E2066-MJMATHI-77" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2066-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2066-MJSZ4-29" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2066-MJMAIN-22EF" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(4712,0)"><use x="0" xlink:href="#E2066-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E2066-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E2066-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E2066-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1992" xlink:href="#E2066-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2992" xlink:href="#E2066-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3398,0)"><use x="0" xlink:href="#E2066-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2066-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="3973" xlink:href="#E2066-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4584" xlink:href="#E2066-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5584" xlink:href="#E2066-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6134" xlink:href="#E2066-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6523,0)"><use x="0" xlink:href="#E2066-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E2066-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7354" xlink:href="#E2066-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8021" xlink:href="#E2066-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9077" xlink:href="#E2066-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9855" xlink:href="#E2066-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10261,0)"><use x="0" xlink:href="#E2066-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2066-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use><use transform="scale(0.707)" x="813" xlink:href="#E2066-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="660"></use></g><g transform="translate(11434,0)"><use x="0" xlink:href="#E2066-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E2066-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="12231" xlink:href="#E2066-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13231,0)"><use x="0" xlink:href="#E2066-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E2066-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="14091" xlink:href="#E2066-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14829,0)"><use x="0" xlink:href="#E2066-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2066-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2066-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2066-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="872" xlink:href="#E2066-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(16440,0)"><use x="0" xlink:href="#E2066-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(179,-1085)"><use transform="scale(0.707)" x="0" xlink:href="#E2066-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2066-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2066-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="872" xlink:href="#E2066-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(18051,0)"><use xlink:href="#E2066-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><use x="0" xlink:href="#E2066-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2066-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(1612,0)"><use x="0" xlink:href="#E2066-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="674" xlink:href="#E2066-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(2647,0)"><use x="1379" xlink:href="#E2066-MJSZ2-220F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1123)"><use transform="scale(0.707)" x="0" xlink:href="#E2066-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2066-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2066-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1799" xlink:href="#E2066-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2077" xlink:href="#E2066-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2598" xlink:href="#E2066-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3376" xlink:href="#E2066-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3720" xlink:href="#E2066-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3998" xlink:href="#E2066-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4519" xlink:href="#E2066-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5298" xlink:href="#E2066-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="2706" xlink:href="#E2066-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(6852,0)"><use x="0" xlink:href="#E2066-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E2066-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8036" xlink:href="#E2066-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="27102" xlink:href="#E2066-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="28102" xlink:href="#E2066-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1899" type="math/tex; mode=display">f(\mathbf{\vec w}-\epsilon \mathbf{\vec g})-f(\mathbf{\vec w})=-\epsilon \mathbf{\vec g}^{T}\mathbf{\vec g}+\epsilon^{2} x \sum_{i=1}^{l}\sum_{j=i}^{l}\left(g_ig_j\prod_{k=1,k\ne i,k\ne j}^{l}w_k\right)+\cdots\\</script>
    * 如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-542-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 1060 757.9" width="2.462ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E543-MJMATHI-77" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E543-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E543-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E543-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-542" type="math/tex">w_i</script>都比较小，则<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-541-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -1057.4 6432.6 1562" width="14.94ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M158 656Q147 684 131 694Q110 707 69 710H55V750H888V710H874Q840 708 820 698T795 678T786 656V-155Q798 -206 874 -210H888V-250H570V-210H584Q618 -208 638 -197T663 -178T673 -155V710H270V277L271 -155Q283 -206 359 -210H373V-250H55V-210H69Q103 -208 123 -197T148 -178T158 -155V656Z" id="E542-MJSZ1-220F" stroke-width="0"></path><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E542-MJMATHI-6C" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E542-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E542-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E542-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E542-MJMAIN-2C" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E542-MJMAIN-2260" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E542-MJMATHI-69" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E542-MJMATHI-6A" stroke-width="0"></path><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E542-MJMATHI-77" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E542-MJSZ1-220F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1335" xlink:href="#E542-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="674"></use><g transform="translate(944,-286)"><use transform="scale(0.707)" x="0" xlink:href="#E542-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E542-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E542-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1799" xlink:href="#E542-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2077" xlink:href="#E542-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2598" xlink:href="#E542-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3376" xlink:href="#E542-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3720" xlink:href="#E542-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3998" xlink:href="#E542-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4519" xlink:href="#E542-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5298" xlink:href="#E542-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(5248,0)"><use x="0" xlink:href="#E542-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E542-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-541" type="math/tex">\prod_{k=1,k\ne i,k\ne j}^{l}w_k</script>很小，则二阶项可以忽略不计。

    如果<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-542-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.76ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -504.6 1060 757.9" width="2.462ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z" id="E543-MJMATHI-77" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E543-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E543-MJMATHI-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1012" xlink:href="#E543-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-542" type="math/tex">w_i</script>都比较大，则该二阶项可能会指数级大。此时很难选择一个合适的学习率，使得<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-543-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 9577.4 1109.7" width="22.244ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z" id="E544-MJMATHI-66" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E544-MJMAIN-28" stroke-width="0"></path><path d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" id="E544-MJMAINB-77" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E544-MJMAINB-20D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E544-MJMAIN-2212" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E544-MJMATHI-3F5" stroke-width="0"></path><path d="M50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150Z" id="E544-MJMAINB-67" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E544-MJMAIN-29" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E544-MJMAIN-3C" stroke-width="0"></path><path d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" id="E544-MJMAIN-30" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E544-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="550" xlink:href="#E544-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(939,0)"><use x="0" xlink:href="#E544-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E544-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="1992" xlink:href="#E544-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2992" xlink:href="#E544-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3398,0)"><use x="0" xlink:href="#E544-MJMAINB-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="558" xlink:href="#E544-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="17"></use></g><use x="3973" xlink:href="#E544-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4584" xlink:href="#E544-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5584" xlink:href="#E544-MJMATHI-66" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6134" xlink:href="#E544-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6523,0)"><use x="0" xlink:href="#E544-MJMAINB-77" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="686" xlink:href="#E544-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use></g><use x="7354" xlink:href="#E544-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8021" xlink:href="#E544-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9077" xlink:href="#E544-MJMAIN-30" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-543" type="math/tex">f(\mathbf{\vec w}-\epsilon \mathbf{\vec g})-f(\mathbf{\vec w})\lt 0</script>。

    因此某一层中参数更新的效果会取决于其他所有层（即：其它层的权重是不是较大）。

    * 虽然二阶优化算法会利用二阶项的相互作用来解决这个问题，但是还有三阶项甚至更高阶项的影响。



#### 10.1.3 BN 算法

1. `batch normalization`解决了多层之间协调更新的问题，它可以应用于网络的任何输入层或者隐层。

2. 设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-555-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 13158.4 1361" width="30.562ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M14 666Q14 675 26 683H344L351 679Q361 665 351 655Q344 648 317 648Q287 645 282 641Q270 637 269 623T266 497V370H511V497Q511 519 510 553Q509 615 507 626T496 641H495Q489 645 459 648Q420 648 420 665Q420 672 426 679L433 683H751Q762 676 762 666Q762 648 724 648Q684 645 677 632Q675 626 675 341Q675 57 677 52Q684 38 724 35Q762 35 762 16Q762 6 751 -1H433L426 3Q420 10 420 17Q420 35 459 35Q501 38 506 52Q511 64 511 190V323H266V190Q266 60 271 52Q276 38 317 35Q342 35 351 28Q360 17 351 3L344 -1H26Q14 5 14 16Q14 35 53 35Q94 38 99 52Q104 60 104 341T99 632Q93 645 53 648Q14 648 14 666ZM233 341V553Q233 635 239 648H131Q134 641 135 638T137 603T139 517T139 341Q139 131 138 89T132 37Q131 36 131 35H239Q233 47 233 129V341ZM639 341V489Q639 548 639 576T640 620T642 639T646 648H537L542 639Q546 625 546 341Q546 130 545 88T538 37Q537 36 537 35H646Q643 41 643 42T641 55T639 84T639 140V341Z" id="E556-MJAMS-48" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E556-MJMATHI-6D" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E556-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E556-MJMATHI-6E" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E556-MJMAIN-2212" stroke-width="0"></path><path d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z" id="E556-MJMATHI-62" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E556-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E556-MJMATHI-74" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E556-MJMATHI-63" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E556-MJMATHI-68" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E556-MJMAIN-3D" stroke-width="0"></path><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E556-MJMAIN-7B" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E556-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E556-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E556-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E556-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E556-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E556-MJMAIN-22EF" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E556-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E556-MJAMS-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E556-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E556-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1223" xlink:href="#E556-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1823" xlink:href="#E556-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2168" xlink:href="#E556-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2946" xlink:href="#E556-MJMATHI-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3375" xlink:href="#E556-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3903" xlink:href="#E556-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4265" xlink:href="#E556-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4697" xlink:href="#E556-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4885" xlink:href="#E556-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5940" xlink:href="#E556-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6440,0)"><use x="0" xlink:href="#E556-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E556-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E556-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="7533" xlink:href="#E556-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7978,0)"><use x="0" xlink:href="#E556-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E556-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E556-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9070" xlink:href="#E556-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9515" xlink:href="#E556-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10853" xlink:href="#E556-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11298,0)"><use x="0" xlink:href="#E556-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E556-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E556-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12658" xlink:href="#E556-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-555" type="math/tex">\mathbb H_{mini-batch} = \{\mathbf{\vec h}_1,\mathbf{\vec h}_2,\cdots,\mathbf{\vec h}_m\}</script>为神经网络某层的一个`mini-batch` 的输入，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>为输入的维度。

    * 首先计算这个`mini-batch` 输入的均值和每维特征的标准差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1900-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="14.251ex" role="img" style="vertical-align: -10.394ex;" viewbox="0 -1660.6 37191.8 6135.6" width="86.381ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2067-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2067-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2067-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2067-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2067-MJMATHI-6D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2067-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2067-MJMATHI-69" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2067-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2067-MJMAINB-20D7" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2067-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2067-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2067-MJMAIN-28" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2067-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2067-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2067-MJMATHI-6E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2067-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2067-MJMATHI-54" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2067-MJMATHI-6A" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E2067-MJMATHI-68" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2067-MJMAIN-2212" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(15628,0)"><use x="0" xlink:href="#E2067-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2067-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use><use x="880" xlink:href="#E2067-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1658,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2067-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2067-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3341,0)"><use x="0" xlink:href="#E2067-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2067-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2067-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2067-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2067-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4951,0)"><use x="0" xlink:href="#E2067-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2067-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2067-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(8064,-3190)"><use x="0" xlink:href="#E2067-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2067-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1303" xlink:href="#E2067-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2359" xlink:href="#E2067-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2748,0)"><use x="0" xlink:href="#E2067-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2067-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="3774" xlink:href="#E2067-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4218,0)"><use x="0" xlink:href="#E2067-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="5244" xlink:href="#E2067-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5689" xlink:href="#E2067-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7027" xlink:href="#E2067-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7472,0)"><use x="0" xlink:href="#E2067-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2067-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-211"></use></g><g transform="translate(8567,0)"><use x="0" xlink:href="#E2067-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2067-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="9554" xlink:href="#E2067-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10999,0)"><use x="0" xlink:href="#E2067-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2067-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><use x="12302" xlink:href="#E2067-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13080,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2067-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2067-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(14763,0)"><use x="0" xlink:href="#E2067-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2067-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2067-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2067-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2067-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="16207" xlink:href="#E2067-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16596,0)"><use x="0" xlink:href="#E2067-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2067-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2067-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2067-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="18226" xlink:href="#E2067-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19226,0)"><use x="0" xlink:href="#E2067-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2067-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(20221,0)"><use x="0" xlink:href="#E2067-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2067-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></g></svg></span></span><script id="MathJax-Element-1900" type="math/tex; mode=display">\vec \mu= \frac 1m \sum_{i=1}^m \mathbf{\vec h}_i\\ \vec\sigma ^2 = (\sigma_{1}^2,\sigma_{2}^2,\cdots,\sigma_{n}^2)^T,\quad \sigma_{j}^2 = \frac 1m \sum_{i=1}^m (h_{i,j}-\mu_{j})^2</script>
    * 然后对输入进行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1901-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.13ex" role="img" style="vertical-align: -3.04ex;" viewbox="0 -1761.1 7540.4 3069.8" width="17.513ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2068-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2068-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2068-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2068-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2068-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2068-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2068-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2068-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2068-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2068-MJMAIN-20D7" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2068-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2068-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2068-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2068-MJMATHI-3F5" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2068-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2068-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2068-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2068-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2068-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2068-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2068-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2470" xlink:href="#E2068-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3248,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3773" x="0" y="220"></rect><g transform="translate(482,681)"><use x="0" xlink:href="#E2068-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2068-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2068-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1205" xlink:href="#E2068-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2205,0)"><use x="0" xlink:href="#E2068-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2068-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g></g><g transform="translate(60,-1059)"><use x="0" xlink:href="#E2068-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="60" stroke="none" width="2653" x="1000" y="972"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2068-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2068-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2068-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1247" xlink:href="#E2068-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E2068-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1901" type="math/tex; mode=display">\mathbf{\vec h}_i^{<1>} = \frac{\mathbf{\vec h}_i-\vec\mu}{\sqrt{\vec\sigma^2+\epsilon}}</script>
    其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-597-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.212ex" role="img" style="vertical-align: -1.989ex;" viewbox="0 -956.9 2629.5 1813.3" width="6.107ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E605-MJMAIN-31" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E605-MJMATHI-3C3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E605-MJMAIN-20D7" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E605-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E605-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E605-MJMATHI-3F5" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E605-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2389" x="0" y="220"></rect><use transform="scale(0.707)" x="1439" xlink:href="#E605-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><g transform="translate(60,-677)"><use transform="scale(0.707)" x="0" xlink:href="#E605-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="42" stroke="none" width="1562" x="707" y="687"></rect><g transform="translate(707,0)"><use transform="scale(0.707)" x="0" xlink:href="#E605-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="522" xlink:href="#E605-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="21"></use><use transform="scale(0.5)" x="808" xlink:href="#E605-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="654"></use><use transform="scale(0.707)" x="1025" xlink:href="#E605-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1803" xlink:href="#E605-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-597" type="math/tex">\frac{1}{\sqrt{\vec\sigma^2+\epsilon}}</script>表示逐元素的除法：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-547-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.963ex" role="img" style="vertical-align: -3.04ex;" viewbox="0 -1258.5 12556 2567.2" width="29.162ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E548-MJMATHI-68" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E548-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E548-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E548-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E548-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E548-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E548-MJMATHI-6A" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E548-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E548-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E548-MJMATHI-3BC" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E548-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E548-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E548-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E548-MJMATHI-3F5" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E548-MJSZ2-221A" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E548-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E548-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E548-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,372)"><use transform="scale(0.707)" x="0" xlink:href="#E548-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E548-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E548-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(576,-303)"><use transform="scale(0.707)" x="0" xlink:href="#E548-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E548-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E548-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2407" xlink:href="#E548-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3185,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="2389" x="0" y="220"></rect><g transform="translate(70,683)"><use transform="scale(0.707)" x="0" xlink:href="#E548-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(407,-107)"><use transform="scale(0.5)" x="0" xlink:href="#E548-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="345" xlink:href="#E548-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="623" xlink:href="#E548-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="1407" xlink:href="#E548-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1545,0)"><use transform="scale(0.707)" x="0" xlink:href="#E548-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="852" xlink:href="#E548-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-356"></use></g></g><g transform="translate(60,-718)"><use transform="scale(0.707)" x="0" xlink:href="#E548-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-60"></use><rect height="42" stroke="none" width="1562" x="707" y="728"></rect><g transform="translate(707,0)"><use transform="scale(0.707)" x="0" xlink:href="#E548-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="809" xlink:href="#E548-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.5)" x="807" xlink:href="#E548-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use><use transform="scale(0.707)" x="1025" xlink:href="#E548-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1803" xlink:href="#E548-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="6093" xlink:href="#E548-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6537" xlink:href="#E548-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7227" xlink:href="#E548-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8283" xlink:href="#E548-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8783" xlink:href="#E548-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9228" xlink:href="#E548-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9728" xlink:href="#E548-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10172" xlink:href="#E548-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11511" xlink:href="#E548-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11956" xlink:href="#E548-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-547" type="math/tex">h_{i,j}^{<1>}=\frac{h_{i,j}-\mu_j}{\sqrt{\sigma_j^2+\epsilon}},j=1,2,\cdots,n</script>。

    * 最后执行缩放：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-548-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 9316.9 1612.3" width="21.639ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E549-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E549-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E549-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E549-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E549-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E549-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E549-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E549-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E549-MJMAIN-20D7" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E549-MJMAIN-2299" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E549-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E549-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E549-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E549-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E549-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E549-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E549-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E549-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E549-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2470" xlink:href="#E549-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E549-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E549-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4291" xlink:href="#E549-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5291,0)"><use x="0" xlink:href="#E549-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E549-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E549-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E549-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E549-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E549-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="7706" xlink:href="#E549-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8707,0)"><use x="0" xlink:href="#E549-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E549-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-548" type="math/tex">\mathbf{\vec h}_i^{<2>} =\vec\gamma \odot \mathbf{\vec h}_i^{<1>}+\vec\beta</script>。其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-561-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1597.5 1361" width="3.71ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E562-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E562-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E562-MJMAIN-2C" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E562-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E562-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E562-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="543" xlink:href="#E562-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(987,0)"><use x="0" xlink:href="#E562-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E562-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-561" type="math/tex">\vec \gamma,\vec\beta</script>是网络从数据中自动学习到的参数，用于调整<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-552-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 2192.8 1612.3" width="5.093ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E553-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E553-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E553-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E553-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E553-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E553-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E553-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E553-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E553-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E553-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E553-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E553-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></svg></span><script id="MathJax-Element-552" type="math/tex">\mathbf{\vec h}_i^{<2>}</script>的均值和方差，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-551-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -655.4 778 808.1" width="1.807ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E552-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E552-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-551" type="math/tex">\odot</script>为逐元素积。

    虽然<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-552-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 2192.8 1612.3" width="5.093ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E553-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E553-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E553-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E553-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E553-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E553-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E553-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E553-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E553-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E553-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E553-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E553-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></svg></span><script id="MathJax-Element-552" type="math/tex">\mathbf{\vec h}_i^{<2>}</script>的每个维度不是零均值、单位方差的，但是可以保证它的每个维度的均值、方差不再依赖于低层的网络。


3. 归一化一个神经元的均值和标准差会降低包含该神经元的神经网络的表达能力。

若每个神经元的输出都是均值为0、标准差为 1 ，则会产生两个问题：

    * 无论底层的神经元如何学习 ，其输出在提交给上层神经元处理之前，都被粗暴的归一化。导致底层神经元的学习毫无意义。

    * `sigmoid` 等激活函数通过区分饱和区、非饱和区（线性区），使得神经网络具有非线性计算的能力。

    输入归一化使得数据几乎都被映射到激活函数的线性区，从而降低了模型的表达能力。


因此执行缩放的原因是：保证模型的容量不会被降低。

当网络学到的参数且好是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-553-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1158 8521.7 1461.5" width="19.792ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E554-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E554-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E554-MJMAIN-3D" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E554-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E554-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E554-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E554-MJMATHI-3F5" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E554-MJSZ1-221A" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E554-MJMAIN-2C" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E554-MJMATHI-3B2" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E554-MJMATHI-3BC" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E554-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E554-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="820" xlink:href="#E554-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1876,0)"><use x="0" xlink:href="#E554-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="60" stroke="none" width="2653" x="1000" y="972"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E554-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E554-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E554-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1247" xlink:href="#E554-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E554-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5530" xlink:href="#E554-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5975,0)"><use x="0" xlink:href="#E554-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E554-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g><use x="6862" xlink:href="#E554-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7918,0)"><use x="0" xlink:href="#E554-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E554-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g></g></svg></span><script id="MathJax-Element-553" type="math/tex">\vec\gamma = \sqrt{\vec\sigma^2+\epsilon},\vec\beta=\vec\mu</script>时，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-554-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 4509.3 1612.3" width="10.473ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E555-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E555-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E555-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E555-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E555-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E555-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E555-MJMAIN-3D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E555-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E555-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E555-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E555-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E555-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E555-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2470" xlink:href="#E555-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E555-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E555-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E555-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-554" type="math/tex">\mathbf{\vec h}_i^{<2>} = \mathbf{\vec h}_i</script>，因此`BN` 可以还原原来的输入。这样，模型既可以改变、也可以保持原输入，这就提升了网络的表达能力。<br></br>

4. `batch normalization` 算法

    * 输入：

        * 网络中某层的一个`mini-batch` 的输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-555-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 13158.4 1361" width="30.562ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M14 666Q14 675 26 683H344L351 679Q361 665 351 655Q344 648 317 648Q287 645 282 641Q270 637 269 623T266 497V370H511V497Q511 519 510 553Q509 615 507 626T496 641H495Q489 645 459 648Q420 648 420 665Q420 672 426 679L433 683H751Q762 676 762 666Q762 648 724 648Q684 645 677 632Q675 626 675 341Q675 57 677 52Q684 38 724 35Q762 35 762 16Q762 6 751 -1H433L426 3Q420 10 420 17Q420 35 459 35Q501 38 506 52Q511 64 511 190V323H266V190Q266 60 271 52Q276 38 317 35Q342 35 351 28Q360 17 351 3L344 -1H26Q14 5 14 16Q14 35 53 35Q94 38 99 52Q104 60 104 341T99 632Q93 645 53 648Q14 648 14 666ZM233 341V553Q233 635 239 648H131Q134 641 135 638T137 603T139 517T139 341Q139 131 138 89T132 37Q131 36 131 35H239Q233 47 233 129V341ZM639 341V489Q639 548 639 576T640 620T642 639T646 648H537L542 639Q546 625 546 341Q546 130 545 88T538 37Q537 36 537 35H646Q643 41 643 42T641 55T639 84T639 140V341Z" id="E556-MJAMS-48" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E556-MJMATHI-6D" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E556-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E556-MJMATHI-6E" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E556-MJMAIN-2212" stroke-width="0"></path><path d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z" id="E556-MJMATHI-62" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E556-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E556-MJMATHI-74" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E556-MJMATHI-63" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E556-MJMATHI-68" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E556-MJMAIN-3D" stroke-width="0"></path><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E556-MJMAIN-7B" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E556-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E556-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E556-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E556-MJMAIN-2C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E556-MJMAIN-32" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E556-MJMAIN-22EF" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E556-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E556-MJAMS-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E556-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E556-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1223" xlink:href="#E556-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1823" xlink:href="#E556-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2168" xlink:href="#E556-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2946" xlink:href="#E556-MJMATHI-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3375" xlink:href="#E556-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3903" xlink:href="#E556-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4265" xlink:href="#E556-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4697" xlink:href="#E556-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4885" xlink:href="#E556-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5940" xlink:href="#E556-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6440,0)"><use x="0" xlink:href="#E556-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E556-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E556-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="7533" xlink:href="#E556-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7978,0)"><use x="0" xlink:href="#E556-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E556-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E556-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="9070" xlink:href="#E556-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9515" xlink:href="#E556-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10853" xlink:href="#E556-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11298,0)"><use x="0" xlink:href="#E556-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E556-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E556-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12658" xlink:href="#E556-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-555" type="math/tex">\mathbb H_{mini-batch} = \{\mathbf{\vec h}_1,\mathbf{\vec h}_2,\cdots,\mathbf{\vec h}_m\}</script>
        * 参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-926-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1597.5 1361" width="3.71ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1002-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E1002-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1002-MJMAIN-2C" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1002-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1002-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E1002-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="543" xlink:href="#E1002-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(987,0)"><use x="0" xlink:href="#E1002-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E1002-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-926" type="math/tex">\vec\gamma,\vec\beta</script>（它们是由神经网络自动学习到的）

    * 输出：经过`batch normalization` 得到的新的输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-557-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 16191.9 1612.3" width="37.607ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M14 666Q14 675 26 683H344L351 679Q361 665 351 655Q344 648 317 648Q287 645 282 641Q270 637 269 623T266 497V370H511V497Q511 519 510 553Q509 615 507 626T496 641H495Q489 645 459 648Q420 648 420 665Q420 672 426 679L433 683H751Q762 676 762 666Q762 648 724 648Q684 645 677 632Q675 626 675 341Q675 57 677 52Q684 38 724 35Q762 35 762 16Q762 6 751 -1H433L426 3Q420 10 420 17Q420 35 459 35Q501 38 506 52Q511 64 511 190V323H266V190Q266 60 271 52Q276 38 317 35Q342 35 351 28Q360 17 351 3L344 -1H26Q14 5 14 16Q14 35 53 35Q94 38 99 52Q104 60 104 341T99 632Q93 645 53 648Q14 648 14 666ZM233 341V553Q233 635 239 648H131Q134 641 135 638T137 603T139 517T139 341Q139 131 138 89T132 37Q131 36 131 35H239Q233 47 233 129V341ZM639 341V489Q639 548 639 576T640 620T642 639T646 648H537L542 639Q546 625 546 341Q546 130 545 88T538 37Q537 36 537 35H646Q643 41 643 42T641 55T639 84T639 140V341Z" id="E558-MJAMS-48" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E558-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E558-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E558-MJMAIN-3E" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E558-MJMATHI-6D" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E558-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E558-MJMATHI-6E" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E558-MJMAIN-2212" stroke-width="0"></path><path d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z" id="E558-MJMATHI-62" stroke-width="0"></path><path d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" id="E558-MJMATHI-61" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E558-MJMATHI-74" stroke-width="0"></path><path d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" id="E558-MJMATHI-63" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E558-MJMATHI-68" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E558-MJMAIN-3D" stroke-width="0"></path><path d="M434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231Z" id="E558-MJMAIN-7B" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E558-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E558-MJMAINB-20D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E558-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E558-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E558-MJMAIN-22EF" stroke-width="0"></path><path d="M65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731Z" id="E558-MJMAIN-7D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E558-MJAMS-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,409)"><use transform="scale(0.707)" x="0" xlink:href="#E558-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E558-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E558-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(778,-290)"><use transform="scale(0.707)" x="0" xlink:href="#E558-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="878" xlink:href="#E558-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1223" xlink:href="#E558-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1823" xlink:href="#E558-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2168" xlink:href="#E558-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2946" xlink:href="#E558-MJMATHI-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3375" xlink:href="#E558-MJMATHI-61" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3903" xlink:href="#E558-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4265" xlink:href="#E558-MJMATHI-63" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4697" xlink:href="#E558-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4885" xlink:href="#E558-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5940" xlink:href="#E558-MJMAIN-7B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6440,0)"><use x="0" xlink:href="#E558-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E558-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E558-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E558-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E558-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E558-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="8633" xlink:href="#E558-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9078,0)"><use x="0" xlink:href="#E558-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E558-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E558-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E558-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E558-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E558-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="11271" xlink:href="#E558-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11715" xlink:href="#E558-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13054" xlink:href="#E558-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13499,0)"><use x="0" xlink:href="#E558-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E558-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E558-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E558-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E558-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E558-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="15691" xlink:href="#E558-MJMAIN-7D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-557" type="math/tex">\mathbb H_{mini-batch}^{<2>} = \{\mathbf{\vec h}_1^{<2>},\mathbf{\vec h}_2^{<2>},\cdots,\mathbf{\vec h}_m^{<2>}\}</script>

    * 算法步骤：

        * 计算输入的每个维度的均值和方差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1902-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="14.251ex" role="img" style="vertical-align: -10.394ex;" viewbox="0 -1660.6 35684 6135.6" width="82.879ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2069-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2069-MJMAIN-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2069-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2069-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2069-MJMATHI-6D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2069-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2069-MJMATHI-69" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2069-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2069-MJMAINB-20D7" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2069-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2069-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2069-MJMAIN-28" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2069-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2069-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2069-MJMATHI-6E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2069-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2069-MJMATHI-54" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2069-MJMATHI-6A" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E2069-MJMATHI-68" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2069-MJMAIN-2212" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(14874,0)"><use x="0" xlink:href="#E2069-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2069-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use><use x="880" xlink:href="#E2069-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1658,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2069-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2069-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3341,0)"><use x="0" xlink:href="#E2069-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2069-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2069-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2069-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2069-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4951,0)"><use x="0" xlink:href="#E2069-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2069-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2069-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(7310,-3190)"><use x="0" xlink:href="#E2069-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2069-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1303" xlink:href="#E2069-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2359" xlink:href="#E2069-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2748,0)"><use x="0" xlink:href="#E2069-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2069-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="3774" xlink:href="#E2069-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4218,0)"><use x="0" xlink:href="#E2069-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-434"></use></g><use x="5244" xlink:href="#E2069-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5689" xlink:href="#E2069-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7027" xlink:href="#E2069-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7472,0)"><use x="0" xlink:href="#E2069-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2069-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-211"></use></g><g transform="translate(8567,0)"><use x="0" xlink:href="#E2069-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2069-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="9554" xlink:href="#E2069-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10999,0)"><use x="0" xlink:href="#E2069-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2069-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><use x="12302" xlink:href="#E2069-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13080,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2069-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2069-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(14763,0)"><use x="0" xlink:href="#E2069-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2069-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2069-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2069-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2069-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="16207" xlink:href="#E2069-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16596,0)"><use x="0" xlink:href="#E2069-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2069-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2069-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2069-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="18226" xlink:href="#E2069-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19226,0)"><use x="0" xlink:href="#E2069-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2069-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(20221,0)"><use x="0" xlink:href="#E2069-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2069-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></g></svg></span></span><script id="MathJax-Element-1902" type="math/tex; mode=display">\vec \mu= \frac 1m \sum_{i=1}^m \mathbf{\vec h}_i\\ \vec\sigma ^2 = (\sigma_{1}^2,\sigma_{2}^2,\cdots,\sigma_{n}^2)^T,\quad \sigma_{j}^2 = \frac 1m \sum_{i=1}^m (h_{i,j}-\mu_{j})^2</script>
        * 对输入的每个维度执行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1903-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.13ex" role="img" style="vertical-align: -3.04ex;" viewbox="0 -1761.1 7540.4 3069.8" width="17.513ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2070-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2070-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2070-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2070-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2070-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2070-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2070-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2070-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2070-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2070-MJMAIN-20D7" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2070-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2070-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2070-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2070-MJMATHI-3F5" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2070-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2070-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2070-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2070-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2070-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2070-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2070-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2470" xlink:href="#E2070-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3248,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3773" x="0" y="220"></rect><g transform="translate(482,681)"><use x="0" xlink:href="#E2070-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2070-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2070-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1205" xlink:href="#E2070-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2205,0)"><use x="0" xlink:href="#E2070-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2070-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g></g><g transform="translate(60,-1059)"><use x="0" xlink:href="#E2070-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="60" stroke="none" width="2653" x="1000" y="972"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2070-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2070-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2070-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1247" xlink:href="#E2070-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E2070-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1903" type="math/tex; mode=display">\mathbf{\vec h}_i^{<1>} = \frac{\mathbf{\vec h}_i-\vec\mu}{\sqrt{\vec\sigma^2+\epsilon}}</script>
        * 执行缩放：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-558-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 9316.9 1612.3" width="21.639ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E559-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E559-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E559-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E559-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E559-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E559-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E559-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E559-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E559-MJMAIN-20D7" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E559-MJMAIN-2299" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E559-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E559-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E559-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E559-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E559-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E559-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E559-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E559-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E559-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2470" xlink:href="#E559-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E559-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E559-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4291" xlink:href="#E559-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5291,0)"><use x="0" xlink:href="#E559-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E559-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E559-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E559-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E559-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E559-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="7706" xlink:href="#E559-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8707,0)"><use x="0" xlink:href="#E559-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E559-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-558" type="math/tex">\mathbf{\vec h}_i^{<2>} = \vec\gamma \odot \mathbf{\vec h}_i^{<1>}+\vec\beta</script>



5. 根据梯度的链式法则，反向传播规则为（假设代价函数为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-559-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 690 908.7" width="1.603ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E560-MJCAL-4C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E560-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-559" type="math/tex">\mathcal L</script>）：

    * <span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-560-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -1.756ex;" viewbox="0 -806.1 9446.1 1562" width="21.939ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E561-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E561-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E561-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E561-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E561-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E561-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E561-MJMATHI-69" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E561-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E561-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E561-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E561-MJMAIN-20D7" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E561-MJMAIN-2299" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E561-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E561-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E561-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E561-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E561-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E561-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E561-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E561-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="2483" xlink:href="#E561-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3451" xlink:href="#E561-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4507,0)"><use x="0" xlink:href="#E561-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E561-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="5272" xlink:href="#E561-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6272,0)"><use x="0" xlink:href="#E561-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E561-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E561-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E561-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E561-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E561-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E561-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="8756" xlink:href="#E561-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-560" type="math/tex">\nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L = \vec\gamma \odot \nabla_{\mathbf{\vec h}_i^{<2>}} \mathcal L</script><br></br>

    * 考虑到<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-561-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1597.5 1361" width="3.71ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E562-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E562-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E562-MJMAIN-2C" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E562-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E562-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E562-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="543" xlink:href="#E562-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(987,0)"><use x="0" xlink:href="#E562-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E562-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-561" type="math/tex">\vec \gamma,\vec\beta</script>出现在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-564-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 6613.6 1612.3" width="15.361ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E565-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E565-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E565-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E565-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E565-MJMAIN-3E" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E565-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E565-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E565-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E565-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E565-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E565-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E565-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E565-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E565-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E565-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2192" xlink:href="#E565-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2637" xlink:href="#E565-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3976" xlink:href="#E565-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4420,0)"><use x="0" xlink:href="#E565-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E565-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E565-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E565-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E565-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E565-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g></svg></span><script id="MathJax-Element-564" type="math/tex">\mathbf{\vec h}_1^{<2>} ,\cdots, \mathbf{\vec h}_m^{<2>}</script>中，因此有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1904-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 21792.4 2919" width="50.615ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2071-MJMAIN-2207" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2071-MJMATHI-3B2" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2071-MJMAIN-20D7" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E2071-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2071-MJMAIN-3D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2071-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2071-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2071-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2071-MJMATHI-6D" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2071-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2071-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2071-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2071-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2071-MJMAIN-3E" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2071-MJMAIN-2C" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E2071-MJMATHI-3B3" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2071-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2071-MJMAIN-29" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2071-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2071-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="644" xlink:href="#E2071-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g><use x="1388" xlink:href="#E2071-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2356" xlink:href="#E2071-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3412,0)"><use x="0" xlink:href="#E2071-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2071-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2071-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2071-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(5022,0)"><use x="0" xlink:href="#E2071-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2071-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2071-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2071-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2071-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2071-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="7506" xlink:href="#E2071-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8196" xlink:href="#E2071-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9641,0)"><use x="0" xlink:href="#E2071-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-183)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E2071-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="31"></use></g></g><use x="10958" xlink:href="#E2071-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11925" xlink:href="#E2071-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12981,0)"><use x="0" xlink:href="#E2071-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2071-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2071-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2071-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="14425" xlink:href="#E2071-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14814,0)"><use x="0" xlink:href="#E2071-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2071-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2071-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2071-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2071-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2071-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="17298" xlink:href="#E2071-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17988" xlink:href="#E2071-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18599" xlink:href="#E2071-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19599,0)"><use x="0" xlink:href="#E2071-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2071-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2071-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2071-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2071-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2071-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g></svg></span></span><script id="MathJax-Element-1904" type="math/tex; mode=display">\nabla_{\vec\beta} \mathcal L = \sum_{i=1}^m \nabla_{\mathbf{\vec h}_i^{<2>}} \mathcal L,\quad \nabla_{\vec \gamma} \mathcal L = \sum_{i=1}^m (\nabla_{\mathbf{\vec h}_i^{<2>}} \mathcal L)\odot \mathbf{\vec h}_i^{<1>}</script>
    * 由于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-563-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -956.9 2073.2 1260.5" width="4.815ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E564-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E564-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E564-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E564-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E564-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E564-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E564-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use><use x="603" xlink:href="#E564-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1047,0)"><use x="0" xlink:href="#E564-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E564-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E564-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use></g></g></svg></span><script id="MathJax-Element-563" type="math/tex">\vec\mu,\vec\sigma^2</script>出现在<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-564-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.745ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1258.5 6613.6 1612.3" width="15.361ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E565-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E565-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E565-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E565-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E565-MJMAIN-3E" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E565-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E565-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E565-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E565-MJMATHI-6D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E565-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E565-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E565-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E565-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E565-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E565-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2192" xlink:href="#E565-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2637" xlink:href="#E565-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3976" xlink:href="#E565-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4420,0)"><use x="0" xlink:href="#E565-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E565-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E565-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E565-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E565-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E565-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g></svg></span><script id="MathJax-Element-564" type="math/tex">\mathbf{\vec h}_1^{<2>} ,\cdots, \mathbf{\vec h}_m^{<2>}</script>中，因此有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1905-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="16.935ex" role="img" style="vertical-align: -11.911ex;" viewbox="0 -2163.1 37191.8 7291.6" width="86.381ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2072-MJMAIN-2207" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2072-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2072-MJMAIN-20D7" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E2072-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2072-MJMAIN-3D" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2072-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2072-MJMATHI-69" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2072-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2072-MJMATHI-6D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2072-MJMAIN-28" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2072-MJMAIN-2202" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2072-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2072-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2072-MJMAIN-3C" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2072-MJMAIN-3E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2072-MJMAIN-29" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2072-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2072-MJSZ4-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2072-MJMATHI-54" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2072-MJMAIN-2212" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2072-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2072-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2072-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2072-MJMATHI-3F5" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2072-MJSZ1-221A" stroke-width="0"></path><path d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" id="E2072-MJMAIN-33" stroke-width="0"></path><path d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" id="E2072-MJMAIN-2F" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2072-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(7993,0)"><use x="0" xlink:href="#E2072-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-184)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="576" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="32"></use></g><use x="1359" xlink:href="#E2072-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2327" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3382,0)"><use x="0" xlink:href="#E2072-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2072-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4993,0)"><use xlink:href="#E2072-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2072-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2072-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(854,-686)"><use x="0" xlink:href="#E2072-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2072-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g></g></g></g><use x="3911" xlink:href="#E2072-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6652" xlink:href="#E2072-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2297"></use></g><g transform="translate(10295,0)"><use x="0" xlink:href="#E2072-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2072-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2072-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="12778" xlink:href="#E2072-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13746" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14802,0)"><use x="0" xlink:href="#E2072-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2072-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="16412" xlink:href="#E2072-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17190,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3773" x="0" y="220"></rect><g transform="translate(300,1156)"><use x="0" xlink:href="#E2072-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2072-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2072-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="2483" xlink:href="#E2072-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-1059)"><use x="0" xlink:href="#E2072-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="60" stroke="none" width="2653" x="1000" y="972"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2072-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2072-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1247" xlink:href="#E2072-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E2072-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g><g transform="translate(4357,-3785)"><use x="0" xlink:href="#E2072-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-316)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="522" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="21"></use><use transform="scale(0.5)" x="808" xlink:href="#E2072-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="654"></use></g><use x="1658" xlink:href="#E2072-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2625" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3681,0)"><use x="0" xlink:href="#E2072-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2072-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(5292,0)"><use xlink:href="#E2072-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2072-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2072-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(643,-868)"><use x="0" xlink:href="#E2072-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2072-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2072-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use></g></g></g></g><use x="3911" xlink:href="#E2072-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6652" xlink:href="#E2072-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2297"></use></g><g transform="translate(10594,0)"><use x="0" xlink:href="#E2072-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2072-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2072-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="13077" xlink:href="#E2072-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14045" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15101,0)"><use x="0" xlink:href="#E2072-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2072-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="582" xlink:href="#E2072-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="16711" xlink:href="#E2072-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17489,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2072-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(18349,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="4712" x="0" y="220"></rect><g transform="translate(952,681)"><use x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1205" xlink:href="#E2072-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2205,0)"><use x="0" xlink:href="#E2072-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g></g><g transform="translate(60,-868)"><use x="0" xlink:href="#E2072-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E2072-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2072-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2072-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use></g><use x="1636" xlink:href="#E2072-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2636" xlink:href="#E2072-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3042,0)"><use x="0" xlink:href="#E2072-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,288)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAIN-33" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E2072-MJMAIN-2F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1000" xlink:href="#E2072-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g><use x="23524" xlink:href="#E2072-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="24524" xlink:href="#E2072-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(24913,0)"><use x="0" xlink:href="#E2072-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2072-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2072-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2072-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2072-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2072-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2072-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="27397" xlink:href="#E2072-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="28087" xlink:href="#E2072-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1905" type="math/tex; mode=display">\nabla_{\vec\mu} \mathcal L= \sum_{i=1}^m\left (\frac{\partial \mathbf{\vec h}_i^{<1>} }{\partial \vec\mu}\right)^T \nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L= \sum_{i=1}^m - \frac{\nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L}{\sqrt{\vec\sigma^2+\epsilon}}\\ \nabla_{\vec\sigma^2} \mathcal L = \sum_{i=1}^m\left (\frac{\partial \mathbf{\vec h}_i^{<1>} }{\partial \vec\sigma^2}\right)^T \nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L= \sum_{i=1}^m -\frac 12 \frac{\mathbf{\vec h}_i-\vec\mu}{(\vec\sigma^2+\epsilon)^{3/2}}\odot (\nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L)</script>
    * 由于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-565-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 983 1310.7" width="2.283ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E566-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E566-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E566-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E566-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E566-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E566-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-565" type="math/tex">\mathbf{\vec h}_i</script>出现在多条路径中，因此有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1906-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="16.235ex" role="img" style="vertical-align: -11.211ex;" viewbox="0 -2163.1 37191.8 6990" width="86.381ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2073-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2073-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2073-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2073-MJMATHI-69" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E2073-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2073-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2073-MJMAIN-28" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2073-MJMAIN-2202" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2073-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2073-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2073-MJMAIN-3E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2073-MJMAIN-29" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2073-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2073-MJSZ4-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2073-MJMATHI-54" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2073-MJMAIN-2B" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2073-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2073-MJMAIN-20D7" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2073-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2073-MJMAIN-32" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2073-MJMATHI-3F5" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2073-MJSZ1-221A" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" id="E2073-MJMATHI-6D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2073-MJMAIN-2212" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2073-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(4998,0)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.5)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1628" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2595" xlink:href="#E2073-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3651,0)"><use xlink:href="#E2073-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2073-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2073-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2073-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(664,-946)"><use x="0" xlink:href="#E2073-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="3911" xlink:href="#E2073-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6652" xlink:href="#E2073-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2297"></use></g><g transform="translate(8953,0)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2073-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2073-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2073-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="11436" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12348" xlink:href="#E2073-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13349,0)"><use xlink:href="#E2073-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1669" x="0" y="220"></rect><g transform="translate(249,681)"><use x="0" xlink:href="#E2073-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2073-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g></g><g transform="translate(60,-946)"><use x="0" xlink:href="#E2073-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="2701" xlink:href="#E2073-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4941" xlink:href="#E2073-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2088"></use></g><g transform="translate(17440,0)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-184)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="576" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="32"></use></g></g><use x="18800" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19712" xlink:href="#E2073-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(20712,0)"><use xlink:href="#E2073-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1712" x="0" y="220"></rect><g transform="translate(60,676)"><use x="0" xlink:href="#E2073-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2073-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2073-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use></g></g><g transform="translate(81,-946)"><use x="0" xlink:href="#E2073-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="2744" xlink:href="#E2073-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5001" xlink:href="#E2073-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2088"></use></g><g transform="translate(24847,0)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-316)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="522" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="21"></use><use transform="scale(0.5)" x="808" xlink:href="#E2073-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="654"></use></g></g><use x="26505" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(9436,-3542)"><use x="0" xlink:href="#E2073-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3773" x="0" y="220"></rect><g transform="translate(300,1156)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2073-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2073-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2073-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="2483" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-1059)"><use x="0" xlink:href="#E2073-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="60" stroke="none" width="2653" x="1000" y="972"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2073-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2073-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1247" xlink:href="#E2073-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E2073-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="5291" xlink:href="#E2073-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6069,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="2169" x="0" y="220"></rect><g transform="translate(60,801)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-184)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="576" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="32"></use></g><use x="1359" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="645" xlink:href="#E2073-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><use x="8923" xlink:href="#E2073-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9701,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="998" x="0" y="220"></rect><use x="249" xlink:href="#E2073-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2073-MJMATHI-6D" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><use x="11162" xlink:href="#E2073-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11551,0)"><use x="0" xlink:href="#E2073-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2073-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2073-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="12756" xlink:href="#E2073-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13756,0)"><use x="0" xlink:href="#E2073-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g><use x="14359" xlink:href="#E2073-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14970" xlink:href="#E2073-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15970,0)"><use x="0" xlink:href="#E2073-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-316)"><use transform="scale(0.707)" x="0" xlink:href="#E2073-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="522" xlink:href="#E2073-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="21"></use><use transform="scale(0.5)" x="808" xlink:href="#E2073-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="654"></use></g></g><use x="17629" xlink:href="#E2073-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1906" type="math/tex; mode=display">\nabla_{\mathbf{\vec h}_i} \mathcal L= \left(\frac{\partial \mathbf{\vec h}_i^{<1>}}{\partial \mathbf{\vec h}_i}\right)^T\nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L + \left(\frac{\partial \vec\mu}{\partial \mathbf{\vec h}_i}\right)^T\nabla_{\vec\mu} \mathcal L + \left(\frac{\partial \vec\sigma^2}{\partial \mathbf{\vec h}_i}\right)^T\nabla_{\vec\sigma^2} \mathcal L\\ = \frac{\nabla_{\mathbf{\vec h}_i^{<1>}} \mathcal L}{\sqrt{\vec\sigma^2+\epsilon}}+\frac{\nabla_{\vec\mu} \mathcal L}{m}+\frac 2m (\mathbf{\vec h}_i-\vec\mu)\odot \nabla_{\vec\sigma^2} \mathcal L</script>
    ![](../imgs/dl_optimization/bn.png)


6. 大多数神经网络隐层采用<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-566-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 5293.4 1361" width="12.294ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z" id="E567-MJMATHI-3D5" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E567-MJMAIN-28" stroke-width="0"></path><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E567-MJMAINB-58" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E567-MJMAINB-57" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E567-MJMAIN-2B" stroke-width="0"></path><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E567-MJMAINB-62" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E567-MJMAINB-20D7" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E567-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E567-MJMATHI-3D5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="596" xlink:href="#E567-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="985" xlink:href="#E567-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1854" xlink:href="#E567-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3265" xlink:href="#E567-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4265,0)"><use x="0" xlink:href="#E567-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E567-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g><use x="4904" xlink:href="#E567-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-566" type="math/tex">\phi(\mathbf X\mathbf W+\mathbf{\vec b})</script>的形式，其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-567-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -755.9 596 1059.4" width="1.384ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z" id="E568-MJMATHI-3D5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E568-MJMATHI-3D5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-567" type="math/tex">\phi</script>是非线性激励函数（如`relu`）。

在`batch normalization` 中推荐使用<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-568-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 3432 1109.7" width="7.971ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z" id="E569-MJMATHI-3D5" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E569-MJMAIN-28" stroke-width="0"></path><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E569-MJMAINB-58" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E569-MJMAINB-57" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E569-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E569-MJMATHI-3D5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="596" xlink:href="#E569-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="985" xlink:href="#E569-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1854" xlink:href="#E569-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3043" xlink:href="#E569-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-568" type="math/tex">\phi(\mathbf X\mathbf W)</script>，因为参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-571-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 639 1160" width="1.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E572-MJMAINB-62" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E572-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E572-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E572-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></svg></span><script id="MathJax-Element-571" type="math/tex">\mathbf{\vec b}</script>会被 `batch normalization` 中的参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-570-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 609.9 1310.7" width="1.416ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E571-MJMATHI-3B2" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E571-MJMAIN-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E571-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E571-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></svg></span><script id="MathJax-Element-570" type="math/tex">\vec\beta</script>吸收：无论<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-571-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -1057.4 639 1160" width="1.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105Z" id="E572-MJMAINB-62" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E572-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E572-MJMAINB-62" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E572-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></svg></span><script id="MathJax-Element-571" type="math/tex">\mathbf{\vec b}</script>的值是多少，在归一化的过程中它将被减去。


#### 10.1.4 BN 内部原理

1. `BN` 表现良好的一个解释是：内部协方差偏移`Internal Covariate Shift:ICS` 会对训练产生负面影响，`BN` 能够减少`ICS`。

2. 内部协方差偏移：低层网络的更新对当前层输入分布造成了改变。

统计学习中一个经典假设是源空间`source domain` 和目标空间`target domain` 的数据分布一致。协方差偏移`covariate shift` 就是分布不一致假设之下的一个分支问题。它指的是：源空间和目标空间的条件概率是一致的，但是其边缘概率不同。即：对所有的<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-602-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 2601.6 858.4" width="6.042ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E610-MJMATHI-78" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E610-MJMAIN-2208" stroke-width="0"></path><path d="M324 614Q291 576 250 573Q231 573 231 584Q231 589 232 592Q235 601 244 614T271 643T324 671T400 683H403Q462 683 481 610Q485 594 490 545T498 454L501 413Q504 413 551 442T648 509T705 561Q707 565 707 578Q707 610 682 614Q667 614 667 626Q667 641 695 662T755 683Q765 683 775 680T796 662T807 623Q807 596 792 572T713 499T530 376L505 361V356Q508 346 511 278T524 148T557 75Q569 69 580 69Q585 69 593 77Q624 108 660 110Q667 110 670 110T676 106T678 94Q668 59 624 30T510 0Q487 0 471 9T445 32T430 71T422 117T417 173Q416 183 416 188Q413 214 411 244T407 286T405 299Q403 299 344 263T223 182T154 122Q152 118 152 105Q152 69 180 69Q183 69 187 66T191 60L192 58V56Q192 41 163 21T105 0Q94 0 84 3T63 21T52 60Q52 77 56 90T85 131T155 191Q197 223 259 263T362 327T402 352L391 489Q391 492 390 505T387 526T384 547T379 568T372 586T361 602T348 611Q346 612 341 613T333 614H324Z" id="E610-MJCAL-58" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E610-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="849" xlink:href="#E610-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1794" xlink:href="#E610-MJCAL-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-602" type="math/tex">x \in \mathcal X</script>，有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-603-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 13668.7 1109.7" width="31.747ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E611-MJMATHI-50" stroke-width="0"></path><path d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z" id="E611-MJMATHI-73" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E611-MJMAIN-28" stroke-width="0"></path><path d="M66 637Q54 637 49 637T39 638T32 641T30 647T33 664T42 682Q44 683 56 683Q104 680 165 680Q288 680 306 683H316Q322 677 322 674T320 656Q316 643 310 637H298Q242 637 242 624Q242 619 292 477T343 333L346 336Q350 340 358 349T379 373T411 410T454 461Q546 568 561 587T577 618Q577 634 545 637Q528 637 528 647Q528 649 530 661Q533 676 535 679T549 683Q551 683 578 682T657 680Q684 680 713 681T746 682Q763 682 763 673Q763 669 760 657T755 643Q753 637 734 637Q662 632 617 587Q608 578 477 424L348 273L322 169Q295 62 295 57Q295 46 363 46Q379 46 384 45T390 35Q390 33 388 23Q384 6 382 4T366 1Q361 1 324 1T232 2Q170 2 138 2T102 1Q84 1 84 9Q84 14 87 24Q88 27 89 30T90 35T91 39T93 42T96 44T101 45T107 45T116 46T129 46Q168 47 180 50T198 63Q201 68 227 171L252 274L129 623Q128 624 127 625T125 627T122 629T118 631T113 633T105 634T96 635T83 636T66 637Z" id="E611-MJMATHI-59" stroke-width="0"></path><path d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z" id="E611-MJMAIN-2223" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E611-MJMATHI-58" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E611-MJMAIN-3D" stroke-width="0"></path><path d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z" id="E611-MJMATHI-78" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E611-MJMAIN-29" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E611-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E611-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="907" xlink:href="#E611-MJMATHI-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1073" xlink:href="#E611-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1462" xlink:href="#E611-MJMATHI-59" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2503" xlink:href="#E611-MJMAIN-2223" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3059" xlink:href="#E611-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4188" xlink:href="#E611-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5244" xlink:href="#E611-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5816" xlink:href="#E611-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6483" xlink:href="#E611-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7539,0)"><use x="0" xlink:href="#E611-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="907" xlink:href="#E611-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="8536" xlink:href="#E611-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8925" xlink:href="#E611-MJMATHI-59" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9966" xlink:href="#E611-MJMAIN-2223" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10522" xlink:href="#E611-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11651" xlink:href="#E611-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12707" xlink:href="#E611-MJMATHI-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13279" xlink:href="#E611-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-603" type="math/tex">P_s(Y\mid X=x) = P_t(Y\mid X=x)</script>，但是<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-604-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 6664.5 1109.7" width="15.479ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z" id="E612-MJMATHI-50" stroke-width="0"></path><path d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z" id="E612-MJMATHI-73" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E612-MJMAIN-28" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E612-MJMATHI-58" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E612-MJMAIN-29" stroke-width="0"></path><path d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z" id="E612-MJMAIN-2260" stroke-width="0"></path><path d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" id="E612-MJMATHI-74" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E612-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="907" xlink:href="#E612-MJMATHI-73" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1073" xlink:href="#E612-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1462" xlink:href="#E612-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2314" xlink:href="#E612-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2981" xlink:href="#E612-MJMAIN-2260" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4037,0)"><use x="0" xlink:href="#E612-MJMATHI-50" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="907" xlink:href="#E612-MJMATHI-74" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5034" xlink:href="#E612-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5423" xlink:href="#E612-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6275" xlink:href="#E612-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-604" type="math/tex">P_s(X) \ne P_t(X)</script>。

在神经网络中经过各层的作用，各层输出与其输入分布会不同。这种差异随着网络深度的增大而增大，但是它们能够“指示”的样本标记仍然不变，这就符合`covariate shift` 的定义。

由于是对层间信号的分析，这就是`internal` 的由来。

`ICS` 带来的问题是：各个神经元的输入数据不再是独立同分布的。

    * 上层参数需要不断适应新的输入数据分布，降低了学习速度。
    * 下层输入的变化可能趋向于变大或者变小，导致上层落入饱和区，使得学习过早停止。
    * 每层的更新都会影响到其它层，因此每层的参数更新策略需要尽可能的谨慎。

3. 论文`《How Does Batch Normalization Help Optimization》 2018 Shibani Santurkar etc.` 说明`BN` 对训练带来的增益与`ICS` 的减少没有任何联系，或者说这种联系非常脆弱。研究发现：`BN` 甚至不会减少`ICS` 。

论文说明 `BN` 的成功的真正原因是：它使得优化问题的解空间更加平滑了。这确保梯度更具有预测性，从而允许使用更大范围的学习率，实现更快的网络收敛。


#### 10.1.5 BN 性质

1. `BN` 独立地归一化每个输入维度，它要求每个`mini batch` 的统计量是整体统计量的近似估计。

因此`BN` 要求每个`mini-batch` 都比较大，而且每个`mini-batch` 的数据分布比较接近。所以在训练之前，需要对数据集进行充分混洗，否则效果可能很差。

2. 当验证或者测试的`batch size` 较小时（如：只有一个测试样本），此时无法得到`mini batch` 的统计量，或者`mini batch` 统计量无法作为整体统计量的近似估计。

此时的做法是：先通过训练集上得到的所有 `mini batch` 的统计量的移动平均值，然后将它们作为验证或者测试时的`mini batch` 的统计量。

但是当训练数据、验证数据、测试数据的数据分布存在差别时（如：训练数据从网上爬取的高清图片，测试数据是手机拍照的图片），训练集上预先计算好的`mini batch` 的统计量的移动平均值并不能代表验证集、测试集的相应的统计量。这就导致了训练、验证、测试三个阶段存在不一致性。

3. `BN` 存在两个明显不足：

    * 高度依赖于`mini batch` 的大小。它要求每个`mini-batch` 都比较大，因此不适合`batch size` 较小的场景，如：在线学习（`batch size=1` ）。

    * 不适合`RNN` 网络。

    因为不同样本的 `sequence` 的长度不同，因此`RNN` 的深度是不固定的。同一个`batch` 中的多个样本会产生不同深度的`RNN`，因此很难对同一层的样本进行归一化。


4. 设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-572-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1057.4 4456.5 1310.7" width="10.351ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E573-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E573-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E573-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E573-MJMAIN-3D" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E573-MJMAINB-57" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E573-MJMAINB-78" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E573-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E573-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E573-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1260" xlink:href="#E573-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2316" xlink:href="#E573-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3505,0)"><use x="0" xlink:href="#E573-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E573-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E573-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-572" type="math/tex">\mathbf{\vec h}_i= \mathbf W \mathbf{\vec x}_i</script>，则`BN` 具有权重伸缩不变性，以及数据伸缩不变性。

    * 权重伸缩不变性：假设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-573-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -956.9 4294.6 1059.4" width="9.974ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E574-MJMAINB-57" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E574-MJMAIN-7E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E574-MJMAIN-3D" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E574-MJMATHI-3BB" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E574-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="344" xlink:href="#E574-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="546"></use><use x="1466" xlink:href="#E574-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2522" xlink:href="#E574-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3105" xlink:href="#E574-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-573" type="math/tex">\tilde {\mathbf W}=\lambda\mathbf W</script>，则有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1907-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1258.5 14315.6 1562" width="33.249ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2074-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2074-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E2074-MJMAIN-7E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2074-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2074-MJMAIN-3D" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2074-MJMATHI-3BB" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2074-MJMAIN-2C" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2074-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2074-MJMAIN-20D7" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2074-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2074-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2074-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2074-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="69" xlink:href="#E2074-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="839"></use><use transform="scale(0.707)" x="903" xlink:href="#E2074-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1260" xlink:href="#E2074-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2316" xlink:href="#E2074-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2899,0)"><use x="0" xlink:href="#E2074-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2074-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use transform="scale(0.707)" x="903" xlink:href="#E2074-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3882" xlink:href="#E2074-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5327,0)"><use x="0" xlink:href="#E2074-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2074-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use><use x="79" xlink:href="#E2074-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="575"></use></g><use x="6207" xlink:href="#E2074-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7263" xlink:href="#E2074-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7846,0)"><use x="0" xlink:href="#E2074-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E2074-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use></g><use x="8449" xlink:href="#E2074-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9894,0)"><use x="0" xlink:href="#E2074-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2074-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use x="36" xlink:href="#E2074-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="564"></use><use transform="scale(0.707)" x="808" xlink:href="#E2074-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="11197" xlink:href="#E2074-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12253,0)"><use x="0" xlink:href="#E2074-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="824" xlink:href="#E2074-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><g transform="translate(13290,0)"><use x="0" xlink:href="#E2074-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2074-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2074-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span></span><script id="MathJax-Element-1907" type="math/tex; mode=display">\tilde{\mathbf{\vec h}}_i = \lambda \mathbf{\vec h}_i,\quad \tilde{\vec \mu} = \lambda\vec\mu,\quad \tilde{\vec\sigma}_2 = \lambda^2 \vec\sigma_2</script>
    其中因为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-574-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 406 607.1" width="0.943ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E575-MJMATHI-3F5" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E575-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-574" type="math/tex">\epsilon</script>很小几乎可以忽略不计，因此有<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-575-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="4.095ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1409.3 5719.2 1763.1" width="13.283ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E576-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E576-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E576-MJMAIN-7E" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E576-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E576-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E576-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E576-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E576-MJMAIN-3D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E576-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E576-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="69" xlink:href="#E576-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="839"></use><g transform="translate(639,884)"><use transform="scale(0.707)" x="0" xlink:href="#E576-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E576-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E576-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E576-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use><use x="2470" xlink:href="#E576-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E576-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E576-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E576-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E576-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E576-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E576-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g></svg></span><script id="MathJax-Element-575" type="math/tex">\tilde{\mathbf{\vec h}}_i^{<1>} = \mathbf{\vec h}_i^{<1>}</script>，则有：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-576-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.978ex" role="img" style="vertical-align: -2.106ex;" viewbox="0 -806.1 7680.7 1712.8" width="17.839ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E577-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E577-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E577-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E577-MJMAIN-7E" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E577-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E577-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E577-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E577-MJMATHI-69" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E577-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E577-MJMAIN-3D" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E577-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-659)"><use transform="scale(0.707)" x="0" xlink:href="#E577-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E577-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.707)" x="69" xlink:href="#E577-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="902"></use><g transform="translate(451,669)"><use transform="scale(0.5)" x="0" xlink:href="#E577-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E577-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E577-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E577-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g><use x="2483" xlink:href="#E577-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3451" xlink:href="#E577-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4507,0)"><use x="0" xlink:href="#E577-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E577-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E577-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E577-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E577-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E577-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E577-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><use x="6990" xlink:href="#E577-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-576" type="math/tex">\nabla_{\tilde{\mathbf{\vec h}}_i^{<1>} }\mathcal L = \nabla_{ \mathbf{\vec h}_i^{<1>}} \mathcal L</script>。
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1908-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="9.465ex" role="img" style="vertical-align: -4.44ex;" viewbox="0 -2163.1 18268.3 4075" width="42.43ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2075-MJMAIN-2202" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2075-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2075-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E2075-MJMAIN-7E" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2075-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2075-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2075-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2075-MJMATHI-69" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2075-MJMAINB-78" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2075-MJMAIN-3D" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E2075-MJMAINB-57" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2075-MJMATHI-3C3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2075-MJMAIN-20D7" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2075-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2075-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2075-MJMATHI-3F5" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E2075-MJSZ2-221A" stroke-width="0"></path><path d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z" id="E2075-MJSZ1-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2075-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2075-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2075-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="69" xlink:href="#E2075-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="839"></use><g transform="translate(639,884)"><use transform="scale(0.707)" x="0" xlink:href="#E2075-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2075-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2075-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2075-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(680,-696)"><use x="0" xlink:href="#E2075-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2075-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2075-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2075-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g><use x="3397" xlink:href="#E2075-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4175,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3773" x="0" y="220"></rect><g transform="translate(1292,676)"><use x="0" xlink:href="#E2075-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="344" xlink:href="#E2075-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="546"></use></g><g transform="translate(60,-1448)"><use x="0" xlink:href="#E2075-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="271"></use><rect height="60" stroke="none" width="2653" x="1000" y="1361"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2075-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2075-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use x="36" xlink:href="#E2075-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="564"></use><use transform="scale(0.707)" x="808" xlink:href="#E2075-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="862"></use><use x="1247" xlink:href="#E2075-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E2075-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="8745" xlink:href="#E2075-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9523,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3773" x="0" y="220"></rect><use x="1292" xlink:href="#E2075-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-1059)"><use x="0" xlink:href="#E2075-MJSZ1-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="182"></use><rect height="60" stroke="none" width="2653" x="1000" y="972"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2075-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E2075-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use><use transform="scale(0.707)" x="808" xlink:href="#E2075-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="610"></use><use x="1247" xlink:href="#E2075-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2247" xlink:href="#E2075-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="14092" xlink:href="#E2075-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14870,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2075-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2075-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2075-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2075-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2075-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2075-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2075-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(680,-696)"><use x="0" xlink:href="#E2075-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2075-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2075-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2075-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1908" type="math/tex; mode=display">\frac{\partial \tilde{\mathbf{\vec h}}_i^{<1>}}{\partial \mathbf{\vec x}_i} = \frac{\tilde {\mathbf W}}{\sqrt {\tilde {\vec\sigma}^2+\epsilon}} = \frac{\mathbf W}{\sqrt {\vec\sigma^2+\epsilon}} = \frac{\partial \mathbf{\vec h}_i^{<1>}}{\partial \mathbf{\vec x}_i}</script>
    因此权重缩放前后，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-579-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -806.1 2295.4 1210.2" width="5.331ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E580-MJMAIN-2207" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E580-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E580-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E580-MJMATHI-69" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E580-MJCAL-4C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E580-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E580-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E580-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use><use transform="scale(0.5)" x="858" xlink:href="#E580-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1605" xlink:href="#E580-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-579" type="math/tex">\nabla_{\mathbf{\vec x}_i} \mathcal L</script>保持不变。<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-578-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -806.1 951 1059.4" width="2.209ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E579-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E579-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E579-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E579-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E579-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E579-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></svg></span><script id="MathJax-Element-578" type="math/tex">\mathbf{\vec x}_i</script>是`BN` 层的输入，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-579-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.938ex;" viewbox="0 -806.1 2295.4 1210.2" width="5.331ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E580-MJMAIN-2207" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E580-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E580-MJMAINB-20D7" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E580-MJMATHI-69" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E580-MJCAL-4C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E580-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-194)"><use transform="scale(0.707)" x="0" xlink:href="#E580-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="574" xlink:href="#E580-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="37"></use><use transform="scale(0.5)" x="858" xlink:href="#E580-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="1605" xlink:href="#E580-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-579" type="math/tex">\nabla_{\mathbf{\vec x}_i} \mathcal L</script>就是高层流向低层的梯度，因此权重缩放不影响梯度的流动。

    另外，由于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-580-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="5.379ex" role="img" style="vertical-align: -1.522ex;" viewbox="0 -1660.6 6728.8 2315.9" width="15.628ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E581-MJMAIN-2202" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E581-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E581-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E581-MJMAIN-7E" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E581-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E581-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E581-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E581-MJMATHI-69" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E581-MJMAINB-57" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E581-MJMAIN-3D" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E581-MJMATHI-3BB" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2071" x="0" y="220"></rect><g transform="translate(60,584)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E581-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><use transform="scale(0.707)" x="69" xlink:href="#E581-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="902"></use><g transform="translate(451,669)"><use transform="scale(0.5)" x="0" xlink:href="#E581-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E581-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E581-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E581-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(414,-538)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="344" xlink:href="#E581-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="577"></use></g></g></g><use x="2589" xlink:href="#E581-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3367,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="532" x="0" y="220"></rect><use transform="scale(0.707)" x="126" xlink:href="#E581-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E581-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="-559"></use></g></g><g transform="translate(4417,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2071" x="0" y="220"></rect><g transform="translate(60,584)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(400,0)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E581-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E581-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E581-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E581-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.5)" x="903" xlink:href="#E581-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(414,-410)"><use transform="scale(0.707)" x="0" xlink:href="#E581-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="567" xlink:href="#E581-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></svg></span><script id="MathJax-Element-580" type="math/tex">\frac{\partial \tilde{\mathbf{\vec h}}_i^{<1>}}{\partial \tilde{\mathbf W}} = \frac 1\lambda \frac{\partial \mathbf{\vec h}_i^{<1>}}{\partial \mathbf W}</script>，因此权重越大，则该权重的梯度越小，这样权重更新就越稳定。这相当与实现了参数正则化的效果，避免了参数的大幅震荡。

    >     > 

    > 通常并不会把`batch normalization` 当作一种正则化的手段，而是作为加速学习的方式。



    * 数据伸缩不变性：假设<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-581-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.928ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -1007.2 3818.5 1260.5" width="8.869ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E582-MJMAINB-78" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E582-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E582-MJMAIN-7E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E582-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E582-MJMAIN-3D" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E582-MJMATHI-3BB" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E582-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E582-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="53" xlink:href="#E582-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="589"></use><use transform="scale(0.707)" x="858" xlink:href="#E582-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1228" xlink:href="#E582-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2284" xlink:href="#E582-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2867,0)"><use x="0" xlink:href="#E582-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E582-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E582-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></svg></span><script id="MathJax-Element-581" type="math/tex">\tilde{\mathbf{\vec x}}_i=\lambda \mathbf{\vec x}_i</script>，同理有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1909-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.597ex" role="img" style="vertical-align: -2.573ex;" viewbox="0 -2163.1 17534 3270.8" width="40.724ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2076-MJMAIN-2202" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2076-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2076-MJMAINB-20D7" stroke-width="0"></path><path d="M179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251Z" id="E2076-MJMAIN-7E" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2076-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2076-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2076-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2076-MJMATHI-69" stroke-width="0"></path><path d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" id="E2076-MJMAINB-57" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2076-MJMAIN-3D" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2076-MJMAIN-2C" stroke-width="0"></path><path d="M227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227Z" id="E2076-MJMAINB-78" stroke-width="0"></path><path d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z" id="E2076-MJMATHI-3BB" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2076-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2076-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="69" xlink:href="#E2076-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="839"></use><g transform="translate(639,884)"><use transform="scale(0.707)" x="0" xlink:href="#E2076-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2076-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2076-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2076-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(561,-686)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2076-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="3397" xlink:href="#E2076-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4175,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2076-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2076-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2076-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2076-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2076-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2076-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(561,-686)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2076-MJMAINB-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="7573" xlink:href="#E2076-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8851,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2076-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2076-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="69" xlink:href="#E2076-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="839"></use><g transform="translate(639,884)"><use transform="scale(0.707)" x="0" xlink:href="#E2076-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2076-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2076-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2076-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(680,-874)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2076-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2076-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use x="53" xlink:href="#E2076-MJMAIN-7E" xmlns:xlink="http://www.w3.org/1999/xlink" y="589"></use><use transform="scale(0.707)" x="858" xlink:href="#E2076-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g><use x="12415" xlink:href="#E2076-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13193,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="703" x="0" y="220"></rect><use x="101" xlink:href="#E2076-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2076-MJMATHI-3BB" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(14414,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,720)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2076-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2076-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2076-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2076-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2076-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="903" xlink:href="#E2076-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-350"></use></g></g><g transform="translate(680,-696)"><use x="0" xlink:href="#E2076-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2076-MJMAINB-78" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="574" xlink:href="#E2076-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="6"></use><use transform="scale(0.707)" x="858" xlink:href="#E2076-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1909" type="math/tex; mode=display">\frac{\partial \tilde{\mathbf{\vec h}}_i^{<1>}}{\partial \mathbf W} = \frac{\partial \mathbf{\vec h}_i^{<1>}}{\partial \mathbf W},\quad \frac{\partial \tilde{\mathbf{\vec h}}_i^{<1>}}{\partial \tilde{\mathbf {\vec x}}_i} = \frac 1\lambda \frac{\partial \mathbf{\vec h}_i^{<1>}}{\partial \mathbf {\vec x}_i}</script>
    因此数据的伸缩变化不会影响到对该层的权重更新，简化了对学习率的选择。


5. 究竟是在激活函数之前、还是之后进行`batch normalization`， 这个问题在文献中有一些争论。

实践中，通常都是在激活函数之前进行的。

6. 在测试阶段，如果需要对单一样本评估，此时测试集只有单个样本，无法给出均值和标准差。

解决的方式为：将<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-582-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1619.7 1109.7" width="3.762ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E583-MJMATHI-3BC" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E583-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E583-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E583-MJMATHI-3C3" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E583-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="564" xlink:href="#E583-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="1"></use><use x="603" xlink:href="#E583-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1047,0)"><use x="0" xlink:href="#E583-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="522" xlink:href="#E583-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="-10"></use></g></g></svg></span><script id="MathJax-Element-582" type="math/tex">\vec\mu,\vec\sigma</script>设置为训练阶段收集的运行均值（或者是指数加权均值）。


### 10.2 其它 normalization

1. 除了`batch normalization` 之外，还有`layer normalization、 instance normalization、group normalization、 weight normalization` 。

下图给出了`BN、LN、IN、GN` 的示意图（出自论文`《Group Normalization》 Kaiming He etc.`）。其中蓝色部分表示：通过这些蓝色区域计算均值和方差，然后蓝色区域中的每个单元都使用这些均值、方差来归一化。

注意：这里的`BN` 是网络某层中，对每个通道进行归一化；而前面的`BN` 是对每个神经元进行归一化。

如果是对每个神经元进行归一化，则`BN` 示意图中，蓝色区域只有最底下的一行。

![](../imgs/dl_optimization/normalization.png)


#### 10.2.1 layer normalization

1. 与 `BN` 不同，`LN` 是对单个样本的同一层的神经元进行归一化，同层神经元使用相同的均值和方差。

对于该层神经元，不同样本可以使用的均值和方差不同。

与之相比，`BN` 是对每个神经元在`mini batch` 样本之间计算均值和方差。对每个神经元，`mini batch` 中的所有样本在该神经元上都使用相同的均值和方差。但是不同神经元使用不同的均值和方差。

因此`LN` 不依赖于`batch size`，也不依赖于网络深度。因此它适合在线学习，也适合于`RNN` 网络。

2. 设神经网络第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层的输入为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-684-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -1057.4 639 1109.7" width="1.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E699-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E699-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E699-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E699-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></svg></span><script id="MathJax-Element-684" type="math/tex">\mathbf{\vec h}</script>，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1559-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 7706.2 1361" width="17.898ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E1705-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E1705-MJMAINB-20D7" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1705-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1705-MJMAIN-28" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E1705-MJMATHI-68" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E1705-MJMAIN-31" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1705-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E1705-MJMAIN-22EF" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E1705-MJMATHI-6E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1705-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E1705-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1705-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1705-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="916" xlink:href="#E1705-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1972" xlink:href="#E1705-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2361,0)"><use x="0" xlink:href="#E1705-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E1705-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="3391" xlink:href="#E1705-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3835" xlink:href="#E1705-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5174" xlink:href="#E1705-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5619,0)"><use x="0" xlink:href="#E1705-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E1705-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(6719,0)"><use x="0" xlink:href="#E1705-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E1705-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g></svg></span><script id="MathJax-Element-1559" type="math/tex">\mathbf{\vec h}=(h_1,\cdots,h_n)^T</script>，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-545-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.41ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -504.6 600 607.1" width="1.394ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E546-MJMATHI-6E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E546-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-545" type="math/tex">n</script>为该层神经元的数量。则`LN` 的步骤为：

    * 首先计算该层所有神经元的均值和方差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1910-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 15945.6 2919" width="37.035ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2077-MJMATHI-3BC" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2077-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2077-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2077-MJMATHI-6E" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2077-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2077-MJMATHI-69" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E2077-MJMATHI-68" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2077-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2077-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2077-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2077-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2077-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2077-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2077-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="880" xlink:href="#E2077-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1658,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="720" x="0" y="220"></rect><use x="110" xlink:href="#E2077-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2077-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3063,0)"><use x="0" xlink:href="#E2077-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2077-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2077-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2077-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2077-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4673,0)"><use x="0" xlink:href="#E2077-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E2077-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5593" xlink:href="#E2077-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7038,0)"><use x="0" xlink:href="#E2077-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2077-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="8342" xlink:href="#E2077-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9120,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="720" x="0" y="220"></rect><use x="110" xlink:href="#E2077-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2077-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(10524,0)"><use x="0" xlink:href="#E2077-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2077-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2077-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2077-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2077-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="11968" xlink:href="#E2077-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12357,0)"><use x="0" xlink:href="#E2077-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E2077-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="13499" xlink:href="#E2077-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14500" xlink:href="#E2077-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15103,0)"><use x="0" xlink:href="#E2077-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2077-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></svg></span></span><script id="MathJax-Element-1910" type="math/tex; mode=display">\mu = \frac 1n \sum_{i=1}^n h_i,\quad \sigma^{2} = \frac 1 n\sum_{i=1}^n(h_i-\mu)^2</script>
    * 然后对神经元进行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1911-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.663ex" role="img" style="vertical-align: -2.573ex;" viewbox="0 -1761.1 7373.7 2868.8" width="17.126ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2078-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2078-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2078-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2078-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2078-MJMAIN-3E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2078-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2078-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2078-MJMATHI-3BC" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2078-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2078-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2078-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2078-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2078-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2078-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2078-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2078-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2078-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2078-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2470" xlink:href="#E2078-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3248,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3607" x="0" y="220"></rect><g transform="translate(571,681)"><use x="0" xlink:href="#E2078-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2078-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="861" xlink:href="#E2078-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1861" xlink:href="#E2078-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-887)"><use x="0" xlink:href="#E2078-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="61"></use><rect height="60" stroke="none" width="2654" x="833" y="801"></rect><g transform="translate(833,0)"><use x="0" xlink:href="#E2078-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2078-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use><use x="1248" xlink:href="#E2078-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2078-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1911" type="math/tex; mode=display">\mathbf{\vec h}^{<1>} = \frac{\mathbf{\vec h}-\mu}{\sqrt{\sigma^{2}+\epsilon}}</script>
    其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1560-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.811ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -906.7 2073.6 1210.2" width="4.816ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E1706-MJMATHI-3BC" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1706-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E1706-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1706-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1706-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="603" xlink:href="#E1706-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1047,0)"><use x="0" xlink:href="#E1706-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E1706-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g></svg></span><script id="MathJax-Element-1560" type="math/tex">\mu ,\sigma^{2}</script>都是标量。

    * 最后执行缩放：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1561-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1258.5 9316.9 1562" width="21.639ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E1707-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E1707-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1707-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1707-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1707-MJMAIN-3E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1707-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1707-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E1707-MJMAIN-20D7" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E1707-MJMAIN-2299" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E1707-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E1707-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1707-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1707-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1707-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E1707-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1707-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1707-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2470" xlink:href="#E1707-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E1707-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E1707-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4291" xlink:href="#E1707-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5291,0)"><use x="0" xlink:href="#E1707-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1707-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E1707-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1707-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1707-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="7706" xlink:href="#E1707-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8707,0)"><use x="0" xlink:href="#E1707-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E1707-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-1561" type="math/tex">\mathbf{\vec h}^{<2>}= \vec\gamma \odot \mathbf{\vec h}^{<1>} +\vec\beta</script>。

    与 `BN` 相同，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-561-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1597.5 1361" width="3.71ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E562-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E562-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E562-MJMAIN-2C" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E562-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E562-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E562-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="543" xlink:href="#E562-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(987,0)"><use x="0" xlink:href="#E562-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E562-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-561" type="math/tex">\vec \gamma,\vec\beta</script>也是网络从数据中自动学习到的参数，用于调整<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1564-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -1258.5 2192.8 1310.7" width="5.093ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E1710-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E1710-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1710-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1710-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1710-MJMAIN-3E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1710-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1710-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E1710-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1710-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1710-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-1564" type="math/tex">\mathbf{\vec h}^{<2>}</script>的均值和方差，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-551-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.355ex;" viewbox="0 -655.4 778 808.1" width="1.807ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E552-MJMAIN-2299" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E552-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-551" type="math/tex">\odot</script>为逐元素积。

    这一步的作用也是提升神经网络的表达能力。


3. `layer normalization` 算法

    * 输入：

        * 网络中第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层的输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1563-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -1057.4 639 1109.7" width="1.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E1709-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E1709-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1709-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1709-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></svg></span><script id="MathJax-Element-1563" type="math/tex">\mathbf{\vec h}</script>
        * 参数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-926-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1057.4 1597.5 1361" width="3.71ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1002-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E1002-MJMAIN-20D7" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1002-MJMAIN-2C" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1002-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1002-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E1002-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="543" xlink:href="#E1002-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(987,0)"><use x="0" xlink:href="#E1002-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E1002-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-926" type="math/tex">\vec\gamma,\vec\beta</script>（它们是由神经网络自动学习到的）

    * 输出：经过`layer normalization` 得到的新的输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1564-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.044ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -1258.5 2192.8 1310.7" width="5.093ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E1710-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E1710-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1710-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1710-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1710-MJMAIN-3E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1710-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1710-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E1710-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1710-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1710-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-1564" type="math/tex">\mathbf{\vec h}^{<2>}</script>

    * 算法步骤：

        * 计算该层所有神经元的均值和方差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1912-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.78ex" role="img" style="vertical-align: -2.923ex;" viewbox="0 -1660.6 15945.6 2919" width="37.035ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2079-MJMATHI-3BC" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2079-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2079-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2079-MJMATHI-6E" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2079-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2079-MJMATHI-69" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E2079-MJMATHI-68" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2079-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2079-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2079-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2079-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2079-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2079-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2079-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="880" xlink:href="#E2079-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(1658,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="720" x="0" y="220"></rect><use x="110" xlink:href="#E2079-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2079-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(3063,0)"><use x="0" xlink:href="#E2079-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2079-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2079-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2079-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2079-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(4673,0)"><use x="0" xlink:href="#E2079-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E2079-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="5593" xlink:href="#E2079-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7038,0)"><use x="0" xlink:href="#E2079-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2079-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="8342" xlink:href="#E2079-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9120,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="720" x="0" y="220"></rect><use x="110" xlink:href="#E2079-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2079-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><g transform="translate(10524,0)"><use x="0" xlink:href="#E2079-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2079-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2079-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2079-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2079-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="11968" xlink:href="#E2079-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12357,0)"><use x="0" xlink:href="#E2079-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E2079-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="13499" xlink:href="#E2079-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14500" xlink:href="#E2079-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(15103,0)"><use x="0" xlink:href="#E2079-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2079-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></svg></span></span><script id="MathJax-Element-1912" type="math/tex; mode=display">\mu = \frac 1n \sum_{i=1}^n h_i,\quad \sigma^{2} = \frac 1 n\sum_{i=1}^n(h_i-\mu)^2</script>
        * 对该层神经元进行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1913-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="6.663ex" role="img" style="vertical-align: -2.573ex;" viewbox="0 -1761.1 7373.7 2868.8" width="17.126ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2080-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2080-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2080-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2080-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2080-MJMAIN-3E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2080-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2080-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2080-MJMATHI-3BC" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2080-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2080-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2080-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2080-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2080-MJMAIN-221A" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2080-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2080-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2080-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2080-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2080-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2470" xlink:href="#E2080-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3248,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3607" x="0" y="220"></rect><g transform="translate(571,681)"><use x="0" xlink:href="#E2080-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2080-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><use x="861" xlink:href="#E2080-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1861" xlink:href="#E2080-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-887)"><use x="0" xlink:href="#E2080-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="61"></use><rect height="60" stroke="none" width="2654" x="833" y="801"></rect><g transform="translate(833,0)"><use x="0" xlink:href="#E2080-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2080-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use><use x="1248" xlink:href="#E2080-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2080-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g></svg></span></span><script id="MathJax-Element-1913" type="math/tex; mode=display">\mathbf{\vec h}^{<1>} = \frac{\mathbf{\vec h}-\mu}{\sqrt{\sigma^{2}+\epsilon}}</script>
        * 执行缩放：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1565-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.628ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -1258.5 9316.9 1562" width="21.639ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E1711-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E1711-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1711-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1711-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1711-MJMAIN-3E" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1711-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1711-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E1711-MJMAIN-20D7" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E1711-MJMAIN-2299" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E1711-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E1711-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1711-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1711-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1711-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E1711-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1711-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1711-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2470" xlink:href="#E1711-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E1711-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E1711-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="4291" xlink:href="#E1711-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5291,0)"><use x="0" xlink:href="#E1711-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E1711-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E1711-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1711-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1711-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="7706" xlink:href="#E1711-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8707,0)"><use x="0" xlink:href="#E1711-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="609" xlink:href="#E1711-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="264"></use></g></g></svg></span><script id="MathJax-Element-1565" type="math/tex">\mathbf{\vec h}^{<2>}= \vec\gamma \odot \mathbf{\vec h}^{<1>} +\vec\beta</script>



4. 根据梯度的链式法则，反向传播规则为（假设代价函数为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-559-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 690 908.7" width="1.603ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E560-MJCAL-4C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E560-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-559" type="math/tex">\mathcal L</script>）：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1914-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="33.278ex" role="img" style="vertical-align: -31.405ex;" viewbox="0 -806.1 38699.6 14327.9" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2081-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2081-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2081-MJMAINB-20D7" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2081-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2081-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2081-MJMAIN-3E" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E2081-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2081-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E2081-MJMATHI-3B3" stroke-width="0"></path><path d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z" id="E2081-MJMAIN-20D7" stroke-width="0"></path><path d="M56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250Z" id="E2081-MJMAIN-2299" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2081-MJMAIN-32" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2081-MJMATHI-3B2" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2081-MJMAIN-28" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2081-MJMAIN-29" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2081-MJMATHI-3BC" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2081-MJMAIN-2212" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2081-MJMATHI-3C3" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2081-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2081-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2081-MJMAIN-221A" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2081-MJSZ2-2211" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2081-MJMATHI-69" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2081-MJMATHI-6E" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2081-MJMAIN-2202" stroke-width="0"></path><path d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" id="E2081-MJMATHI-68" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2081-MJMAIN-D7" stroke-width="0"></path><path d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z" id="E2081-MJMAIN-33" stroke-width="0"></path><path d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" id="E2081-MJMAIN-2F" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2081-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(14626,0)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="2483" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3451" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4507,0)"><use x="0" xlink:href="#E2081-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="523" xlink:href="#E2081-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="5272" xlink:href="#E2081-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6272,0)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="8756" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(16056,-1646)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-370)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="644" xlink:href="#E2081-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="295"></use></g><use x="1388" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2356" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3412,0)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="5895" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(13996,-3764)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-183)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="523" xlink:href="#E2081-MJMAIN-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="31"></use></g><use x="1316" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2284" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3340" xlink:href="#E2081-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3729,0)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="6213" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6903" xlink:href="#E2081-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7514" xlink:href="#E2081-MJMAIN-2299" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(8514,0)"><use x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(12928,-6268)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1178" xlink:href="#E2081-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1359" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2327" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3382" xlink:href="#E2081-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4160,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="3607" x="0" y="220"></rect><use x="1553" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-887)"><use x="0" xlink:href="#E2081-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="61"></use><rect height="60" stroke="none" width="2654" x="833" y="801"></rect><g transform="translate(833,0)"><use x="0" xlink:href="#E2081-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use><use x="1248" xlink:href="#E2081-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2081-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><g transform="translate(8174,0)"><use x="0" xlink:href="#E2081-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2081-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(9618,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="2816" x="0" y="220"></rect><g transform="translate(779,676)"><use x="0" xlink:href="#E2081-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-810)"><use x="0" xlink:href="#E2081-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2081-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="814" xlink:href="#E2081-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g></g></g></g></g><g transform="translate(8812,-9457)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-193)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="809" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g><use x="1658" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2626" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3681" xlink:href="#E2081-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(4459,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="620" x="0" y="220"></rect><use x="60" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><use x="60" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><use x="5542" xlink:href="#E2081-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6320,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="4713" x="0" y="220"></rect><use x="2106" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-785)"><use x="0" xlink:href="#E2081-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E2081-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g><use x="1637" xlink:href="#E2081-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2637" xlink:href="#E2081-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3043,0)"><use x="0" xlink:href="#E2081-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,288)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAIN-33" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E2081-MJMAIN-2F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1000" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g><g transform="translate(11662,0)"><use x="0" xlink:href="#E2081-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(148,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1123" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="721" xlink:href="#E2081-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(13106,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="2816" x="0" y="220"></rect><g transform="translate(779,676)"><use x="0" xlink:href="#E2081-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-810)"><use x="0" xlink:href="#E2081-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2081-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(576,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="814" xlink:href="#E2081-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g></g></g></g><use x="16551" xlink:href="#E2081-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17552" xlink:href="#E2081-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(17941,0)"><use x="0" xlink:href="#E2081-MJMATHI-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="814" xlink:href="#E2081-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="19083" xlink:href="#E2081-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20083" xlink:href="#E2081-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20686" xlink:href="#E2081-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(12199,-12426)"><use x="0" xlink:href="#E2081-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="5213" x="0" y="220"></rect><g transform="translate(1967,676)"><use x="0" xlink:href="#E2081-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="778" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-785)"><use x="0" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="500" xlink:href="#E2081-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(889,0)"><use x="0" xlink:href="#E2081-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g><use x="2137" xlink:href="#E2081-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3137" xlink:href="#E2081-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3543,0)"><use x="0" xlink:href="#E2081-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,288)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAIN-33" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="500" xlink:href="#E2081-MJMAIN-2F" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1000" xlink:href="#E2081-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g><use x="6508" xlink:href="#E2081-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6897,0)"><use x="0" xlink:href="#E2081-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2081-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2081-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2081-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="9381" xlink:href="#E2081-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10071,0)"><use x="0" xlink:href="#E2081-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2081-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g><use x="11058" xlink:href="#E2081-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(11447,0)"><use x="0" xlink:href="#E2081-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2081-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g><use x="12308" xlink:href="#E2081-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13308" xlink:href="#E2081-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13911" xlink:href="#E2081-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span></span><script id="MathJax-Element-1914" type="math/tex; mode=display">\nabla_{\mathbf{\vec h}^{<1>} } \mathcal L = \vec\gamma \odot \nabla_{\mathbf{\vec h}^{<2>} } \mathcal L\\ \nabla_{\vec\beta} \mathcal L = \nabla_{\mathbf{\vec h}^{<2>} } \mathcal L\\ \nabla_{\vec \gamma} \mathcal L = (\nabla_{\mathbf{\vec h}^{<2>}} \mathcal L)\odot \mathbf{\vec h}^{<1>} \\ \nabla_{\mu} \mathcal L = -\frac{1}{\sqrt{\sigma^{2}+\epsilon}}\sum_{i=1}^n \frac{\partial \mathcal L}{\partial h_i^{<1>}}\\ \nabla_{\sigma^{2}} \mathcal L = -\frac 12 \times\frac{1}{(\sigma^{2}+\epsilon)^{3/2}}\sum_{i=1}^n \frac{\partial \mathcal L}{\partial h_i^{<1>}}\times (h_i-\mu)\\= \frac{-1}{2(\sigma^{2}+\epsilon)^{3/2}}(\nabla_{\mathbf{\vec h}^{<1>} } \mathcal L )^T (\mathbf{\vec h}-\mu)</script>
由于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-684-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -1057.4 639 1109.7" width="1.484ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E699-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E699-MJMAINB-20D7" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E699-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E699-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></svg></span><script id="MathJax-Element-684" type="math/tex">\mathbf{\vec h}</script>出现在多条路径中，因此有：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1915-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="15.301ex" role="img" style="vertical-align: -10.394ex;" viewbox="0 -2112.9 38699.6 6588" width="89.883ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596Z" id="E2082-MJMAIN-2207" stroke-width="0"></path><path d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" id="E2082-MJMAINB-68" stroke-width="0"></path><path d="M-169 694Q-169 707 -160 715T-142 723Q-127 723 -119 716T-107 698T-90 673T-53 648Q-33 637 -33 619Q-33 602 -45 595T-87 573T-144 532Q-165 513 -176 513Q-189 513 -197 522T-206 543Q-206 556 -188 574L-175 588H-347L-519 589Q-542 597 -542 618Q-542 623 -541 627T-537 635T-532 640T-527 644T-522 648L-519 649H-149Q-169 676 -169 694Z" id="E2082-MJMAINB-20D7" stroke-width="0"></path><path d="M62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11Z" id="E2082-MJCAL-4C" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2082-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2082-MJMAIN-28" stroke-width="0"></path><path d="M202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306Z" id="E2082-MJMAIN-2202" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2082-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2082-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2082-MJMAIN-3E" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2082-MJMAIN-29" stroke-width="0"></path><path d="M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z" id="E2082-MJSZ4-28" stroke-width="0"></path><path d="M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z" id="E2082-MJSZ4-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E2082-MJMATHI-54" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2082-MJMAIN-2B" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2082-MJMATHI-3BC" stroke-width="0"></path><path d="M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z" id="E2082-MJSZ3-28" stroke-width="0"></path><path d="M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z" id="E2082-MJSZ3-29" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2082-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2082-MJMAIN-32" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2082-MJMATHI-3F5" stroke-width="0"></path><path d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" id="E2082-MJMAIN-221A" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2082-MJMATHI-6E" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2082-MJMAIN-D7" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2082-MJMAIN-2212" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(6588,0)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-371)"><use transform="scale(0.707)" x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use></g><use x="1384" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2352" xlink:href="#E2082-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3408,0)"><use xlink:href="#E2082-MJSZ4-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(792,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="2879" x="0" y="220"></rect><g transform="translate(60,676)"><use x="0" xlink:href="#E2082-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use><g transform="translate(639,706)"><use transform="scale(0.707)" x="0" xlink:href="#E2082-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2082-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2082-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(836,-946)"><use x="0" xlink:href="#E2082-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></g></g></g><use x="3911" xlink:href="#E2082-MJSZ4-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6652" xlink:href="#E2082-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="2235"></use></g><g transform="translate(8710,0)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2082-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2082-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2082-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><use x="11193" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12105" xlink:href="#E2082-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(13106,0)"><use xlink:href="#E2082-MJSZ3-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(736,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1326" x="0" y="220"></rect><g transform="translate(78,681)"><use x="0" xlink:href="#E2082-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="567" xlink:href="#E2082-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-946)"><use x="0" xlink:href="#E2082-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></g></g></g><use x="2302" xlink:href="#E2082-MJSZ3-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g><g transform="translate(16310,0)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1178" xlink:href="#E2082-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><use x="17670" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18582" xlink:href="#E2082-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(19582,0)"><use xlink:href="#E2082-MJSZ3-28" xmlns:xlink="http://www.w3.org/1999/xlink"></use><g transform="translate(736,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="1712" x="0" y="220"></rect><g transform="translate(60,676)"><use x="0" xlink:href="#E2082-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2082-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2082-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g><g transform="translate(253,-946)"><use x="0" xlink:href="#E2082-MJMAIN-2202" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(567,0)"><use x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g></g></g></g><use x="2688" xlink:href="#E2082-MJSZ3-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="-1"></use></g><g transform="translate(23174,0)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-193)"><use transform="scale(0.707)" x="0" xlink:href="#E2082-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="809" xlink:href="#E2082-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g></g><use x="24832" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(10245,-3376)"><use x="0" xlink:href="#E2082-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(778,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3607" x="0" y="220"></rect><g transform="translate(216,975)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-511)"><use transform="scale(0.707)" x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="287"></use><g transform="translate(451,521)"><use transform="scale(0.5)" x="0" xlink:href="#E2082-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="778" xlink:href="#E2082-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="1278" xlink:href="#E2082-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="2483" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(60,-887)"><use x="0" xlink:href="#E2082-MJMAIN-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="61"></use><rect height="60" stroke="none" width="2654" x="833" y="801"></rect><g transform="translate(833,0)"><use x="0" xlink:href="#E2082-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2082-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use><use x="1248" xlink:href="#E2082-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2082-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="5125" xlink:href="#E2082-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5903,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="2169" x="0" y="220"></rect><g transform="translate(60,768)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1178" xlink:href="#E2082-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1359" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="784" xlink:href="#E2082-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g><use x="8757" xlink:href="#E2082-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(9535,0)"><g transform="translate(342,0)"><rect height="60" stroke="none" width="8211" x="0" y="220"></rect><g transform="translate(60,715)"><use x="0" xlink:href="#E2082-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="500" xlink:href="#E2082-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(889,0)"><use x="0" xlink:href="#E2082-MJMAIN-2207" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(833,-193)"><use transform="scale(0.707)" x="0" xlink:href="#E2082-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="809" xlink:href="#E2082-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="408"></use></g></g><use x="2547" xlink:href="#E2082-MJCAL-4C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3237" xlink:href="#E2082-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3848" xlink:href="#E2082-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4848" xlink:href="#E2082-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(5237,0)"><use x="0" xlink:href="#E2082-MJMAINB-68" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="590" xlink:href="#E2082-MJMAINB-20D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="256"></use></g><use x="6099" xlink:href="#E2082-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7099" xlink:href="#E2082-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7702" xlink:href="#E2082-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="3805" xlink:href="#E2082-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-686"></use></g></g></g></g></svg></span></span><script id="MathJax-Element-1915" type="math/tex; mode=display">\nabla_{\mathbf{\vec h}} \mathcal L= \left(\frac{\partial \mathbf{\vec h}^{<1>}}{\partial \mathbf{\vec h}}\right)^T\nabla_{\mathbf{\vec h}^{<1>}} \mathcal L + \left(\frac{\partial \mu}{\partial \mathbf{\vec h}}\right) \nabla_{\mu} \mathcal L + \left(\frac{\partial \sigma^{2}}{\partial\mathbf{\vec h}}\right)\nabla_{\sigma^{2}} \mathcal L\\ = \frac{\nabla_{\mathbf{\vec h}^{<1>} } \mathcal L}{\sqrt{\sigma^{2}+\epsilon}}+\frac{ \nabla_{\mu} \mathcal L}{n}+\frac{2(\nabla_{\sigma^{2}} \mathcal L)\times (\mathbf{\vec h}-\mu)}{n}</script>
其中出现标量与向量的加法，它等价于将标量扩充为向量，扩充向量在每个维度上的取值就是该标量。如：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1541-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.278ex" role="img" style="vertical-align: -1.055ex;" viewbox="0 -956.9 8741.1 1411.3" width="20.302ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E1685-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E1685-MJMATHI-6E" stroke-width="0"></path><path d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" id="E1685-MJMAIN-2192" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1685-MJMAIN-28" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1685-MJMAIN-2C" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E1685-MJMAIN-22EF" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1685-MJMAIN-29" stroke-width="0"></path><path d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" id="E1685-MJMATHI-54" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="544" x="0" y="220"></rect><use transform="scale(0.707)" x="134" xlink:href="#E1685-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E1685-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g><use x="1062" xlink:href="#E1685-MJMAIN-2192" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2339" xlink:href="#E1685-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2728,0)"><g transform="translate(120,0)"><rect height="60" stroke="none" width="544" x="0" y="220"></rect><use transform="scale(0.707)" x="134" xlink:href="#E1685-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E1685-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><use x="3513" xlink:href="#E1685-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3791,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="544" x="0" y="220"></rect><use transform="scale(0.707)" x="134" xlink:href="#E1685-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E1685-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><use x="4742" xlink:href="#E1685-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5186" xlink:href="#E1685-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6525" xlink:href="#E1685-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6803,0)"><g transform="translate(286,0)"><rect height="60" stroke="none" width="544" x="0" y="220"></rect><use transform="scale(0.707)" x="134" xlink:href="#E1685-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="571"></use><use transform="scale(0.707)" x="84" xlink:href="#E1685-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="-488"></use></g></g><g transform="translate(7754,0)"><use x="0" xlink:href="#E1685-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E1685-MJMATHI-54" xmlns:xlink="http://www.w3.org/1999/xlink" y="513"></use></g></g></svg></span><script id="MathJax-Element-1541" type="math/tex">\frac 1n \rightarrow (\frac 1n,\frac 1n,\cdots,\frac 1n)^T</script>。

其计算图如下所示，与`BN` 相同。

![](../imgs/dl_optimization/bn.png)

5. `LN` 的特点是：针对单个样本进行，不依赖于`mini batch` 中的其它样本。


#### 10.2.2 instance normalization

1. 与`IN` 与`LN` 相同，它们都是对单个样本进行操作。与`LN` 不同的是：`IN` 对同一层神经元中的同一个通道进行归一化。

`IN` 主要用于图像处理任务中，此时每一层网络都有 `N、H、W、C` 四个维度。其中`N` 代表`batch` 维度，`H、W` 代表 `feature map` 的宽度和高度， `C` 代表通道数量。

`LN` 使得同一层神经元中的同一个通道上的神经元使用相同的均值和方差。对于该通道中的神经元，不同的样本使用的均值和方差不同。

2. 设单张图片在网络第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层的输入张量为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1577-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1007.2 10256.6 1361" width="23.822ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E1723-MJMAINB-58" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1723-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1723-MJMAIN-28" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E1723-MJMATHI-58" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1723-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1723-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1723-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1723-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1723-MJMAIN-29" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E1723-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E1723-MJAMS-52" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" id="E1723-MJMATHI-43" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1723-MJMAIN-D7" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E1723-MJMATHI-48" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E1723-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1723-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1146" xlink:href="#E1723-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2202" xlink:href="#E1723-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2591,0)"><use x="0" xlink:href="#E1723-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1723-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1723-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1723-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1723-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1723-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="4816" xlink:href="#E1723-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5483" xlink:href="#E1723-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6427,0)"><use x="0" xlink:href="#E1723-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(722,409)"><use transform="scale(0.707)" x="0" xlink:href="#E1723-MJMATHI-43" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="760" xlink:href="#E1723-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1537" xlink:href="#E1723-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2426" xlink:href="#E1723-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3204" xlink:href="#E1723-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1577" type="math/tex">\mathbf X =(X_{i,j,k}) \in \mathbb R^{C\times H\times W}</script>。 为了防止名字冲突，这里用<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-493-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.877ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -755.9 869 808.1" width="2.018ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E494-MJMAINB-58" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E494-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-493" type="math/tex">\mathbf X</script>标记第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层的输入。其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1578-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 760 908.7" width="1.765ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" id="E1724-MJMATHI-43" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1724-MJMATHI-43" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-1578" type="math/tex">C</script>为通道数，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1579-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.588ex;" viewbox="0 -755.9 2380.7 1009.2" width="5.529ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E1725-MJMATHI-48" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1725-MJMAIN-2C" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E1725-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1725-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="888" xlink:href="#E1725-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1332" xlink:href="#E1725-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-1579" type="math/tex">H,W</script>为`feature map` 的高度和宽度。

三个索引分别代表：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>代表通道维的索引，<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1580-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.461ex" role="img" style="vertical-align: -0.705ex; margin-left: -0.028ex;" viewbox="-12 -755.9 1389.7 1059.4" width="3.228ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1726-MJMATHI-6A" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1726-MJMAIN-2C" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1726-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1726-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="412" xlink:href="#E1726-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="856" xlink:href="#E1726-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-1580" type="math/tex">j,k</script>分别代表高度和宽度维度的索引。

则 `LN` 的步骤为：

    * 首先计算样本在第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>个通道的神经元的均值和方差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1916-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.48ex" role="img" style="vertical-align: -3.273ex;" viewbox="0 -1811.3 27581.5 3220.6" width="64.06ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2083-MJMATHI-3BC" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2083-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2083-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2083-MJMAIN-31" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2083-MJMATHI-48" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2083-MJMAIN-D7" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E2083-MJMATHI-57" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2083-MJSZ2-2211" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2083-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2083-MJMATHI-6B" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2083-MJMATHI-58" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2083-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2083-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2083-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2083-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2083-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2083-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2083-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2083-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1224" xlink:href="#E2083-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2002,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3278" x="0" y="220"></rect><use x="1389" xlink:href="#E2083-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-686)"><use x="0" xlink:href="#E2083-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1110" xlink:href="#E2083-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2110" xlink:href="#E2083-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(5965,0)"><use x="0" xlink:href="#E2083-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2083-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2083-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2083-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2083-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(7576,0)"><use x="0" xlink:href="#E2083-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(85,-1108)"><use transform="scale(0.707)" x="0" xlink:href="#E2083-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2083-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2083-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="497" xlink:href="#E2083-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(9186,0)"><use x="0" xlink:href="#E2083-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2083-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2083-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2083-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2083-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2083-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="11411" xlink:href="#E2083-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12856,0)"><use x="0" xlink:href="#E2083-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2083-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2083-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><use x="14160" xlink:href="#E2083-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14938,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3278" x="0" y="220"></rect><use x="1389" xlink:href="#E2083-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-686)"><use x="0" xlink:href="#E2083-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1110" xlink:href="#E2083-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2110" xlink:href="#E2083-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(18901,0)"><use x="0" xlink:href="#E2083-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2083-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2083-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2083-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2083-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(20511,0)"><use x="0" xlink:href="#E2083-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(85,-1108)"><use transform="scale(0.707)" x="0" xlink:href="#E2083-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2083-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2083-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="497" xlink:href="#E2083-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="21955" xlink:href="#E2083-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22344,0)"><use x="0" xlink:href="#E2083-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2083-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2083-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2083-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2083-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2083-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="24791" xlink:href="#E2083-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(25791,0)"><use x="0" xlink:href="#E2083-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2083-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(26738,0)"><use x="0" xlink:href="#E2083-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2083-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></svg></span></span><script id="MathJax-Element-1916" type="math/tex; mode=display">\mu_{i} = \frac {1}{H\times W} \sum_{j=1}^H\sum_{k=1}^W X_{i,j,k},\quad \sigma^{2}_{i} = \frac {1}{H\times W} \sum_{j=1}^H\sum_{k=1}^W(X_{i,j,k}-\mu_{i})^2</script>
    * 然后对神经元进行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1917-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.947ex" role="img" style="vertical-align: -4.44ex;" viewbox="0 -1509.8 21382.3 3421.6" width="49.662ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2084-MJMATHI-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2084-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2084-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2084-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2084-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2084-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2084-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2084-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2084-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2084-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2084-MJMATHI-3BC" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2084-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2084-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2084-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2084-MJMATHI-3F5" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E2084-MJSZ2-221A" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2084-MJMAIN-22EF" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2084-MJMATHI-48" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2084-MJMAIN-3B" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E2084-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2084-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2084-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2084-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2084-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E2084-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2084-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2084-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2690" xlink:href="#E2084-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3468,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="4514" x="0" y="220"></rect><g transform="translate(60,759)"><use x="0" xlink:href="#E2084-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2084-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2084-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2084-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2447" xlink:href="#E2084-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3447,0)"><use x="0" xlink:href="#E2084-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2084-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(429,-1201)"><use x="0" xlink:href="#E2084-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="24"></use><rect height="60" stroke="none" width="2654" x="1000" y="1114"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2084-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2084-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2084-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use><use x="1248" xlink:href="#E2084-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2084-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="8500" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9945" xlink:href="#E2084-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10635" xlink:href="#E2084-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11691" xlink:href="#E2084-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12191" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12635" xlink:href="#E2084-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13974" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14419" xlink:href="#E2084-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15307" xlink:href="#E2084-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15751" xlink:href="#E2084-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16550" xlink:href="#E2084-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17606" xlink:href="#E2084-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18106" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18550" xlink:href="#E2084-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19889" xlink:href="#E2084-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20334" xlink:href="#E2084-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1917" type="math/tex; mode=display">X_{i,j,k}^{<1>} = \frac{X_{i,j,k}-\mu_{i}}{\sqrt{\sigma_{i}^2+\epsilon}}, \quad j=1,\cdots,H;k=1,\cdots,W</script>
    * 最后执行缩放：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1918-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.289ex;" viewbox="0 -906.7 12482.2 1461.5" width="28.991ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2085-MJMATHI-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2085-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2085-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2085-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2085-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2085-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2085-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2085-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2085-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E2085-MJMATHI-3B3" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2085-MJMAIN-D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2085-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2085-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E2085-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2085-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2085-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2085-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2085-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E2085-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2085-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2085-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2690" xlink:href="#E2085-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3746,0)"><use x="0" xlink:href="#E2085-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(518,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2085-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2085-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2085-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5883" xlink:href="#E2085-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6883,0)"><use x="0" xlink:href="#E2085-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2085-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2085-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2085-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E2085-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2085-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2085-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9519" xlink:href="#E2085-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10519,0)"><use x="0" xlink:href="#E2085-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(566,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2085-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2085-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2085-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2085-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span></span><script id="MathJax-Element-1918" type="math/tex; mode=display">X_{i,j,k}^{<2>} =\gamma_{i,j,k} \times X_{i,j,k}^{<1>} +\beta_{i,j,k}</script>
    其中<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1581-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.694ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -806.1 4322.3 1160" width="10.039ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1727-MJMATHI-3B3" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1727-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1727-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1727-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1727-MJMATHI-6B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1727-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1727-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(518,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1727-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1727-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1727-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1727-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1727-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="1914" xlink:href="#E1727-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2359,0)"><use x="0" xlink:href="#E1727-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(566,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1727-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1727-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1727-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1727-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1727-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1581" type="math/tex">\gamma_{i,j,k},\beta_{i,j,k}</script>表示第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>个通道位于<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1582-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.577ex" role="img" style="vertical-align: -0.705ex;" viewbox="0 -806.1 1766.7 1109.7" width="4.103ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1728-MJMAIN-28" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1728-MJMATHI-6A" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1728-MJMAIN-2C" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1728-MJMATHI-6B" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1728-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="389" xlink:href="#E1728-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="801" xlink:href="#E1728-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1245" xlink:href="#E1728-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-1582" type="math/tex">(j,k</script>) 的神经元的缩放因子和平移因子。


3. `instance normalization` 算法

    * 输入：

        * 网络第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层的输入张量为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1583-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1007.2 10256.6 1361" width="23.822ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E1729-MJMAINB-58" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1729-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1729-MJMAIN-28" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E1729-MJMATHI-58" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1729-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1729-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1729-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1729-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1729-MJMAIN-29" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E1729-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E1729-MJAMS-52" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" id="E1729-MJMATHI-43" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1729-MJMAIN-D7" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E1729-MJMATHI-48" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E1729-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1729-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1146" xlink:href="#E1729-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2202" xlink:href="#E1729-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2591,0)"><use x="0" xlink:href="#E1729-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1729-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1729-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1729-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1729-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1729-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="4816" xlink:href="#E1729-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5483" xlink:href="#E1729-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6427,0)"><use x="0" xlink:href="#E1729-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(722,409)"><use transform="scale(0.707)" x="0" xlink:href="#E1729-MJMATHI-43" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="760" xlink:href="#E1729-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1537" xlink:href="#E1729-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2426" xlink:href="#E1729-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3204" xlink:href="#E1729-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1583" type="math/tex">\mathbf X =(X_{i,j,k}) \in \mathbb R^{ C\times H\times W}</script>
        * 参数张量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1584-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1007.2 10929.5 1361" width="25.385ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1730-MJMAIN-28" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1730-MJMATHI-3B3" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1730-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1730-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1730-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1730-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1730-MJMAIN-29" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1730-MJMATHI-3B2" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E1730-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E1730-MJAMS-52" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" id="E1730-MJMATHI-43" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1730-MJMAIN-D7" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E1730-MJMATHI-48" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E1730-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1730-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E1730-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(518,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1730-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1730-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1730-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1730-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1730-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="2303" xlink:href="#E1730-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2692" xlink:href="#E1730-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3137" xlink:href="#E1730-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E1730-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(566,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1730-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1730-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1730-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1730-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1730-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5489" xlink:href="#E1730-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6156" xlink:href="#E1730-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7100,0)"><use x="0" xlink:href="#E1730-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(722,409)"><use transform="scale(0.707)" x="0" xlink:href="#E1730-MJMATHI-43" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="760" xlink:href="#E1730-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1537" xlink:href="#E1730-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2426" xlink:href="#E1730-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3204" xlink:href="#E1730-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1584" type="math/tex">(\gamma_{i,j,k}),(\beta_{i,j,k})\in \mathbb R^{C\times H\times W}</script>

    * 输出：经过`instance normalization` 得到的新的输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1585-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -956.9 2422.8 1009.2" width="5.627ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E1731-MJMAINB-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1731-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1731-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1731-MJMAIN-3E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1731-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,412)"><use transform="scale(0.707)" x="0" xlink:href="#E1731-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1731-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1731-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-1585" type="math/tex">\mathbf X^{<2>}</script>

    * 算法步骤：

        * 计算样本在第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>个通道的神经元的均值和方差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1919-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.48ex" role="img" style="vertical-align: -3.273ex;" viewbox="0 -1811.3 27581.5 3220.6" width="64.06ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2086-MJMATHI-3BC" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2086-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2086-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2086-MJMAIN-31" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2086-MJMATHI-48" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2086-MJMAIN-D7" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E2086-MJMATHI-57" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2086-MJSZ2-2211" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2086-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2086-MJMATHI-6B" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2086-MJMATHI-58" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2086-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2086-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2086-MJMAIN-32" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2086-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2086-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2086-MJMAIN-29" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2086-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2086-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1224" xlink:href="#E2086-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2002,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3278" x="0" y="220"></rect><use x="1389" xlink:href="#E2086-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-686)"><use x="0" xlink:href="#E2086-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1110" xlink:href="#E2086-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2110" xlink:href="#E2086-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(5965,0)"><use x="0" xlink:href="#E2086-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2086-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2086-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2086-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2086-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(7576,0)"><use x="0" xlink:href="#E2086-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(85,-1108)"><use transform="scale(0.707)" x="0" xlink:href="#E2086-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2086-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2086-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="497" xlink:href="#E2086-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(9186,0)"><use x="0" xlink:href="#E2086-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2086-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2086-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2086-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2086-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2086-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="11411" xlink:href="#E2086-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(12856,0)"><use x="0" xlink:href="#E2086-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2086-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2086-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use></g><use x="14160" xlink:href="#E2086-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(14938,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="3278" x="0" y="220"></rect><use x="1389" xlink:href="#E2086-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-686)"><use x="0" xlink:href="#E2086-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1110" xlink:href="#E2086-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2110" xlink:href="#E2086-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(18901,0)"><use x="0" xlink:href="#E2086-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2086-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2086-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2086-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2086-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(20511,0)"><use x="0" xlink:href="#E2086-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(85,-1108)"><use transform="scale(0.707)" x="0" xlink:href="#E2086-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2086-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2086-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="497" xlink:href="#E2086-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="21955" xlink:href="#E2086-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22344,0)"><use x="0" xlink:href="#E2086-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2086-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2086-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2086-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2086-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2086-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="24791" xlink:href="#E2086-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(25791,0)"><use x="0" xlink:href="#E2086-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2086-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(26738,0)"><use x="0" xlink:href="#E2086-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2086-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></svg></span></span><script id="MathJax-Element-1919" type="math/tex; mode=display">\mu_{i} = \frac {1}{H\times W} \sum_{j=1}^H\sum_{k=1}^W X_{i,j,k},\quad \sigma^{2}_{i} = \frac {1}{H\times W} \sum_{j=1}^H\sum_{k=1}^W(X_{i,j,k}-\mu_{i})^2</script>
        * 对神经元进行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1920-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="7.947ex" role="img" style="vertical-align: -4.44ex;" viewbox="0 -1509.8 21382.3 3421.6" width="49.662ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2087-MJMATHI-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2087-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2087-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2087-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2087-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2087-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2087-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2087-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2087-MJMAIN-3D" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2087-MJMAIN-2212" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2087-MJMATHI-3BC" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2087-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2087-MJMAIN-32" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2087-MJMAIN-2B" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2087-MJMATHI-3F5" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E2087-MJSZ2-221A" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2087-MJMAIN-22EF" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2087-MJMATHI-48" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2087-MJMAIN-3B" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E2087-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E2087-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2087-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2087-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2087-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E2087-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2087-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2087-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2690" xlink:href="#E2087-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3468,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="4514" x="0" y="220"></rect><g transform="translate(60,759)"><use x="0" xlink:href="#E2087-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E2087-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E2087-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E2087-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2447" xlink:href="#E2087-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3447,0)"><use x="0" xlink:href="#E2087-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2087-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(429,-1201)"><use x="0" xlink:href="#E2087-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="24"></use><rect height="60" stroke="none" width="2654" x="1000" y="1114"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2087-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2087-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2087-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use><use x="1248" xlink:href="#E2087-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2087-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g><use x="8500" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9945" xlink:href="#E2087-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10635" xlink:href="#E2087-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11691" xlink:href="#E2087-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12191" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12635" xlink:href="#E2087-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13974" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14419" xlink:href="#E2087-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15307" xlink:href="#E2087-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15751" xlink:href="#E2087-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16550" xlink:href="#E2087-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17606" xlink:href="#E2087-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18106" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18550" xlink:href="#E2087-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19889" xlink:href="#E2087-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20334" xlink:href="#E2087-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span></span><script id="MathJax-Element-1920" type="math/tex; mode=display">X_{i,j,k}^{<1>} = \frac{X_{i,j,k}-\mu_{i}}{\sqrt{\sigma_{i}^2+\epsilon}}, \quad j=1,\cdots,H;k=1,\cdots,W</script>
        * 执行缩放：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1586-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.289ex;" viewbox="0 -906.7 12482.2 1461.5" width="28.991ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E1732-MJMATHI-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1732-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1732-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1732-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1732-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1732-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1732-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1732-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1732-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1732-MJMATHI-3B3" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1732-MJMAIN-D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E1732-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E1732-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1732-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1732-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1732-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1732-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2690" xlink:href="#E1732-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3746,0)"><use x="0" xlink:href="#E1732-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(518,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5883" xlink:href="#E1732-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6883,0)"><use x="0" xlink:href="#E1732-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1732-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1732-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9519" xlink:href="#E1732-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10519,0)"><use x="0" xlink:href="#E1732-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(566,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1586" type="math/tex">X_{i,j,k}^{<2>} =\gamma_{i,j,k} \times X_{i,j,k}^{<1>} +\beta_{i,j,k}</script>。



4. `instance normalization` 的反向传播规则的推导类似`layer normalization` 。

5. `BN` 对`mini batch` 中所有图片求均值和方差，计算得到的统计量会受到`mini batch` 中其它样本的影响。而`IN` 是对单个图片求均值和方差，与其它样本无关。

    * 对于`GAN`、风格迁移这类任务上，`IN` 效果要优于`BN` 。其普遍解释为：这类生成式方法，每张图片自己的风格比较独立，不应该与`batch` 中其它图片产生太大联系。
    * `IN` 也不依赖于`batch size`，也不依赖于网络深度。因此它适合在线学习，也适合于`RNN` 网络。


#### 10.2.3 group normalization

1. `GN` 首先将通道分组。假设有`C` 个通道，分成`G` 个组，则：通道`1,...,C/G` 为一个组，通道`C/G+1,...,2C/G` 为一个组.... 。

然后`GN` 对每个通道组进行归一化。

因此可以看到：`GN` 介于`LN` 和`IN` 之间。如果`G=1`，即只有一个分组，则`GN` 就是`LN` ；如果`G=C`，即每个通道构成一个组，则`GN` 就是`IN` 。

2. `group normalization` 算法

    * 输入：

        * 网络第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-526-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 298 858.4" width="0.692ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" id="E527-MJMATHI-6C" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E527-MJMATHI-6C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-526" type="math/tex">l</script>层的输入张量为<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1583-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1007.2 10256.6 1361" width="23.822ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E1729-MJMAINB-58" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1729-MJMAIN-3D" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1729-MJMAIN-28" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E1729-MJMATHI-58" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1729-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1729-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1729-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1729-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1729-MJMAIN-29" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E1729-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E1729-MJAMS-52" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" id="E1729-MJMATHI-43" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1729-MJMAIN-D7" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E1729-MJMATHI-48" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E1729-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1729-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1146" xlink:href="#E1729-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2202" xlink:href="#E1729-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2591,0)"><use x="0" xlink:href="#E1729-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1729-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1729-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1729-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1729-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1729-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="4816" xlink:href="#E1729-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5483" xlink:href="#E1729-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6427,0)"><use x="0" xlink:href="#E1729-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(722,409)"><use transform="scale(0.707)" x="0" xlink:href="#E1729-MJMATHI-43" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="760" xlink:href="#E1729-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1537" xlink:href="#E1729-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2426" xlink:href="#E1729-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3204" xlink:href="#E1729-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1583" type="math/tex">\mathbf X =(X_{i,j,k}) \in \mathbb R^{ C\times H\times W}</script>
        * 分组的组数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1674-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.11ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -806.1 786 908.7" width="1.826ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z" id="E1820-MJMATHI-47" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1820-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-1674" type="math/tex">G</script>
        * 参数张量<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1677-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.161ex" role="img" style="vertical-align: -0.822ex;" viewbox="0 -1007.2 10947.9 1361" width="25.427ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E1823-MJMAIN-28" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1823-MJMATHI-3B3" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1823-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1823-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1823-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1823-MJMATHI-6B" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E1823-MJMAIN-29" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1823-MJMATHI-3B2" stroke-width="0"></path><path d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" id="E1823-MJMAIN-2208" stroke-width="0"></path><path d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" id="E1823-MJAMS-52" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z" id="E1823-MJMATHI-47" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1823-MJMAIN-D7" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E1823-MJMATHI-48" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E1823-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1823-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(389,0)"><use x="0" xlink:href="#E1823-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(518,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1823-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1823-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1823-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1823-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1823-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="2303" xlink:href="#E1823-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2692" xlink:href="#E1823-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3137" xlink:href="#E1823-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3526,0)"><use x="0" xlink:href="#E1823-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(566,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1823-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1823-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1823-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1823-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1823-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5489" xlink:href="#E1823-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6156" xlink:href="#E1823-MJMAIN-2208" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7100,0)"><use x="0" xlink:href="#E1823-MJAMS-52" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(722,409)"><use transform="scale(0.707)" x="0" xlink:href="#E1823-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="786" xlink:href="#E1823-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1564" xlink:href="#E1823-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2452" xlink:href="#E1823-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3230" xlink:href="#E1823-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1677" type="math/tex">(\gamma_{i,j,k}),(\beta_{i,j,k})\in \mathbb R^{G\times H\times W}</script>

    * 输出：经过`group normalization` 得到的新的输入<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1585-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="2.344ex" role="img" style="vertical-align: -0.121ex;" viewbox="0 -956.9 2422.8 1009.2" width="5.627ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327Z" id="E1731-MJMAINB-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1731-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1731-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1731-MJMAIN-3E" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1731-MJMAINB-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(869,412)"><use transform="scale(0.707)" x="0" xlink:href="#E1731-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1731-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1731-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></svg></span><script id="MathJax-Element-1585" type="math/tex">\mathbf X^{<2>}</script>

    * 算法步骤：

        * 计算每个分组的通道数<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1687-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.511ex" role="img" style="vertical-align: -1.172ex;" viewbox="0 -1007.2 3505.1 1511.8" width="8.141ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E1844-MJMATHI-6E" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z" id="E1844-MJMATHI-47" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1844-MJMAIN-3D" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z" id="E1844-MJMATHI-43" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1844-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E1844-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use><use x="1533" xlink:href="#E1844-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2311,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="675" x="0" y="220"></rect><use transform="scale(0.707)" x="97" xlink:href="#E1844-MJMATHI-43" xmlns:xlink="http://www.w3.org/1999/xlink" y="593"></use><use transform="scale(0.707)" x="84" xlink:href="#E1844-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-570"></use></g></g></g></svg></span><script id="MathJax-Element-1687" type="math/tex">n_G =\frac{C}{G}</script>

        * 计算样本在第<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-529-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="1.994ex" role="img" style="vertical-align: -0.238ex;" viewbox="0 -755.9 345 858.4" width="0.801ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E530-MJMATHI-69" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E530-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></svg></span><script id="MathJax-Element-529" type="math/tex">i</script>个分组的神经元的均值和方差：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1921-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="16.118ex" role="img" style="vertical-align: -11.911ex;" viewbox="0 -1811.3 35684 6939.8" width="82.879ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2088-MJMATHI-3BC" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2088-MJMATHI-69" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2088-MJMAIN-3D" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2088-MJMAIN-31" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2088-MJMATHI-6E" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z" id="E2088-MJMATHI-47" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E2088-MJMAIN-D7" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2088-MJMATHI-48" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E2088-MJMATHI-57" stroke-width="0"></path><path d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" id="E2088-MJSZ2-2211" stroke-width="0"></path><path d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" id="E2088-MJMAIN-2032" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2088-MJMAIN-28" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2088-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2088-MJMAIN-29" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2088-MJMAIN-2217" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2088-MJMAIN-2B" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2088-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2088-MJMATHI-6B" stroke-width="0"></path><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2088-MJMATHI-58" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2088-MJMAIN-2C" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2088-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2088-MJMAIN-32" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(8286,0)"><use x="0" xlink:href="#E2088-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use><use x="1224" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2002,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="5756" x="0" y="220"></rect><use x="2628" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-686)"><use x="0" xlink:href="#E2088-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E2088-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use><use x="1478" xlink:href="#E2088-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2478" xlink:href="#E2088-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3588" xlink:href="#E2088-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4588" xlink:href="#E2088-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(8443,0)"><use x="1700" xlink:href="#E2088-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1172)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="487" xlink:href="#E2088-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="548"></use><use transform="scale(0.707)" x="639" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1417" xlink:href="#E2088-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1806" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2151" xlink:href="#E2088-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2929" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3429" xlink:href="#E2088-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3818" xlink:href="#E2088-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3053,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="848" xlink:href="#E2088-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g><use transform="scale(0.707)" x="5574" xlink:href="#E2088-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6352" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1679,1181)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2088-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(597,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="848" xlink:href="#E2088-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g></g></g><g transform="translate(13455,0)"><use x="0" xlink:href="#E2088-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2088-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(15066,0)"><use x="0" xlink:href="#E2088-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(85,-1108)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="497" xlink:href="#E2088-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(16677,0)"><use x="0" xlink:href="#E2088-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-210)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="487" xlink:href="#E2088-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="548"></use><use transform="scale(0.707)" x="639" xlink:href="#E2088-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="917" xlink:href="#E2088-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1329" xlink:href="#E2088-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1607" xlink:href="#E2088-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(6630,-3627)"><use x="0" xlink:href="#E2088-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2088-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use><use x="1303" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2081,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="5756" x="0" y="220"></rect><use x="2628" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="676"></use><g transform="translate(60,-686)"><use x="0" xlink:href="#E2088-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E2088-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use><use x="1478" xlink:href="#E2088-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2478" xlink:href="#E2088-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="3588" xlink:href="#E2088-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4588" xlink:href="#E2088-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g><g transform="translate(8522,0)"><use x="1700" xlink:href="#E2088-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(0,-1172)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="487" xlink:href="#E2088-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="548"></use><use transform="scale(0.707)" x="639" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1417" xlink:href="#E2088-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1806" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2151" xlink:href="#E2088-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2929" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3429" xlink:href="#E2088-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="3818" xlink:href="#E2088-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3053,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="848" xlink:href="#E2088-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g><use transform="scale(0.707)" x="5574" xlink:href="#E2088-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6352" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(1679,1181)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E2088-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(597,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="848" xlink:href="#E2088-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g></g></g><g transform="translate(13534,0)"><use x="0" xlink:href="#E2088-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(124,-1088)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="412" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1189" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="577" xlink:href="#E2088-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><g transform="translate(15145,0)"><use x="0" xlink:href="#E2088-MJSZ2-2211" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(85,-1108)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="521" xlink:href="#E2088-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1299" xlink:href="#E2088-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use transform="scale(0.707)" x="497" xlink:href="#E2088-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="1626"></use></g><use x="16589" xlink:href="#E2088-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(16978,0)"><use x="0" xlink:href="#E2088-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-210)"><use transform="scale(0.707)" x="0" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="487" xlink:href="#E2088-MJMAIN-2032" xmlns:xlink="http://www.w3.org/1999/xlink" y="548"></use><use transform="scale(0.707)" x="639" xlink:href="#E2088-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="917" xlink:href="#E2088-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1329" xlink:href="#E2088-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1607" xlink:href="#E2088-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="19633" xlink:href="#E2088-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(20633,0)"><use x="0" xlink:href="#E2088-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2088-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g><g transform="translate(21580,0)"><use x="0" xlink:href="#E2088-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="550" xlink:href="#E2088-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="583"></use></g></g></g></svg></span></span><script id="MathJax-Element-1921" type="math/tex; mode=display">\mu_{i} = \frac {1}{n_G\times H\times W} \sum_{i^\prime=(i-1)*n_G+1}^{i*n_G}\sum_{j=1}^H\sum_{k=1}^W X_{i^\prime,j,k}\\ \sigma^{2}_{i} = \frac {1}{n_G\times H\times W} \sum_{i^\prime=(i-1)*n_G+1}^{i*n_G} \sum_{j=1}^H\sum_{k=1}^W(X_{i^\prime,j,k}-\mu_{i})^2</script>
        * 对神经元进行归一化：
<span class="MathJax_Preview"></span><span class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1922-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="11.216ex" role="img" style="vertical-align: -7.475ex;" viewbox="0 -1610.3 35684 4828.9" width="82.879ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E2089-MJMATHI-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E2089-MJMAIN-3C" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E2089-MJMAIN-31" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E2089-MJMAIN-3E" stroke-width="0"></path><path d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" id="E2089-MJMAIN-28" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E2089-MJMATHI-69" stroke-width="0"></path><path d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" id="E2089-MJMAIN-2212" stroke-width="0"></path><path d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" id="E2089-MJMAIN-29" stroke-width="0"></path><path d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z" id="E2089-MJMAIN-2217" stroke-width="0"></path><path d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" id="E2089-MJMATHI-6E" stroke-width="0"></path><path d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z" id="E2089-MJMATHI-47" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E2089-MJMAIN-2B" stroke-width="0"></path><path d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z" id="E2089-MJMATHI-67" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E2089-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E2089-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E2089-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E2089-MJMAIN-3D" stroke-width="0"></path><path d="M58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216Z" id="E2089-MJMATHI-3BC" stroke-width="0"></path><path d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z" id="E2089-MJMATHI-3C3" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E2089-MJMAIN-32" stroke-width="0"></path><path d="M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z" id="E2089-MJMATHI-3F5" stroke-width="0"></path><path d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z" id="E2089-MJSZ2-221A" stroke-width="0"></path><path d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250Z" id="E2089-MJMAIN-22EF" stroke-width="0"></path><path d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z" id="E2089-MJMATHI-48" stroke-width="0"></path><path d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z" id="E2089-MJMAIN-3B" stroke-width="0"></path><path d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z" id="E2089-MJMATHI-57" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(10100,0)"><use x="0" xlink:href="#E2089-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E2089-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E2089-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-366)"><use transform="scale(0.707)" x="0" xlink:href="#E2089-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E2089-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="733" xlink:href="#E2089-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1512" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2012" xlink:href="#E2089-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2401" xlink:href="#E2089-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2051,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2089-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="848" xlink:href="#E2089-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g><use transform="scale(0.707)" x="4156" xlink:href="#E2089-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4934" xlink:href="#E2089-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5414" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5692" xlink:href="#E2089-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6104" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6382" xlink:href="#E2089-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="6087" xlink:href="#E2089-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6865,0)"><g transform="translate(397,0)"><rect height="60" stroke="none" width="8099" x="0" y="220"></rect><g transform="translate(60,828)"><use x="0" xlink:href="#E2089-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(828,-186)"><use transform="scale(0.707)" x="0" xlink:href="#E2089-MJMAIN-28" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="389" xlink:href="#E2089-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="733" xlink:href="#E2089-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1512" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2012" xlink:href="#E2089-MJMAIN-29" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="2401" xlink:href="#E2089-MJMAIN-2217" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(2051,0)"><use transform="scale(0.707)" x="0" xlink:href="#E2089-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.5)" x="848" xlink:href="#E2089-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g><use transform="scale(0.707)" x="4156" xlink:href="#E2089-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="4934" xlink:href="#E2089-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5414" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="5692" xlink:href="#E2089-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6104" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="6382" xlink:href="#E2089-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="6031" xlink:href="#E2089-MJMAIN-2212" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(7032,0)"><use x="0" xlink:href="#E2089-MJMATHI-3BC" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="852" xlink:href="#E2089-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-213"></use></g></g><g transform="translate(2222,-1201)"><use x="0" xlink:href="#E2089-MJSZ2-221A" xmlns:xlink="http://www.w3.org/1999/xlink" y="24"></use><rect height="60" stroke="none" width="2654" x="1000" y="1114"></rect><g transform="translate(1000,0)"><use x="0" xlink:href="#E2089-MJMATHI-3C3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="809" xlink:href="#E2089-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="487"></use><use transform="scale(0.707)" x="807" xlink:href="#E2089-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="-429"></use><use x="1248" xlink:href="#E2089-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2248" xlink:href="#E2089-MJMATHI-3F5" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></g></g><g transform="translate(6184,-2962)"><use x="0" xlink:href="#E2089-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="689" xlink:href="#E2089-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="1745" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2245" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="2690" xlink:href="#E2089-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4028" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="4473" xlink:href="#E2089-MJMATHI-48" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5361" xlink:href="#E2089-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="5806" xlink:href="#E2089-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="6605" xlink:href="#E2089-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="7660" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8160" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="8605" xlink:href="#E2089-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="9944" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="10388" xlink:href="#E2089-MJMATHI-57" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11436" xlink:href="#E2089-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="11881" xlink:href="#E2089-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="12504" xlink:href="#E2089-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="13559" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14059" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="14504" xlink:href="#E2089-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="15843" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="16287" xlink:href="#E2089-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17073" xlink:href="#E2089-MJMAIN-3B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="17518" xlink:href="#E2089-MJMATHI-67" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="18276" xlink:href="#E2089-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19332" xlink:href="#E2089-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="19832" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="20276" xlink:href="#E2089-MJMAIN-22EF" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use x="21615" xlink:href="#E2089-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(22060,0)"><use x="0" xlink:href="#E2089-MJMATHI-6E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="848" xlink:href="#E2089-MJMATHI-47" xmlns:xlink="http://www.w3.org/1999/xlink" y="-218"></use></g></g></g></svg></span></span><script id="MathJax-Element-1922" type="math/tex; mode=display">X_{(i-1)*n_G+g,j,k}^{<1>} = \frac{X_{(i-1)*n_G+g,j,k}-\mu_{i}}{\sqrt{\sigma_{i}^2+\epsilon}}\\ j=1,\cdots,H;k=1,\cdots,W;i=1,\cdots,G;g=1,\cdots,n_G</script>
        * 执行缩放：<span class="MathJax_Preview"></span><span class="MathJax_SVG" id="MathJax-Element-1586-Frame" style="font-size: 100%; display: inline-block;" tabindex="-1"><svg focusable="false" height="3.395ex" role="img" style="vertical-align: -1.289ex;" viewbox="0 -906.7 12482.2 1461.5" width="28.991ex" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z" id="E1732-MJMATHI-58" stroke-width="0"></path><path d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z" id="E1732-MJMAIN-3C" stroke-width="0"></path><path d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" id="E1732-MJMAIN-32" stroke-width="0"></path><path d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" id="E1732-MJMAIN-3E" stroke-width="0"></path><path d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" id="E1732-MJMATHI-69" stroke-width="0"></path><path d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" id="E1732-MJMAIN-2C" stroke-width="0"></path><path d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" id="E1732-MJMATHI-6A" stroke-width="0"></path><path d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" id="E1732-MJMATHI-6B" stroke-width="0"></path><path d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" id="E1732-MJMAIN-3D" stroke-width="0"></path><path d="M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z" id="E1732-MJMATHI-3B3" stroke-width="0"></path><path d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" id="E1732-MJMAIN-D7" stroke-width="0"></path><path d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" id="E1732-MJMAIN-31" stroke-width="0"></path><path d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" id="E1732-MJMAIN-2B" stroke-width="0"></path><path d="M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z" id="E1732-MJMATHI-3B2" stroke-width="0"></path></defs><g fill="currentColor" stroke="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use x="0" xlink:href="#E1732-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1732-MJMAIN-32" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1732-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><use x="2690" xlink:href="#E1732-MJMAIN-3D" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(3746,0)"><use x="0" xlink:href="#E1732-MJMATHI-3B3" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(518,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="5883" xlink:href="#E1732-MJMAIN-D7" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(6883,0)"><use x="0" xlink:href="#E1732-MJMATHI-58" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(859,372)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMAIN-3C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="778" xlink:href="#E1732-MJMAIN-31" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1278" xlink:href="#E1732-MJMAIN-3E" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g><g transform="translate(828,-327)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g><use x="9519" xlink:href="#E1732-MJMAIN-2B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(10519,0)"><use x="0" xlink:href="#E1732-MJMATHI-3B2" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><g transform="translate(566,-150)"><use transform="scale(0.707)" x="0" xlink:href="#E1732-MJMATHI-69" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="345" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="623" xlink:href="#E1732-MJMATHI-6A" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1035" xlink:href="#E1732-MJMAIN-2C" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use><use transform="scale(0.707)" x="1313" xlink:href="#E1732-MJMATHI-6B" xmlns:xlink="http://www.w3.org/1999/xlink" y="0"></use></g></g></g></svg></span><script id="MathJax-Element-1586" type="math/tex">X_{i,j,k}^{<2>} =\gamma_{i,j,k} \times X_{i,j,k}^{<1>} +\beta_{i,j,k}</script>。



3. `GN` 有效的可能原因是：在网络的每一层中，多个卷积核学到的特征并不是完全独立的。某些特征具有类似的分布，因此可以被分到同一组。


#### 10.2.4 比较

1. 根据论文`《Group Normalization》 Kaiming He etc.` 得到的结论：

    * `BN` 很容易受到`batch size` 的影响，而`GN` 不容易受到`batch size` 的影响。

    如下图/表 所示为`BN` 和`GN` 的比较，模型为`resnet-50`、训练集为`ImageNet`、训练硬件为8个带`GPU` 的 `worker` 、指标为它们在验证集上的验证误差。
<figure><table><thead><tr><th style="text-align:center;">batch size</th><th style="text-align:center;">32</th><th style="text-align:center;">16</th><th style="text-align:center;">8</th><th style="text-align:center;">4</th><th style="text-align:center;">2</th></tr></thead><tbody><tr><td style="text-align:center;">BN</td><td style="text-align:center;">23.6</td><td style="text-align:center;">23.7</td><td style="text-align:center;">24.8</td><td style="text-align:center;">27.3</td><td style="text-align:center;">34.7</td></tr><tr><td style="text-align:center;">GN</td><td style="text-align:center;">24.1</td><td style="text-align:center;">24.2</td><td style="text-align:center;">24.0</td><td style="text-align:center;">24.2</td><td style="text-align:center;">24.1</td></tr><tr><td style="text-align:center;">提升</td><td style="text-align:center;">0.5</td><td style="text-align:center;">0.5</td><td style="text-align:center;">-0.8</td><td style="text-align:center;">-3.1</td><td style="text-align:center;">-10.6</td></tr></tbody></table></figure>
    ![](../imgs/dl_optimization/gn_bn.png)

    * 在较大的`batch size` 上，`BN` 的表现效果最好。

    `resnet-50` 模型在`ImageNet` 训练中，当采用`batch size=32` 时，采取各种`normalization` 的模型的表现（验证误差）为：
<figure><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">BN</th><th style="text-align:center;">LN</th><th style="text-align:center;">IN</th><th style="text-align:center;">GN</th></tr></thead><tbody><tr><td style="text-align:center;">验证误差</td><td style="text-align:center;">23.6</td><td style="text-align:center;">25.3</td><td style="text-align:center;">28.4</td><td style="text-align:center;">24.1</td></tr><tr><td style="text-align:center;">相比 BN 的提升</td><td style="text-align:center;">-</td><td style="text-align:center;">-1.7</td><td style="text-align:center;">-4.8</td><td style="text-align:center;">-0.5</td></tr></tbody></table></figure>
    下图为这些模型在各个`epoch` 事训练、验证的表现：

    ![](../imgs/dl_optimization/all_normalization.png)






</body>